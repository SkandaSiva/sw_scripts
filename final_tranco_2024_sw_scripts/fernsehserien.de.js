const SW_VERSION=35,CACHE="fs-service-worker-35",OFFLINE_FALLBACK_PAGE="test.fernsehserien.de"==self.location.hostname?"https://test.fernsehserien.de/static/offline.html":"https://bilder.fernsehserien.de/fernsehserien.de/fs-2021/offline.html",PRECACHE_URLS=[OFFLINE_FALLBACK_PAGE];function fromCache(e){return caches.open(CACHE).then(function(t){return t.match(e).then(function(n){return n&&404!==n.status?n:"document"!==e.destination||"navigate"!==e.mode?Promise.reject("no-match"):t.match(OFFLINE_FALLBACK_PAGE)})})}function updateCache(e,t){return caches.open(CACHE).then(function(n){return n.put(e,t)})}self.addEventListener("install",function(e){e.waitUntil(caches.open(CACHE).then(function(e){return e.addAll(PRECACHE_URLS)}))}),self.addEventListener("activate",function(e){var t=[CACHE];e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if(!t.includes(e))return caches.delete(e)}))))}),self.addEventListener("fetch",function(e){"GET"===e.request.method&&"navigate"===e.request.mode&&e.respondWith(fetch(e.request).then(function(t){return e.waitUntil(updateCache(e.request,t.clone())),t}).catch(function(t){return fromCache(e.request)}))});