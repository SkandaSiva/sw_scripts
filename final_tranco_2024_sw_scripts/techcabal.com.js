const swFuncObj={version:"tc-v1.1.4:",themePath:"/wp-content/themes/tc2.0/"};-1!=location.origin.indexOf("zikoko")&&(swFuncObj.version="zkk-v1.1.4:",swFuncObj.themePath="/wp-content/themes/zkk2.0/"),swFuncObj.offlineAssets=["./",swFuncObj.themePath+"offline.html",swFuncObj.themePath+"style.css",swFuncObj.themePath+"js/main.min.js"],-1!=location.origin.indexOf("zikoko")?swFuncObj.offlineAssets.push(swFuncObj.themePath+"img/5fa4dbc6c526e2059e38ad72.jpg"):(swFuncObj.offlineAssets.push(swFuncObj.themePath+"images/tc-storm-trooper.png"),swFuncObj.offlineAssets.push(swFuncObj.themePath+"images/tc-storm-trooper@2x.png")),swFuncObj.updateStaticCache=function(){return caches.open(swFuncObj.version+"assets").then(function(e){return Promise.all(swFuncObj.offlineAssets.map(function(t){var n=new Request(t);return new URL(n.url).origin!=location.origin&&(n=new Request(t,{mode:"no-cors"})),fetch(n).then(function(t){var s=t.clone();return e.put(n,s)})}))})},swFuncObj.clearOldCaches=function(){return caches.keys().then(function(e){return Promise.all(e.filter(function(e){return 0!=e.indexOf(swFuncObj.version)}).map(function(e){return caches.delete(e)}))})},swFuncObj.limitCache=function(e,t){e.keys().then(function(n){n.length>t&&e.delete(n[0])})},swFuncObj.trimCache=function(e,t){caches.open(e).then(function(n){n.keys().then(function(s){s.length>t&&n.delete(s[0]).then(swFuncObj.trimCache(e,t))})})},self.addEventListener("install",function(e){e.waitUntil(swFuncObj.updateStaticCache().then(function(){return self.skipWaiting()}))}),self.addEventListener("activate",function(e){e.waitUntil(swFuncObj.clearOldCaches().then(function(){return self.clients.claim()}))}),self.addEventListener("message",function(e){"trimCache"==e.data.command&&(swFuncObj.trimCache(swFuncObj.version+"pages",20),swFuncObj.trimCache(swFuncObj.version+"images",80),swFuncObj.trimCache(swFuncObj.version+"assets",20))}),self.addEventListener("fetch",function(e){var t=function(t){var n=t.clone();return-1!=e.request.headers.get("Accept").indexOf("text/html")?caches.open(swFuncObj.version+"pages").then(function(t){t.put(e.request,n).then(function(){swFuncObj.limitCache(t,20)})}):-1!=e.request.headers.get("Accept").indexOf("image")?caches.open(swFuncObj.version+"images").then(function(t){t.put(e.request,n).then(function(){swFuncObj.limitCache(t,80)})}):caches.open(swFuncObj.version+"assets").then(function(t){t.put(e.request,n)}),t},n=function(){if(-1!=e.request.headers.get("Accept").indexOf("text/html"))return caches.match(e.request).then(function(e){return console.log(swFuncObj.themePath+"offline.html"),e||caches.match(swFuncObj.themePath+"offline.html")})};e.request.url.match(/wp-admin/)||e.request.url.match(/preview=true/)||"GET"==e.request.method&&(-1==e.request.headers.get("Accept").indexOf("text/html")?e.respondWith(caches.match(e.request).then(function(s){return s||fetch(e.request).then(t,n)})):e.respondWith(fetch(e.request).then(t,n)))});