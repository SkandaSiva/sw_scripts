'use strict'; // ES6

/* Three Rings' Service Worker */

const VERSION   = 'v1.2.1';
const CACHE     = `threerings-${VERSION}-assets`;
const MAX_CACHE = 250;

// Store the specified request/response pair in the cache
function cacheStore(request, response) {
  caches.open(CACHE).then(cache => cache.put(request, response));
}

// Limit the number of items in a specified cache.
function cacheTrim(maxItems) {
  caches.open(CACHE).then(cache => {
    cache.keys().then(keys => {
      if (keys.length > maxItems) {
        cache.delete(keys[0]).then(cacheTrim(maxItems));
      }
    });
  });
}

function cacheClearOldVersions() {
  return caches.keys().then(keys => {
    return Promise.all(keys.filter(key => key.indexOf(VERSION) !== 0).map(key => caches.delete(key)));
  });
}

self.addEventListener('install', event => {
  // on-install instructions: none needed
});

self.addEventListener('activate', event => {
  event.waitUntil(cacheClearOldVersions().then(() => self.clients.claim()));
});

// Message types understood
// * cacheTrim - trims the cache by removing old versions
self.addEventListener('message', event => {
  if (event.data.command == 'cacheTrim') {
    cacheTrim(MAX_CACHE);
  }
});

self.fromServer = (request) => {
  return fetch(request).then(function(response){ return response});
}

self.addEventListener('fetch', event => {
  let request = event.request;
  let url = new URL(request.url);

  // We intercept requests only if they use the GET method
  if(request.method !== 'GET'){ event.respondWith(fromServer(request)); return; }

  // We intercept requests only if they are for our own domain and NOT for a.3r.org.uk
  if(!url.host.match(/3r\.org\.uk$/)) return;
  if(url.host.match(/^a\.3r\.org\.uk$/)) return;

  // Autopop is a monster that eats people. Service Worker is a warrior that fights monsters. The two don't play nicely.
  if(url.pathname.match(/^\/rota\/auto_run/)) return;

  // TODO: capture Metal calls, handle using anticipated data?
  if(url.pathname.match(/^\/(theme\/|images\/|charts\/|fonts\/|gauges\/|stylesheets\/|jquery.webcam\/|offline$|\/images\/offline.png$)/)) {
    // Certain special URLs are served from the cache by preference
    event.respondWith(caches.match(request).then(response => {
      // Attempt to load from cache, failing that, make fetch request
      return response || fetch(request).then(response => {
        // Found via fetch request: store a copy in the cache and then return the original
        let copy = response.clone();
        cacheStore(request, copy);
        return response;
      }).catch(() => {
        return offlinePage(url);
      });
    }));    
  } else if(url.pathname.match(/^\/(assets\/|auth$|difficulty_logging_in$|contact_support$|upgrade_tls$|privacy$|api$)/)) {
    // Some less-special URLs are eligible for caching, but we prefer the networked version
    event.respondWith(fetch(request).then(response => {
      // Found via fetch request: store a copy in the cache and then return the original
      let copy = response.clone();
      cacheStore(request, copy);
      return response;
    }).catch(() => {
      // Try cache, failing that use offline page
      return caches.match(request).then(response => response || offlinePage(url));
    }));
  } else {
    // Other URLs are only ever served from the network: we display an offline page otherwise
    event.respondWith(fetch(request).then(response => {
      // Found via fetch request
      return response;
    }).catch(() => {
      // Use offline page
      return offlinePage(url);
    }));
  }
});

// Given a URL, provides an appropriate offline page depending on the format
function offlinePage(url){
  let body, contentType;
  if(url.pathname.match(/^\/images\//) || url.pathname.match(/\.(png|jpg|gif|svg)(\?.*)?(#.*)?$/)) {
    // Image requested: return offline image
    contentType = 'image/svg+xml';
    body = `<?xml version="1.0" encoding="UTF-8" standalone="no"?>
      <svg
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:cc="http://creativecommons.org/ns#"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns="http://www.w3.org/2000/svg"
         xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
         xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
         version="1.1"
         width="300"
         height="200"
         id="svg2"
         xml:space="preserve"
         inkscape:version="0.91 r13725"
         sodipodi:docname="offline.svg"><sodipodi:namedview
           pagecolor="#ffffff"
           bordercolor="#666666"
           borderopacity="1"
           objecttolerance="10"
           gridtolerance="10"
           guidetolerance="10"
           inkscape:pageopacity="0"
           inkscape:pageshadow="2"
           inkscape:window-width="1282"
           inkscape:window-height="899"
           id="namedview47"
           showgrid="false"
           inkscape:zoom="2.4301875"
           inkscape:cx="168.05077"
           inkscape:cy="83.011985"
           inkscape:window-x="2012"
           inkscape:window-y="14"
           inkscape:window-maximized="0"
           inkscape:current-layer="svg2" /><metadata
           id="metadata8"><rdf:RDF><cc:Work
               rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
                 rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs
           id="defs6"><filter
             style="color-interpolation-filters:sRGB"
             inkscape:label="Blur"
             id="filter4280"><feGaussianBlur
               stdDeviation="6 6"
               result="fbSourceGraphic"
               id="feGaussianBlur4282" /><feColorMatrix
               result="fbSourceGraphicAlpha"
               in="fbSourceGraphic"
               values="0 0 0 -1 0 0 0 0 -1 0 0 0 0 -1 0 0 0 0 1 0"
               id="feColorMatrix4284" /><feGaussianBlur
               id="feGaussianBlur4286"
               stdDeviation="6 6"
               result="fbSourceGraphic"
               in="fbSourceGraphic" /><feColorMatrix
               result="fbSourceGraphicAlpha"
               in="fbSourceGraphic"
               values="0 0 0 -1 0 0 0 0 -1 0 0 0 0 -1 0 0 0 0 1 0"
               id="feColorMatrix4288" /><feGaussianBlur
               id="feGaussianBlur4290"
               stdDeviation="6 6"
               result="blur"
               in="fbSourceGraphic" /></filter></defs><g
           id="g4215"
           style="filter:url(#filter4280)"
           transform="translate(58.327529,8.9979297)"><path
             style="fill:#42b23c;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path14"
             inkscape:connector-curvature="0"
             d="m 2.2492603,93.940881 c 1.6245086,49.400999 42.9873087,88.133859 92.3876837,86.509859 0.0015,0 0.002,0 0.0025,0 l -0.711,-21.63724 c 0,0 -0.002,0.001 -0.0029,0.001 -8.88675,0.2925 -17.42875,-1.1425 -25.309125,-3.99512 -0.0039,-0.001 -0.0078,-0.002 -0.01175,-0.005 -0.491125,-0.17625 -0.979,-0.35887 -1.46475,-0.54737 -0.203125,-0.0786 -0.405875,-0.16112 -0.6085,-0.24263 -0.283625,-0.11475 -0.567375,-0.2275 -0.849625,-0.34225 -0.364625,-0.15137 -0.725,-0.30912 -1.085375,-0.46387 -0.118125,-0.0523 -0.237375,-0.10263 -0.3535,-0.15388 -7.514625,-3.32125 -14.25925,-7.94875 -19.99025,-13.5635 -0.05563,-0.0536 -0.111375,-0.10787 -0.1665,-0.16162 -0.294,-0.29 -0.583,-0.5835 -0.872125,-0.87738 -0.11325,-0.11625 -0.2275,-0.23337 -0.34125,-0.35012 -0.226125,-0.23338 -0.44975,-0.47113 -0.672375,-0.71 -0.169875,-0.18213 -0.34175,-0.36475 -0.51075,-0.54725 -0.161625,-0.17725 -0.32175,-0.3565 -0.4815,-0.53375 -0.2245,-0.25 -0.44825,-0.5015 -0.668375,-0.75488 -0.101625,-0.11525 -0.20175,-0.2315 -0.30125,-0.34762 -0.275,-0.32138 -0.547875,-0.64263 -0.8165,-0.96638 -0.04387,-0.0522 -0.08537,-0.105 -0.127875,-0.15475 -5.106,-6.20025 -9.13775,-13.32762 -11.799375,-21.10887 -0.038,-0.11 -0.07325,-0.22125 -0.11125,-0.3325 -0.12985,-0.38363 -0.25835,-0.76863 -0.37985,-1.15613 -0.087,-0.27625 -0.1705,-0.5525 -0.254875,-0.83 -0.067,-0.22375 -0.13775,-0.4475 -0.203125,-0.67375 -0.141125,-0.48375 -0.276375,-0.97125 -0.40775,-1.46125 -0.0054,-0.0187 -0.01025,-0.0375 -0.01563,-0.0563 -1.738245,-6.51495 -2.52437,-13.376199 -2.21387,-20.407449 0.297875,-7.03375 1.673375,-13.805 3.96825,-20.14625 0.0049,-0.015 0.01175,-0.0275 0.01713,-0.04375 0.173375,-0.48 0.352,-0.9575 0.536625,-1.4325 0.083,-0.215 0.170375,-0.4275 0.256375,-0.6425 0.108875,-0.27125 0.21575,-0.5425 0.329,-0.81375 0.154375,-0.375 0.315,-0.745 0.476625,-1.115 0.04638,-0.11 0.09225,-0.2175 0.141125,-0.32625 3.32075,-7.51625 7.94775,-14.26375 13.563875,-19.99625 0.05325,-0.05375 0.108,-0.11 0.161625,-0.165 0.290625,-0.29375 0.583125,-0.58375 0.8785,-0.8725 0.11575,-0.11375 0.230875,-0.2275 0.348125,-0.34 0.235375,-0.22625 0.472625,-0.45125 0.710875,-0.675 0.182125,-0.17 0.364375,-0.34 0.547875,-0.50875 0.175375,-0.16125 0.352625,-0.32 0.53075,-0.48 0.2515,-0.22625 0.504,-0.45 0.758875,-0.67375 0.11275,-0.0975 0.227,-0.195 0.33975,-0.2925 0.32375,-0.2775 0.6485,-0.5525 0.976125,-0.825 0.04838,-0.04 0.09763,-0.08 0.1485,-0.12125 6.20062,-5.10875 13.332495,-9.1425 21.11612,-11.80375 0.102625,-0.03625 0.205625,-0.06875 0.307625,-0.10375 0.392125,-0.13125 0.78425,-0.26375 1.17925,-0.3875 0.269,-0.085 0.542,-0.16625 0.8125,-0.24875 0.2295,-0.07 0.4595,-0.14125 0.689875,-0.20875 0.478,-0.13875 0.9585,-0.2725 1.44,-0.40125 0.02637,-0.0075 0.05225,-0.015 0.07912,-0.0225 6.512625,-1.7375 13.374,-2.52375 20.40375,-2.2125 7.036121,0.29625 13.806611,1.67375 20.149871,3.97 0.008,0.0012 0.0142,0.005 0.0215,0.0075 0.48788,0.17625 0.97213,0.35875 1.45513,0.54625 0.2065,0.08 0.40962,0.1625 0.61425,0.245 0.28274,0.1125 0.56487,0.225 0.84524,0.34 0.36375,0.1525 0.725,0.3075 1.08487,0.46375 0.11863,0.0525 0.23738,0.1025 0.355,0.155 7.51275,3.32 14.25738,7.945 19.98738,13.56 0.0563,0.05375 0.11376,0.11 0.16875,0.165 0.29375,0.28875 0.5825,0.58 0.87,0.87375 0.11625,0.1175 0.23,0.235 0.34375,0.3525 0.225,0.23375 0.44875,0.47 0.67125,0.7075 0.17125,0.18375 0.3425,0.365 0.5125,0.55 0.16,0.175 0.31875,0.35375 0.4775,0.53 0.22625,0.25 0.4525,0.50375 0.67375,0.76 0.0987,0.1125 0.19625,0.22625 0.29375,0.34 0.2775,0.3225 0.55375,0.64625 0.82375,0.97375 0.0412,0.05 0.0812,0.1 0.1225,0.15 5.1075,6.20125 9.14125,13.33125 11.80375,21.11625 0.0363,0.1025 0.0688,0.20625 0.10375,0.30875 0.13125,0.39125 0.2625,0.78375 0.3875,1.1775 0.085,0.2725 0.1675,0.545 0.25,0.81875 0.0687,0.2275 0.14125,0.455 0.20625,0.6825 0.14,0.48 0.27375,0.95875 0.4025,1.44125 0.007,0.02625 0.015,0.0525 0.0225,0.08 1.31,4.90875 2.08,10.01625 2.245,15.245 l 21.62626,-0.71 C 179.52119,38.659631 138.15869,-0.07036924 88.757569,1.5533807 39.357694,3.1771307 0.62523139,44.539631 2.2492603,93.940881" /><path
             style="fill:#96d54c;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path16"
             inkscape:connector-curvature="0"
             d="m 157.27369,73.527131 c -0.007,-0.0275 -0.015,-0.05375 -0.0225,-0.08 -0.12875,-0.4825 -0.2625,-0.96125 -0.4025,-1.44125 -0.0662,-0.22875 -0.13625,-0.455 -0.20625,-0.6825 -0.0825,-0.27375 -0.165,-0.54625 -0.25,-0.81875 -0.12625,-0.39375 -0.25625,-0.78625 -0.3875,-1.1775 -0.035,-0.1025 -0.0675,-0.20625 -0.10375,-0.30875 -2.6525,-7.72875 -6.67125,-14.875 -11.80375,-21.11625 -0.0413,-0.05 -0.0813,-0.1 -0.1225,-0.15 -0.27,-0.3275 -0.54625,-0.65125 -0.82375,-0.97375 -0.0975,-0.11375 -0.195,-0.2275 -0.29375,-0.34 -0.22125,-0.25625 -0.4475,-0.50875 -0.67375,-0.76 -0.15875,-0.17625 -0.3175,-0.355 -0.4775,-0.53 -0.16875,-0.185 -0.34125,-0.3675 -0.5125,-0.55 -0.2225,-0.2375 -0.44625,-0.47375 -0.67125,-0.7075 -0.11375,-0.1175 -0.2275,-0.235 -0.34375,-0.3525 -0.2875,-0.29375 -0.57625,-0.585 -0.87,-0.87375 -0.055,-0.055 -0.1125,-0.11125 -0.16875,-0.165 -5.73,-5.615 -12.47462,-10.24 -19.98737,-13.56 -0.11763,-0.0525 -0.23638,-0.1025 -0.355,-0.155 -0.35988,-0.15625 -0.72113,-0.31125 -1.08488,-0.46375 -0.28037,-0.115 -0.5625,-0.2275 -0.84525,-0.34 -0.20462,-0.0825 -0.40775,-0.165 -0.61425,-0.245 -0.483,-0.1875 -0.96725,-0.37 -1.45512,-0.54625 -0.007,-0.0025 -0.0136,-0.0063 -0.0215,-0.0075 -4.75238,-1.71375 -9.77338,-2.92125 -15.004876,-3.54875 -1.722125,-0.20625 -3.439,-0.34625 -5.145,-0.42125 -7.02975,-0.31125 -13.891125,0.475 -20.40375,2.2125 -0.02687,0.0075 -0.05275,0.015 -0.07912,0.0225 -0.4815,0.12875 -0.962,0.2625 -1.44,0.40125 -0.23,0.06875 -0.460375,0.13875 -0.689875,0.20875 -0.2705,0.0825 -0.5435,0.16375 -0.8125,0.24875 -0.394625,0.125 -0.787125,0.255 -1.17925,0.3875 -0.102,0.035 -0.205,0.0675 -0.307625,0.10375 -7.729,2.65125 -14.875,6.67125 -21.116125,11.80375 -0.05088,0.04125 -0.10013,0.08125 -0.148505,0.12125 -0.328625,0.27125 -0.652375,0.5475 -0.976125,0.825 -0.11275,0.0975 -0.227,0.195 -0.33975,0.2925 -0.254875,0.22375 -0.507875,0.44875 -0.758875,0.67375 -0.178125,0.16 -0.355375,0.31875 -0.53075,0.48 -0.1835,0.1675 -0.36575,0.33875 -0.547875,0.50875 -0.23825,0.22375 -0.4755,0.44875 -0.710875,0.675 -0.11725,0.1125 -0.232375,0.22625 -0.348125,0.34 -0.295375,0.28875 -0.587875,0.57875 -0.8785,0.8725 -0.05363,0.055 -0.108375,0.11125 -0.161625,0.165 -5.616125,5.7325 -10.243125,12.48 -13.563875,19.99625 -0.04887,0.10875 -0.09475,0.21625 -0.141125,0.32625 -0.161625,0.37 -0.32225,0.74 -0.476625,1.115 -0.11325,0.27125 -0.221125,0.5425 -0.329,0.81375 -0.086,0.215 -0.173375,0.4275 -0.256375,0.6425 -0.184625,0.475 -0.36375,0.9525 -0.536625,1.4325 -0.0054,0.01625 -0.01225,0.02875 -0.01713,0.04375 -1.712875,4.75125 -2.919875,9.77 -3.545875,15 -0.2065,1.72375 -0.34625,3.44 -0.422375,5.14625 -0.3105,7.03125 0.475625,13.892499 2.213875,20.407499 0.0054,0.0188 0.01025,0.0375 0.01563,0.0563 0.131375,0.49 0.266625,0.9775 0.40775,1.46125 0.06588,0.225 0.13575,0.45 0.203125,0.67375 0.08438,0.2775 0.167875,0.55375 0.254875,0.83 0.123,0.3875 0.25,0.7725 0.379875,1.15625 0.038,0.11125 0.07325,0.2225 0.11125,0.3325 2.650375,7.72513 6.6705,14.86863 11.799375,21.10888 0.0425,0.0497 0.084,0.1025 0.127875,0.15475 0.268625,0.32525 0.5415,0.645 0.8165,0.96637 0.0995,0.11613 0.199625,0.23238 0.30125,0.34763 0.220125,0.25487 0.443875,0.50487 0.668375,0.75487 0.15975,0.17725 0.319875,0.3565 0.4815,0.53375 0.169,0.1825 0.340875,0.36513 0.51075,0.54725 0.222625,0.23888 0.44625,0.47663 0.672375,0.71 0.11325,0.11675 0.228,0.23388 0.34125,0.35012 0.289125,0.29388 0.578125,0.58738 0.872125,0.87738 0.05513,0.0537 0.110875,0.108 0.1665,0.16163 5.731,5.61475 12.475625,10.24224 19.99025,13.5635 0.117625,0.0513 0.23575,0.10162 0.3535,0.15387 0.360375,0.15475 0.72075,0.3125 1.085375,0.46388 0.28225,0.11475 0.566,0.2275 0.849625,0.34225 0.202625,0.0815 0.405375,0.164 0.6085,0.24262 0.48575,0.1885 0.973625,0.37113 1.46475,0.54738 0.004,0.002 0.0079,0.004 0.01175,0.005 4.753375,1.71538 9.774375,2.92138 15.005875,3.54888 0,0 0.0015,0 0.0029,0 l 2.5865,-21.58888 c 0,0 -5e-4,0 -0.002,0 -10.4619,-1.25355 -19.676775,-5.92593 -26.678275,-12.75605 l -0.0054,0.006 c 0,0 -0.0014,-0.002 -0.0019,-0.003 -0.1485,-0.1445 -0.286625,-0.29637 -0.432625,-0.44287 -0.3355,-0.33538 -0.669,-0.67225 -0.994125,-1.018 -0.254375,-0.2715 -0.5,-0.54688 -0.747625,-0.82275 -0.23925,-0.26763 -0.4795,-0.53463 -0.711375,-0.80813 -0.30225,-0.352 -0.59375,-0.7105 -0.882875,-1.06987 -0.1625,-0.20213 -0.325125,-0.40275 -0.483375,-0.60588 -0.329625,-0.42437 -0.648375,-0.854 -0.962375,-1.28662 -0.107375,-0.14988 -0.215375,-0.29888 -0.32225,-0.45075 -0.337375,-0.478 -0.663625,-0.96138 -0.98,-1.44863 -0.07913,-0.12112 -0.15725,-0.24225 -0.233375,-0.36475 -0.32575,-0.50987 -0.639625,-1.0265 -0.942875,-1.5465 -0.06887,-0.11875 -0.13675,-0.2375 -0.204625,-0.35625 -0.294375,-0.51875 -0.579625,-1.04 -0.8525,-1.56625 -0.07625,-0.14625 -0.150875,-0.29375 -0.224625,-0.44 -0.2515,-0.49625 -0.494125,-0.99625 -0.726625,-1.5 -0.09275,-0.20125 -0.184,-0.405 -0.274875,-0.61 -0.19775,-0.4475 -0.391625,-0.89625 -0.57375,-1.34875 -0.11425,-0.2825 -0.224625,-0.565 -0.3335,-0.85 -0.1445,-0.3775 -0.286125,-0.755 -0.420875,-1.13625 -0.130375,-0.3725 -0.254875,-0.7475 -0.377375,-1.1225 -0.09725,-0.29875 -0.192,-0.59625 -0.28325,-0.8975 -0.138125,-0.4575 -0.2685,-0.92 -0.392625,-1.385 -0.06,-0.22375 -0.120125,-0.44875 -0.17625,-0.6725 -0.13325,-0.53 -0.25725,-1.06375 -0.3715,-1.59875 -0.03625,-0.16875 -0.07275,-0.3375 -0.1075,-0.5075 -0.11625,-0.573748 -0.22025,-1.151246 -0.315875,-1.732499 -0.023,-0.1425 -0.04537,-0.285 -0.06737,-0.4275 -0.08987,-0.58875 -0.1685,-1.18 -0.236375,-1.775 -0.0175,-0.15 -0.03225,-0.30125 -0.04875,-0.45125 -0.05762,-0.57125 -0.1085,-1.14625 -0.1465,-1.7225 -0.01225,-0.1925 -0.0225,-0.38375 -0.03275,-0.57625 -0.02833,-0.52588 -0.04883,-1.05213 -0.05858,-1.58338 -0.0049,-0.26625 -0.0049,-0.5325 -0.0049,-0.79875 -10e-4,-0.4525 5e-4,-0.9075 0.01363,-1.3625 0.01037,-0.36875 0.02987,-0.735 0.04787,-1.10125 0.01962,-0.36125 0.03612,-0.7225 0.064,-1.08625 0.03563,-0.48125 0.0845,-0.9625 0.13575,-1.4425 0.0215,-0.2 0.03275,-0.3975 0.05712,-0.5975 0.0074,-0.06375 0.0185,-0.125 0.02687,-0.18875 0.07025,-0.5725 0.15725,-1.14 0.2485,-1.71 0.02938,-0.185 0.05563,-0.37 0.0865,-0.555 0.106875,-0.61625 0.232375,-1.23125 0.365125,-1.845 0.02888,-0.13625 0.05325,-0.27375 0.084,-0.41125 0.1455,-0.6425 0.309125,-1.28375 0.4825,-1.9225 0.02725,-0.10125 0.04975,-0.205 0.07762,-0.305 0.1855,-0.66625 0.390125,-1.3275 0.605875,-1.985 0.0225,-0.06875 0.04063,-0.1375 0.063,-0.20375 0.228125,-0.685 0.473625,-1.365 0.735375,-2.04 0.01363,-0.035 0.02488,-0.07125 0.03863,-0.105 0.25,-0.64375 0.5205,-1.2825 0.80075,-1.91625 0.02638,-0.06125 0.04888,-0.1225 0.07612,-0.1825 0.129,-0.28375 0.2715,-0.56625 0.40625,-0.84875 0.84325,-1.78375 1.785625,-3.5075 2.837875,-5.15 0.02687,-0.04125 0.05625,-0.08125 0.08312,-0.1225 0.386625,-0.6 0.786625,-1.1925 1.199625,-1.7725 0.05325,-0.07375 0.111875,-0.14625 0.1655,-0.22125 0.396,-0.5475 0.798875,-1.08625 1.217375,-1.61375 0.081,-0.1025 0.1675,-0.2025 0.2505,-0.30375 0.398375,-0.495 0.803625,-0.98375 1.222625,-1.4625 0.119625,-0.13625 0.245625,-0.2675 0.36625,-0.4025 0.387625,-0.43375 0.77925,-0.86125 1.184,-1.27875 0.0445,-0.04625 0.0845,-0.09375 0.1275,-0.14 0.139125,-0.1425 0.285125,-0.2725 0.42425,-0.4125 0.34475,-0.345 0.69,-0.6875 1.045,-1.02 0.264125,-0.2475 0.532625,-0.48625 0.80075,-0.7275 0.273875,-0.24625 0.54875,-0.4925 0.83,-0.7325 0.34525,-0.295 0.696375,-0.58125 1.048375,-0.865 0.209,-0.1675 0.417,-0.33625 0.628875,-0.5 0.4175,-0.325 0.839875,-0.63875 1.26525,-0.94625 0.157625,-0.11375 0.314375,-0.2275 0.472625,-0.33875 0.47167,-0.3325 0.947795,-0.65375 1.42967,-0.9675 0.1275,-0.0825 0.254875,-0.16375 0.383875,-0.245 0.504375,-0.32125 1.012625,-0.63125 1.52725,-0.93125 0.125,-0.07125 0.251,-0.14375 0.3775,-0.215 0.51025,-0.29125 1.024375,-0.57375 1.544375,-0.8425 0.154375,-0.08 0.309125,-0.15875 0.463375,-0.2375 0.488375,-0.24625 0.9795,-0.485 1.476125,-0.7125 0.211,-0.09875 0.422875,-0.1925 0.63525,-0.2875 0.4395,-0.19375 0.879875,-0.38375 1.32525,-0.56375 0.289,-0.1175 0.582,-0.23125 0.874,-0.3425 0.369625,-0.1425 0.73975,-0.28 1.11175,-0.41125 0.379875,-0.13375 0.76275,-0.2625 1.1475,-0.3875 0.2895,-0.0925 0.580125,-0.18625 0.871625,-0.275 0.46775,-0.14 0.937,-0.2725 1.408625,-0.39875 0.216375,-0.05875 0.432125,-0.11625 0.649875,-0.17125 0.537125,-0.135 1.077625,-0.25875 1.620625,-0.37625 0.161625,-0.03375 0.32275,-0.0675 0.484875,-0.1025 0.580625,-0.11625 1.166,-0.22375 1.754375,-0.32 0.13525,-0.02125 0.27,-0.0425 0.404875,-0.06375 0.595625,-0.09125 1.19575,-0.17125 1.79825,-0.24 0.140625,-0.015 0.28325,-0.03 0.424875,-0.04625 0.5815,-0.05875 1.162625,-0.11 1.748,-0.1475 0.183125,-0.0125 0.36725,-0.02125 0.549375,-0.03125 0.535125,-0.02875 1.06975,-0.04875 1.608875,-0.05875 0.25725,-0.005 0.514625,-0.005 0.7715,-0.0063 0.463375,0 0.92575,0.0025 1.391125,0.01625 0.356875,0.0088 0.71375,0.02875 1.07075,0.04625 0.371125,0.0175 0.742125,0.03625 1.11375,0.06375 0.472125,0.035 0.943375,0.08375 1.414625,0.13375 0.206,0.02125 0.411125,0.0325 0.618125,0.0575 0.06587,0.0087 0.130875,0.02125 0.19625,0.02875 0.560125,0.06875 1.119125,0.15375 1.676745,0.245 0.19538,0.03 0.39113,0.0575 0.585,0.09 0.607876,0.10625 1.211876,0.22875 1.814876,0.36 0.146,0.03125 0.2945,0.05625 0.439,0.09 0.63238,0.1425 1.26225,0.30375 1.88775,0.47375 0.11425,0.02875 0.2285,0.055 0.33975,0.08625 0.65488,0.1825 1.30575,0.38375 1.95275,0.59625 0.0785,0.02375 0.15863,0.04625 0.23575,0.0725 0.667,0.2225 1.32813,0.46125 1.98738,0.71625 0.0513,0.01875 0.10587,0.03625 0.15762,0.0575 0.63088,0.245 1.2545,0.50875 1.8765,0.78375 0.0718,0.03375 0.147,0.06 0.21975,0.0925 0.268,0.12 0.53225,0.255 0.79837,0.38125 1.10788,0.52125 2.19626,1.075 3.25,1.67875 0.007,0.0038 0.0121,0.0063 0.0185,0.01 0.65388,0.375 1.29838,0.7675 1.92975,1.1725 0.0488,0.03125 0.0956,0.065 0.14401,0.09625 0.59325,0.3825 1.17775,0.77875 1.75149,1.1875 0.08,0.0575 0.15813,0.12 0.23925,0.17875 0.54001,0.39125 1.07325,0.78875 1.59513,1.20375 0.108,0.08375 0.21337,0.175 0.32037,0.2625 0.49025,0.395 0.97513,0.79625 1.44675,1.21 0.13963,0.1225 0.27588,0.2525 0.416,0.37625 0.42725,0.385 0.85213,0.7725 1.26513,1.17375 0.0464,0.04375 0.0943,0.085 0.14112,0.13 0.14413,0.14125 0.27838,0.28875 0.42088,0.43125 0.34087,0.34125 0.67975,0.6825 1.00987,1.035 0.25038,0.26625 0.49213,0.5375 0.73438,0.8075 0.24412,0.27375 0.48825,0.545 0.726,0.8225 0.29737,0.34875 0.58475,0.70125 0.86975,1.05625 0.1675,0.20625 0.33375,0.4125 0.49625,0.6225 0.325,0.4175 0.64125,0.84375 0.95,1.27125 0.11125,0.15375 0.225,0.30875 0.33375,0.465 0.33375,0.47375 0.65625,0.95125 0.97,1.43625 0.0825,0.125 0.16375,0.25125 0.24375,0.3775 0.3225,0.5075 0.63375,1.01625 0.93375,1.5325 0.0713,0.12375 0.1425,0.2475 0.21375,0.3725 0.29125,0.51125 0.57375,1.02875 0.84375,1.55 0.08,0.1525 0.15625,0.305 0.235,0.4575 0.2475,0.49 0.4875,0.9825 0.71625,1.48 0.0962,0.21 0.19,0.42125 0.28375,0.63125 0.195,0.44125 0.38375,0.8825 0.565,1.32875 0.11875,0.28875 0.23125,0.58 0.3425,0.8725 0.14125,0.37 0.28,0.74125 0.41125,1.11375 0.135,0.37875 0.2625,0.76125 0.38625,1.14375 0.095,0.2925 0.1875,0.58375 0.275,0.875 0.1425,0.4675 0.27375,0.93625 0.4,1.4075 0.0575,0.21625 0.115,0.43375 0.17125,0.65125 0.135,0.5375 0.26,1.07625 0.37625,1.61875 0.035,0.1625 0.0687,0.32375 0.1025,0.48625 0.1175,0.5825 0.22375,1.16625 0.32,1.75375 0.0213,0.13625 0.0425,0.27125 0.065,0.40625 0.09,0.595 0.17,1.1925 0.23875,1.795 0.015,0.14375 0.0312,0.28625 0.045,0.42875 0.06,0.58 0.11125,1.16 0.1475,1.74375 0.0125,0.185 0.0238,0.37 0.0325,0.555 0.0288,0.5325 0.05,1.0675 0.06,1.6025 0.005,0.26 0.005,0.51875 0.005,0.7775 0.001,0.46125 -0.001,0.92125 -0.015,1.385 -0.009,0.36 -0.0288,0.72 -0.0463,1.08 -0.02,0.3675 -0.0375,0.73625 -0.065,1.105 -0.035,0.475 -0.0838,0.9475 -0.13375,1.42125 -0.0225,0.205 -0.0337,0.40875 -0.0575,0.61375 l 21.5875,2.587503 c 0.41505,-3.471203 0.5613,-6.913703 0.4538,-10.303703 -0.165,-5.22875 -0.935,-10.33625 -2.245,-15.245" /><path
             style="fill:#bfeafb;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path18"
             inkscape:connector-curvature="0"
             d="m 137.73369,93.348381 c 0.0175,-0.36 0.0375,-0.72 0.0463,-1.08 0.0125,-0.46125 0.0162,-0.9225 0.015,-1.385 0,-0.25875 0,-0.5175 -0.005,-0.7775 -0.0112,-0.53375 -0.0312,-1.06875 -0.06,-1.6025 -0.009,-0.185 -0.02,-0.37 -0.0325,-0.555 -0.0375,-0.58125 -0.0863,-1.1625 -0.1475,-1.74375 -0.0137,-0.1425 -0.03,-0.285 -0.045,-0.42875 -0.07,-0.6 -0.14875,-1.19875 -0.23875,-1.795 -0.0225,-0.135 -0.0437,-0.27 -0.065,-0.40625 -0.0962,-0.58625 -0.2025,-1.17125 -0.32,-1.75375 -0.0337,-0.1625 -0.0675,-0.32375 -0.1025,-0.48625 -0.115,-0.54125 -0.24125,-1.08125 -0.37625,-1.61875 -0.0562,-0.2175 -0.11375,-0.435 -0.17125,-0.65125 -0.125,-0.47125 -0.25875,-0.94 -0.4,-1.4075 -0.0875,-0.29125 -0.18,-0.5825 -0.275,-0.875 -0.12375,-0.3825 -0.25125,-0.765 -0.38625,-1.14375 -0.13125,-0.3725 -0.27,-0.74375 -0.41125,-1.11375 -0.11125,-0.2925 -0.225,-0.5825 -0.3425,-0.8725 -0.18125,-0.44625 -0.37,-0.8875 -0.565,-1.32875 -0.0937,-0.21 -0.1875,-0.42 -0.28375,-0.63125 -0.22875,-0.4975 -0.46875,-0.99 -0.71625,-1.48 -0.0788,-0.1525 -0.155,-0.305 -0.235,-0.4575 -0.27,-0.52125 -0.5525,-1.03875 -0.84375,-1.55 -0.0712,-0.125 -0.1425,-0.24875 -0.21375,-0.3725 -0.3,-0.51625 -0.61125,-1.025 -0.93375,-1.5325 -0.08,-0.12625 -0.16125,-0.2525 -0.24375,-0.3775 -0.31375,-0.485 -0.63625,-0.9625 -0.97,-1.43625 -0.10875,-0.15625 -0.2225,-0.31125 -0.33375,-0.465 -0.30875,-0.4275 -0.625,-0.85375 -0.95,-1.27125 -0.1625,-0.20875 -0.32875,-0.41625 -0.49625,-0.6225 -0.285,-0.355 -0.57238,-0.7075 -0.86975,-1.05625 -0.23725,-0.27625 -0.48088,-0.54875 -0.726,-0.8225 -0.24225,-0.27 -0.484,-0.54125 -0.73438,-0.8075 -0.32862,-0.35 -0.668,-0.69375 -1.00987,-1.035 -0.1425,-0.1425 -0.27675,-0.29 -0.42088,-0.43125 -0.0469,-0.045 -0.0948,-0.08625 -0.14112,-0.13 -0.4145,-0.40125 -0.83925,-0.79 -1.26513,-1.17375 -0.14012,-0.12375 -0.27637,-0.25375 -0.416,-0.37625 -0.476,-0.4175 -0.959,-0.81625 -1.44674,-1.21 -0.107,-0.0875 -0.21238,-0.17875 -0.32038,-0.2625 -0.52337,-0.41625 -1.05712,-0.815 -1.59512,-1.20375 -0.0811,-0.05875 -0.15925,-0.12125 -0.23925,-0.17875 -0.57675,-0.41125 -1.16113,-0.805 -1.7515,-1.1875 -0.0484,-0.03125 -0.0953,-0.065 -0.14401,-0.09625 -0.63525,-0.4075 -1.27937,-0.79875 -1.92975,-1.1725 -0.006,-0.0038 -0.0117,-0.0063 -0.0185,-0.01 -1.06449,-0.61 -2.15087,-1.16125 -3.25,-1.67875 -0.26612,-0.12625 -0.53037,-0.26125 -0.79837,-0.38125 -0.0733,-0.0325 -0.148,-0.05875 -0.21975,-0.0925 -0.622,-0.275 -1.24563,-0.53875 -1.8765,-0.78375 -0.0523,-0.02125 -0.10587,-0.0375 -0.15762,-0.0575 -0.65925,-0.255 -1.32038,-0.49375 -1.98738,-0.71625 -0.0776,-0.0275 -0.15725,-0.04875 -0.23575,-0.0725 -0.647,-0.2125 -1.29787,-0.41375 -1.95275,-0.59625 -0.11175,-0.03125 -0.2255,-0.0575 -0.33975,-0.08625 -0.6255,-0.17 -1.25537,-0.33125 -1.88775,-0.47375 -0.1445,-0.03375 -0.293,-0.05875 -0.439,-0.09 -0.603,-0.13125 -1.207,-0.25375 -1.814876,-0.36 -0.19437,-0.0325 -0.38962,-0.06 -0.585,-0.09 -0.55767,-0.09125 -1.11667,-0.17625 -1.676795,-0.245 -0.2715,-0.03375 -0.543875,-0.0575 -0.814375,-0.08625 -0.47125,-0.05 -0.9425,-0.09875 -1.414625,-0.13375 -0.370125,-0.0275 -0.742625,-0.0475 -1.11375,-0.06375 -0.357,-0.0175 -0.713875,-0.0375 -1.07075,-0.04625 -0.463375,-0.01375 -0.92725,-0.0175 -1.391125,-0.01625 -0.256875,0.0013 -0.51425,0.0013 -0.7715,0.0063 -0.53525,0.01 -1.07325,0.03 -1.608875,0.05875 -0.182125,0.01 -0.36625,0.01875 -0.549375,0.03125 -0.583,0.03875 -1.165,0.08875 -1.748,0.1475 -0.141625,0.01625 -0.28425,0.03125 -0.424875,0.04625 -0.6005,0.06875 -1.200625,0.14875 -1.79825,0.24 -0.134875,0.02125 -0.269625,0.0425 -0.404875,0.06375 -0.585375,0.09625 -1.170875,0.20375 -1.754375,0.32 -0.162125,0.035 -0.32325,0.06875 -0.484875,0.1025 -0.542,0.115 -1.082,0.24 -1.620625,0.37625 -0.21775,0.055 -0.4335,0.1125 -0.649875,0.17125 -0.47025,0.12625 -0.940375,0.25875 -1.408625,0.39875 -0.2915,0.08875 -0.582125,0.1825 -0.871625,0.275 -0.38425,0.12375 -0.766625,0.25375 -1.1475,0.3875 -0.372,0.13125 -0.742125,0.26875 -1.11175,0.41125 -0.292,0.11125 -0.585,0.225 -0.874,0.3425 -0.445375,0.18 -0.88575,0.37 -1.32525,0.56375 -0.212375,0.095 -0.423875,0.18875 -0.63525,0.2875 -0.496625,0.2275 -0.98775,0.46625 -1.476125,0.7125 -0.15425,0.07875 -0.309,0.1575 -0.463375,0.2375 -0.52,0.26875 -1.034125,0.55125 -1.544375,0.8425 -0.125,0.07 -0.2525,0.14375 -0.3775,0.215 -0.514625,0.3 -1.022875,0.61 -1.52725,0.93125 -0.129,0.08125 -0.255875,0.16125 -0.383875,0.245 -0.481875,0.31375 -0.958,0.635 -1.429625,0.9675 -0.15775,0.11125 -0.315,0.225 -0.472625,0.33875 -0.425375,0.3075 -0.84775,0.62125 -1.26525,0.94625 -0.210375,0.165 -0.419875,0.3325 -0.628875,0.5 -0.352,0.28375 -0.703125,0.57 -1.048375,0.865 -0.27975,0.24 -0.556125,0.485 -0.83,0.7325 -0.268125,0.24125 -0.536625,0.48 -0.80075,0.7275 -0.353125,0.3325 -0.69925,0.675 -1.045,1.02 -0.139125,0.14 -0.285125,0.27 -0.42425,0.4125 -0.043,0.04625 -0.083,0.09375 -0.1275,0.14 -0.40675,0.42 -0.798375,0.8475 -1.184,1.27875 -0.120625,0.135 -0.246625,0.26625 -0.36625,0.4025 -0.420875,0.48125 -0.82575,0.96875 -1.222625,1.4625 -0.083,0.10125 -0.1695,0.20125 -0.2505,0.30375 -0.4195,0.53 -0.82275,1.07 -1.217375,1.61375 -0.05362,0.075 -0.11225,0.1475 -0.1655,0.22125 -0.4155,0.58375 -0.814375,1.175 -1.199625,1.7725 -0.02687,0.04125 -0.05625,0.08125 -0.08312,0.1225 -1.06875,1.665 -2.00575,3.38875 -2.837875,5.15 -0.13475,0.2825 -0.27725,0.565 -0.40625,0.84875 -0.02725,0.06 -0.04975,0.12125 -0.07612,0.1825 -0.28025,0.63375 -0.55075,1.2725 -0.80075,1.91625 -0.01375,0.03375 -0.025,0.07 -0.03863,0.105 -0.26175,0.675 -0.50725,1.355 -0.735375,2.04 -0.02237,0.06625 -0.0405,0.135 -0.063,0.20375 -0.21575,0.6575 -0.420375,1.31875 -0.605875,1.985 -0.02788,0.1 -0.04988,0.2025 -0.07762,0.305 -0.173375,0.63875 -0.337,1.28 -0.4825,1.9225 -0.03075,0.1375 -0.05512,0.275 -0.084,0.41125 -0.13275,0.61375 -0.25825,1.22875 -0.365125,1.845 -0.03125,0.185 -0.05675,0.37 -0.0865,0.555 -0.09125,0.57 -0.17825,1.1375 -0.2485,1.71 -0.03175,0.26125 -0.05612,0.52375 -0.084,0.78625 -0.05125,0.48 -0.100125,0.96125 -0.13575,1.4425 -0.02687,0.3625 -0.04438,0.72375 -0.064,1.08625 -0.018,0.36625 -0.0375,0.7325 -0.04787,1.10125 -0.01163,0.45375 -0.0155,0.90875 -0.01363,1.3625 0,0.26625 0,0.5325 0.0049,0.79875 0.01025,0.5275 0.03025,1.0575 0.05862,1.58375 0.01025,0.1925 0.0205,0.38375 0.03275,0.57625 0.0385,0.57625 0.08687,1.15 0.1465,1.7225 0.0165,0.15 0.03125,0.30125 0.04875,0.45125 0.06637,0.5925 0.146,1.18375 0.236375,1.775 0.022,0.1425 0.04438,0.285 0.06737,0.4275 0.09563,0.578753 0.199625,1.157501 0.315875,1.732499 0.03475,0.17 0.07125,0.33875 0.1075,0.5075 0.11425,0.535 0.23825,1.0675 0.3715,1.59875 0.05613,0.22375 0.11625,0.44875 0.17625,0.6725 0.123125,0.46375 0.254875,0.925 0.392625,1.385 0.09125,0.30125 0.186,0.59875 0.28325,0.8975 0.121,0.375 0.247,0.75 0.377375,1.1225 0.13475,0.38125 0.276375,0.75875 0.420875,1.13625 0.1085,0.285 0.21925,0.56625 0.3335,0.85 0.182125,0.4525 0.376,0.90125 0.57375,1.34875 0.09087,0.205 0.182125,0.40875 0.274875,0.61 0.2325,0.50375 0.475125,1.00375 0.726625,1.5 0.07325,0.14625 0.148375,0.29375 0.224625,0.44 0.272875,0.52625 0.558125,1.0475 0.8525,1.56625 0.06788,0.11875 0.13575,0.2375 0.204625,0.35625 0.30325,0.52 0.617125,1.03662 0.942875,1.5465 0.07563,0.1225 0.15425,0.24362 0.233375,0.36475 0.316375,0.48725 0.642625,0.97062 0.98,1.44862 0.106875,0.15138 0.214375,0.30088 0.32225,0.45075 0.314,0.43263 0.63275,0.86225 0.962375,1.28663 0.15925,0.20312 0.320875,0.40475 0.483375,0.60587 0.289125,0.35938 0.580625,0.71788 0.882875,1.06988 0.231875,0.2725 0.471125,0.5405 0.711375,0.80812 0.247625,0.27588 0.49325,0.55125 0.747625,0.82275 0.32375,0.34375 0.657625,0.68163 0.994125,1.018 0.146,0.1465 0.284125,0.29838 0.432625,0.44288 5e-4,0.001 0.0014,0.002 0.0014,0.002 l 0.0059,-0.005 15.17875,-15.58137 -0.002,-0.001 c -9.630825,-9.384426 -9.832075,-24.798179 -0.4497,-34.429429 9.38175,-9.63125 24.796875,-9.83375 34.427751,-0.45 9.63087,9.38125 9.832,24.79625 0.45012,34.426249 l 15.58738,15.186 c 7.50737,-7.7075 11.76112,-17.371 12.81112,-27.299749 0.05,-0.47375 0.0987,-0.94625 0.13375,-1.42125 0.0275,-0.3675 0.045,-0.73625 0.065,-1.105" /></g><text
           xml:space="preserve"
           style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
           x="88.300781"
           y="114.99023"
           id="text4292"
           sodipodi:linespacing="125%"><tspan
             sodipodi:role="line"
             id="tspan4294"
             x="88.300781"
             y="114.99023">offline</tspan></text>
      </svg>
    `;
  } else {
    // Assume HTML (or compatible) requested: return offline page
    contentType = 'text/html';
    body = `<!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
        <title>Three Rings | Offline</title>
        <style type="text/css">
          body {
            font-family: sans-serif;
            text-align: center;
          }
        </style>
        <script type="text/javascript">
          /* Attempt to detect coming back online and refresh page */
          function backOnline(){ window.location.reload(); }
          if (window.addEventListener) {
            window.addEventListener('online', backOnline, false);
          } else {
            document.body.ononline = backOnline;
          }
          /* The above doesn't always work, so manually refresh after 30 seconds anyway */
          setTimeout(backOnline, 30000);
        </script>
      </head>
      <body>
        <h1>Three Rings</h1>
        <h2>Offline</h2>
        <svg
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:cc="http://creativecommons.org/ns#"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns="http://www.w3.org/2000/svg"
         xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
         xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
         version="1.1"
         width="182"
         height="182"
         id="svg2"
         xml:space="preserve"
         inkscape:version="0.48.0 r9654"
         sodipodi:docname="Three Rings logo 2013.svg"><sodipodi:namedview
           pagecolor="#ffffff"
           bordercolor="#666666"
           borderopacity="1"
           objecttolerance="10"
           gridtolerance="10"
           guidetolerance="10"
           inkscape:pageopacity="0"
           inkscape:pageshadow="2"
           inkscape:window-width="1282"
           inkscape:window-height="899"
           id="namedview47"
           showgrid="false"
           inkscape:zoom="2.4301875"
           inkscape:cx="77.049422"
           inkscape:cy="50.092714"
           inkscape:window-x="80"
           inkscape:window-y="36"
           inkscape:window-maximized="0"
           inkscape:current-layer="svg2" /><metadata
           id="metadata8"><rdf:RDF><cc:Work
               rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
                 rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs
           id="defs6" /><path
           d="m 2.2492603,93.940881 c 1.6245086,49.400999 42.9873087,88.133859 92.3876837,86.509859 0.0015,0 0.002,0 0.0025,0 l -0.711,-21.63724 c 0,0 -0.002,0.001 -0.0029,0.001 -8.88675,0.2925 -17.42875,-1.1425 -25.309125,-3.99512 -0.0039,-0.001 -0.0078,-0.002 -0.01175,-0.005 -0.491125,-0.17625 -0.979,-0.35887 -1.46475,-0.54737 -0.203125,-0.0786 -0.405875,-0.16112 -0.6085,-0.24263 -0.283625,-0.11475 -0.567375,-0.2275 -0.849625,-0.34225 -0.364625,-0.15137 -0.725,-0.30912 -1.085375,-0.46387 -0.118125,-0.0523 -0.237375,-0.10263 -0.3535,-0.15388 -7.514625,-3.32125 -14.25925,-7.94875 -19.99025,-13.5635 -0.05563,-0.0536 -0.111375,-0.10787 -0.1665,-0.16162 -0.294,-0.29 -0.583,-0.5835 -0.872125,-0.87738 -0.11325,-0.11625 -0.2275,-0.23337 -0.34125,-0.35012 -0.226125,-0.23338 -0.44975,-0.47113 -0.672375,-0.71 -0.169875,-0.18213 -0.34175,-0.36475 -0.51075,-0.54725 -0.161625,-0.17725 -0.32175,-0.3565 -0.4815,-0.53375 -0.2245,-0.25 -0.44825,-0.5015 -0.668375,-0.75488 -0.101625,-0.11525 -0.20175,-0.2315 -0.30125,-0.34762 -0.275,-0.32138 -0.547875,-0.64263 -0.8165,-0.96638 -0.04387,-0.0522 -0.08537,-0.105 -0.127875,-0.15475 -5.106,-6.20025 -9.13775,-13.32762 -11.799375,-21.10887 -0.038,-0.11 -0.07325,-0.22125 -0.11125,-0.3325 -0.12985,-0.38363 -0.25835,-0.76863 -0.37985,-1.15613 -0.087,-0.27625 -0.1705,-0.5525 -0.254875,-0.83 -0.067,-0.22375 -0.13775,-0.4475 -0.203125,-0.67375 -0.141125,-0.48375 -0.276375,-0.97125 -0.40775,-1.46125 -0.0054,-0.0187 -0.01025,-0.0375 -0.01563,-0.0563 -1.738245,-6.51495 -2.52437,-13.376199 -2.21387,-20.407449 0.297875,-7.03375 1.673375,-13.805 3.96825,-20.14625 0.0049,-0.015 0.01175,-0.0275 0.01713,-0.04375 0.173375,-0.48 0.352,-0.9575 0.536625,-1.4325 0.083,-0.215 0.170375,-0.4275 0.256375,-0.6425 0.108875,-0.27125 0.21575,-0.5425 0.329,-0.81375 0.154375,-0.375 0.315,-0.745 0.476625,-1.115 0.04638,-0.11 0.09225,-0.2175 0.141125,-0.32625 3.32075,-7.51625 7.94775,-14.26375 13.563875,-19.99625 0.05325,-0.05375 0.108,-0.11 0.161625,-0.165 0.290625,-0.29375 0.583125,-0.58375 0.8785,-0.8725 0.11575,-0.11375 0.230875,-0.2275 0.348125,-0.34 0.235375,-0.22625 0.472625,-0.45125 0.710875,-0.675 0.182125,-0.17 0.364375,-0.34 0.547875,-0.50875 0.175375,-0.16125 0.352625,-0.32 0.53075,-0.48 0.2515,-0.22625 0.504,-0.45 0.758875,-0.67375 0.11275,-0.0975 0.227,-0.195 0.33975,-0.2925 0.32375,-0.2775 0.6485,-0.5525 0.976125,-0.825 0.04838,-0.04 0.09763,-0.08 0.1485,-0.12125 6.20062,-5.10875 13.332495,-9.1425 21.11612,-11.80375 0.102625,-0.03625 0.205625,-0.06875 0.307625,-0.10375 0.392125,-0.13125 0.78425,-0.26375 1.17925,-0.3875 0.269,-0.085 0.542,-0.16625 0.8125,-0.24875 0.2295,-0.07 0.4595,-0.14125 0.689875,-0.20875 0.478,-0.13875 0.9585,-0.2725 1.44,-0.40125 0.02637,-0.0075 0.05225,-0.015 0.07912,-0.0225 6.512625,-1.7375 13.374,-2.52375 20.40375,-2.2125 7.036121,0.29625 13.806611,1.67375 20.149871,3.97 0.008,0.0012 0.0142,0.005 0.0215,0.0075 0.48788,0.17625 0.97213,0.35875 1.45513,0.54625 0.2065,0.08 0.40962,0.1625 0.61425,0.245 0.28274,0.1125 0.56487,0.225 0.84524,0.34 0.36375,0.1525 0.725,0.3075 1.08487,0.46375 0.11863,0.0525 0.23738,0.1025 0.355,0.155 7.51275,3.32 14.25738,7.945 19.98738,13.56 0.0563,0.05375 0.11376,0.11 0.16875,0.165 0.29375,0.28875 0.5825,0.58 0.87,0.87375 0.11625,0.1175 0.23,0.235 0.34375,0.3525 0.225,0.23375 0.44875,0.47 0.67125,0.7075 0.17125,0.18375 0.3425,0.365 0.5125,0.55 0.16,0.175 0.31875,0.35375 0.4775,0.53 0.22625,0.25 0.4525,0.50375 0.67375,0.76 0.0987,0.1125 0.19625,0.22625 0.29375,0.34 0.2775,0.3225 0.55375,0.64625 0.82375,0.97375 0.0412,0.05 0.0812,0.1 0.1225,0.15 5.1075,6.20125 9.14125,13.33125 11.80375,21.11625 0.0363,0.1025 0.0688,0.20625 0.10375,0.30875 0.13125,0.39125 0.2625,0.78375 0.3875,1.1775 0.085,0.2725 0.1675,0.545 0.25,0.81875 0.0687,0.2275 0.14125,0.455 0.20625,0.6825 0.14,0.48 0.27375,0.95875 0.4025,1.44125 0.007,0.02625 0.015,0.0525 0.0225,0.08 1.31,4.90875 2.08,10.01625 2.245,15.245 l 21.62626,-0.71 C 179.52119,38.659631 138.15869,-0.07036924 88.757569,1.5533807 39.357694,3.1771307 0.62523139,44.539631 2.2492603,93.940881"
           inkscape:connector-curvature="0"
           id="path14"
           style="fill:#42b23c;fill-opacity:1;fill-rule:nonzero;stroke:none" /><path
           d="m 157.27369,73.527131 c -0.007,-0.0275 -0.015,-0.05375 -0.0225,-0.08 -0.12875,-0.4825 -0.2625,-0.96125 -0.4025,-1.44125 -0.0662,-0.22875 -0.13625,-0.455 -0.20625,-0.6825 -0.0825,-0.27375 -0.165,-0.54625 -0.25,-0.81875 -0.12625,-0.39375 -0.25625,-0.78625 -0.3875,-1.1775 -0.035,-0.1025 -0.0675,-0.20625 -0.10375,-0.30875 -2.6525,-7.72875 -6.67125,-14.875 -11.80375,-21.11625 -0.0413,-0.05 -0.0813,-0.1 -0.1225,-0.15 -0.27,-0.3275 -0.54625,-0.65125 -0.82375,-0.97375 -0.0975,-0.11375 -0.195,-0.2275 -0.29375,-0.34 -0.22125,-0.25625 -0.4475,-0.50875 -0.67375,-0.76 -0.15875,-0.17625 -0.3175,-0.355 -0.4775,-0.53 -0.16875,-0.185 -0.34125,-0.3675 -0.5125,-0.55 -0.2225,-0.2375 -0.44625,-0.47375 -0.67125,-0.7075 -0.11375,-0.1175 -0.2275,-0.235 -0.34375,-0.3525 -0.2875,-0.29375 -0.57625,-0.585 -0.87,-0.87375 -0.055,-0.055 -0.1125,-0.11125 -0.16875,-0.165 -5.73,-5.615 -12.47462,-10.24 -19.98737,-13.56 -0.11763,-0.0525 -0.23638,-0.1025 -0.355,-0.155 -0.35988,-0.15625 -0.72113,-0.31125 -1.08488,-0.46375 -0.28037,-0.115 -0.5625,-0.2275 -0.84525,-0.34 -0.20462,-0.0825 -0.40775,-0.165 -0.61425,-0.245 -0.483,-0.1875 -0.96725,-0.37 -1.45512,-0.54625 -0.007,-0.0025 -0.0136,-0.0063 -0.0215,-0.0075 -4.75238,-1.71375 -9.77338,-2.92125 -15.004876,-3.54875 -1.722125,-0.20625 -3.439,-0.34625 -5.145,-0.42125 -7.02975,-0.31125 -13.891125,0.475 -20.40375,2.2125 -0.02687,0.0075 -0.05275,0.015 -0.07912,0.0225 -0.4815,0.12875 -0.962,0.2625 -1.44,0.40125 -0.23,0.06875 -0.460375,0.13875 -0.689875,0.20875 -0.2705,0.0825 -0.5435,0.16375 -0.8125,0.24875 -0.394625,0.125 -0.787125,0.255 -1.17925,0.3875 -0.102,0.035 -0.205,0.0675 -0.307625,0.10375 -7.729,2.65125 -14.875,6.67125 -21.116125,11.80375 -0.05088,0.04125 -0.10013,0.08125 -0.148505,0.12125 -0.328625,0.27125 -0.652375,0.5475 -0.976125,0.825 -0.11275,0.0975 -0.227,0.195 -0.33975,0.2925 -0.254875,0.22375 -0.507875,0.44875 -0.758875,0.67375 -0.178125,0.16 -0.355375,0.31875 -0.53075,0.48 -0.1835,0.1675 -0.36575,0.33875 -0.547875,0.50875 -0.23825,0.22375 -0.4755,0.44875 -0.710875,0.675 -0.11725,0.1125 -0.232375,0.22625 -0.348125,0.34 -0.295375,0.28875 -0.587875,0.57875 -0.8785,0.8725 -0.05363,0.055 -0.108375,0.11125 -0.161625,0.165 -5.616125,5.7325 -10.243125,12.48 -13.563875,19.99625 -0.04887,0.10875 -0.09475,0.21625 -0.141125,0.32625 -0.161625,0.37 -0.32225,0.74 -0.476625,1.115 -0.11325,0.27125 -0.221125,0.5425 -0.329,0.81375 -0.086,0.215 -0.173375,0.4275 -0.256375,0.6425 -0.184625,0.475 -0.36375,0.9525 -0.536625,1.4325 -0.0054,0.01625 -0.01225,0.02875 -0.01713,0.04375 -1.712875,4.75125 -2.919875,9.77 -3.545875,15 -0.2065,1.72375 -0.34625,3.44 -0.422375,5.14625 -0.3105,7.03125 0.475625,13.892499 2.213875,20.407499 0.0054,0.0188 0.01025,0.0375 0.01563,0.0563 0.131375,0.49 0.266625,0.9775 0.40775,1.46125 0.06588,0.225 0.13575,0.45 0.203125,0.67375 0.08438,0.2775 0.167875,0.55375 0.254875,0.83 0.123,0.3875 0.25,0.7725 0.379875,1.15625 0.038,0.11125 0.07325,0.2225 0.11125,0.3325 2.650375,7.72513 6.6705,14.86863 11.799375,21.10888 0.0425,0.0497 0.084,0.1025 0.127875,0.15475 0.268625,0.32525 0.5415,0.645 0.8165,0.96637 0.0995,0.11613 0.199625,0.23238 0.30125,0.34763 0.220125,0.25487 0.443875,0.50487 0.668375,0.75487 0.15975,0.17725 0.319875,0.3565 0.4815,0.53375 0.169,0.1825 0.340875,0.36513 0.51075,0.54725 0.222625,0.23888 0.44625,0.47663 0.672375,0.71 0.11325,0.11675 0.228,0.23388 0.34125,0.35012 0.289125,0.29388 0.578125,0.58738 0.872125,0.87738 0.05513,0.0537 0.110875,0.108 0.1665,0.16163 5.731,5.61475 12.475625,10.24224 19.99025,13.5635 0.117625,0.0513 0.23575,0.10162 0.3535,0.15387 0.360375,0.15475 0.72075,0.3125 1.085375,0.46388 0.28225,0.11475 0.566,0.2275 0.849625,0.34225 0.202625,0.0815 0.405375,0.164 0.6085,0.24262 0.48575,0.1885 0.973625,0.37113 1.46475,0.54738 0.004,0.002 0.0079,0.004 0.01175,0.005 4.753375,1.71538 9.774375,2.92138 15.005875,3.54888 0,0 0.0015,0 0.0029,0 l 2.5865,-21.58888 c 0,0 -5e-4,0 -0.002,0 -10.4619,-1.25355 -19.676775,-5.92593 -26.678275,-12.75605 l -0.0054,0.006 c 0,0 -0.0014,-0.002 -0.0019,-0.003 -0.1485,-0.1445 -0.286625,-0.29637 -0.432625,-0.44287 -0.3355,-0.33538 -0.669,-0.67225 -0.994125,-1.018 -0.254375,-0.2715 -0.5,-0.54688 -0.747625,-0.82275 -0.23925,-0.26763 -0.4795,-0.53463 -0.711375,-0.80813 -0.30225,-0.352 -0.59375,-0.7105 -0.882875,-1.06987 -0.1625,-0.20213 -0.325125,-0.40275 -0.483375,-0.60588 -0.329625,-0.42437 -0.648375,-0.854 -0.962375,-1.28662 -0.107375,-0.14988 -0.215375,-0.29888 -0.32225,-0.45075 -0.337375,-0.478 -0.663625,-0.96138 -0.98,-1.44863 -0.07913,-0.12112 -0.15725,-0.24225 -0.233375,-0.36475 -0.32575,-0.50987 -0.639625,-1.0265 -0.942875,-1.5465 -0.06887,-0.11875 -0.13675,-0.2375 -0.204625,-0.35625 -0.294375,-0.51875 -0.579625,-1.04 -0.8525,-1.56625 -0.07625,-0.14625 -0.150875,-0.29375 -0.224625,-0.44 -0.2515,-0.49625 -0.494125,-0.99625 -0.726625,-1.5 -0.09275,-0.20125 -0.184,-0.405 -0.274875,-0.61 -0.19775,-0.4475 -0.391625,-0.89625 -0.57375,-1.34875 -0.11425,-0.2825 -0.224625,-0.565 -0.3335,-0.85 -0.1445,-0.3775 -0.286125,-0.755 -0.420875,-1.13625 -0.130375,-0.3725 -0.254875,-0.7475 -0.377375,-1.1225 -0.09725,-0.29875 -0.192,-0.59625 -0.28325,-0.8975 -0.138125,-0.4575 -0.2685,-0.92 -0.392625,-1.385 -0.06,-0.22375 -0.120125,-0.44875 -0.17625,-0.6725 -0.13325,-0.53 -0.25725,-1.06375 -0.3715,-1.59875 -0.03625,-0.16875 -0.07275,-0.3375 -0.1075,-0.5075 -0.11625,-0.573748 -0.22025,-1.151246 -0.315875,-1.732499 -0.023,-0.1425 -0.04537,-0.285 -0.06737,-0.4275 -0.08987,-0.58875 -0.1685,-1.18 -0.236375,-1.775 -0.0175,-0.15 -0.03225,-0.30125 -0.04875,-0.45125 -0.05762,-0.57125 -0.1085,-1.14625 -0.1465,-1.7225 -0.01225,-0.1925 -0.0225,-0.38375 -0.03275,-0.57625 -0.02833,-0.52588 -0.04883,-1.05213 -0.05858,-1.58338 -0.0049,-0.26625 -0.0049,-0.5325 -0.0049,-0.79875 -10e-4,-0.4525 5e-4,-0.9075 0.01363,-1.3625 0.01037,-0.36875 0.02987,-0.735 0.04787,-1.10125 0.01962,-0.36125 0.03612,-0.7225 0.064,-1.08625 0.03563,-0.48125 0.0845,-0.9625 0.13575,-1.4425 0.0215,-0.2 0.03275,-0.3975 0.05712,-0.5975 0.0074,-0.06375 0.0185,-0.125 0.02687,-0.18875 0.07025,-0.5725 0.15725,-1.14 0.2485,-1.71 0.02938,-0.185 0.05563,-0.37 0.0865,-0.555 0.106875,-0.61625 0.232375,-1.23125 0.365125,-1.845 0.02888,-0.13625 0.05325,-0.27375 0.084,-0.41125 0.1455,-0.6425 0.309125,-1.28375 0.4825,-1.9225 0.02725,-0.10125 0.04975,-0.205 0.07762,-0.305 0.1855,-0.66625 0.390125,-1.3275 0.605875,-1.985 0.0225,-0.06875 0.04063,-0.1375 0.063,-0.20375 0.228125,-0.685 0.473625,-1.365 0.735375,-2.04 0.01363,-0.035 0.02488,-0.07125 0.03863,-0.105 0.25,-0.64375 0.5205,-1.2825 0.80075,-1.91625 0.02638,-0.06125 0.04888,-0.1225 0.07612,-0.1825 0.129,-0.28375 0.2715,-0.56625 0.40625,-0.84875 0.84325,-1.78375 1.785625,-3.5075 2.837875,-5.15 0.02687,-0.04125 0.05625,-0.08125 0.08312,-0.1225 0.386625,-0.6 0.786625,-1.1925 1.199625,-1.7725 0.05325,-0.07375 0.111875,-0.14625 0.1655,-0.22125 0.396,-0.5475 0.798875,-1.08625 1.217375,-1.61375 0.081,-0.1025 0.1675,-0.2025 0.2505,-0.30375 0.398375,-0.495 0.803625,-0.98375 1.222625,-1.4625 0.119625,-0.13625 0.245625,-0.2675 0.36625,-0.4025 0.387625,-0.43375 0.77925,-0.86125 1.184,-1.27875 0.0445,-0.04625 0.0845,-0.09375 0.1275,-0.14 0.139125,-0.1425 0.285125,-0.2725 0.42425,-0.4125 0.34475,-0.345 0.69,-0.6875 1.045,-1.02 0.264125,-0.2475 0.532625,-0.48625 0.80075,-0.7275 0.273875,-0.24625 0.54875,-0.4925 0.83,-0.7325 0.34525,-0.295 0.696375,-0.58125 1.048375,-0.865 0.209,-0.1675 0.417,-0.33625 0.628875,-0.5 0.4175,-0.325 0.839875,-0.63875 1.26525,-0.94625 0.157625,-0.11375 0.314375,-0.2275 0.472625,-0.33875 0.47167,-0.3325 0.947795,-0.65375 1.42967,-0.9675 0.1275,-0.0825 0.254875,-0.16375 0.383875,-0.245 0.504375,-0.32125 1.012625,-0.63125 1.52725,-0.93125 0.125,-0.07125 0.251,-0.14375 0.3775,-0.215 0.51025,-0.29125 1.024375,-0.57375 1.544375,-0.8425 0.154375,-0.08 0.309125,-0.15875 0.463375,-0.2375 0.488375,-0.24625 0.9795,-0.485 1.476125,-0.7125 0.211,-0.09875 0.422875,-0.1925 0.63525,-0.2875 0.4395,-0.19375 0.879875,-0.38375 1.32525,-0.56375 0.289,-0.1175 0.582,-0.23125 0.874,-0.3425 0.369625,-0.1425 0.73975,-0.28 1.11175,-0.41125 0.379875,-0.13375 0.76275,-0.2625 1.1475,-0.3875 0.2895,-0.0925 0.580125,-0.18625 0.871625,-0.275 0.46775,-0.14 0.937,-0.2725 1.408625,-0.39875 0.216375,-0.05875 0.432125,-0.11625 0.649875,-0.17125 0.537125,-0.135 1.077625,-0.25875 1.620625,-0.37625 0.161625,-0.03375 0.32275,-0.0675 0.484875,-0.1025 0.580625,-0.11625 1.166,-0.22375 1.754375,-0.32 0.13525,-0.02125 0.27,-0.0425 0.404875,-0.06375 0.595625,-0.09125 1.19575,-0.17125 1.79825,-0.24 0.140625,-0.015 0.28325,-0.03 0.424875,-0.04625 0.5815,-0.05875 1.162625,-0.11 1.748,-0.1475 0.183125,-0.0125 0.36725,-0.02125 0.549375,-0.03125 0.535125,-0.02875 1.06975,-0.04875 1.608875,-0.05875 0.25725,-0.005 0.514625,-0.005 0.7715,-0.0063 0.463375,0 0.92575,0.0025 1.391125,0.01625 0.356875,0.0088 0.71375,0.02875 1.07075,0.04625 0.371125,0.0175 0.742125,0.03625 1.11375,0.06375 0.472125,0.035 0.943375,0.08375 1.414625,0.13375 0.206,0.02125 0.411125,0.0325 0.618125,0.0575 0.06587,0.0087 0.130875,0.02125 0.19625,0.02875 0.560125,0.06875 1.119125,0.15375 1.676745,0.245 0.19538,0.03 0.39113,0.0575 0.585,0.09 0.607876,0.10625 1.211876,0.22875 1.814876,0.36 0.146,0.03125 0.2945,0.05625 0.439,0.09 0.63238,0.1425 1.26225,0.30375 1.88775,0.47375 0.11425,0.02875 0.2285,0.055 0.33975,0.08625 0.65488,0.1825 1.30575,0.38375 1.95275,0.59625 0.0785,0.02375 0.15863,0.04625 0.23575,0.0725 0.667,0.2225 1.32813,0.46125 1.98738,0.71625 0.0513,0.01875 0.10587,0.03625 0.15762,0.0575 0.63088,0.245 1.2545,0.50875 1.8765,0.78375 0.0718,0.03375 0.147,0.06 0.21975,0.0925 0.268,0.12 0.53225,0.255 0.79837,0.38125 1.10788,0.52125 2.19626,1.075 3.25,1.67875 0.007,0.0038 0.0121,0.0063 0.0185,0.01 0.65388,0.375 1.29838,0.7675 1.92975,1.1725 0.0488,0.03125 0.0956,0.065 0.14401,0.09625 0.59325,0.3825 1.17775,0.77875 1.75149,1.1875 0.08,0.0575 0.15813,0.12 0.23925,0.17875 0.54001,0.39125 1.07325,0.78875 1.59513,1.20375 0.108,0.08375 0.21337,0.175 0.32037,0.2625 0.49025,0.395 0.97513,0.79625 1.44675,1.21 0.13963,0.1225 0.27588,0.2525 0.416,0.37625 0.42725,0.385 0.85213,0.7725 1.26513,1.17375 0.0464,0.04375 0.0943,0.085 0.14112,0.13 0.14413,0.14125 0.27838,0.28875 0.42088,0.43125 0.34087,0.34125 0.67975,0.6825 1.00987,1.035 0.25038,0.26625 0.49213,0.5375 0.73438,0.8075 0.24412,0.27375 0.48825,0.545 0.726,0.8225 0.29737,0.34875 0.58475,0.70125 0.86975,1.05625 0.1675,0.20625 0.33375,0.4125 0.49625,0.6225 0.325,0.4175 0.64125,0.84375 0.95,1.27125 0.11125,0.15375 0.225,0.30875 0.33375,0.465 0.33375,0.47375 0.65625,0.95125 0.97,1.43625 0.0825,0.125 0.16375,0.25125 0.24375,0.3775 0.3225,0.5075 0.63375,1.01625 0.93375,1.5325 0.0713,0.12375 0.1425,0.2475 0.21375,0.3725 0.29125,0.51125 0.57375,1.02875 0.84375,1.55 0.08,0.1525 0.15625,0.305 0.235,0.4575 0.2475,0.49 0.4875,0.9825 0.71625,1.48 0.0962,0.21 0.19,0.42125 0.28375,0.63125 0.195,0.44125 0.38375,0.8825 0.565,1.32875 0.11875,0.28875 0.23125,0.58 0.3425,0.8725 0.14125,0.37 0.28,0.74125 0.41125,1.11375 0.135,0.37875 0.2625,0.76125 0.38625,1.14375 0.095,0.2925 0.1875,0.58375 0.275,0.875 0.1425,0.4675 0.27375,0.93625 0.4,1.4075 0.0575,0.21625 0.115,0.43375 0.17125,0.65125 0.135,0.5375 0.26,1.07625 0.37625,1.61875 0.035,0.1625 0.0687,0.32375 0.1025,0.48625 0.1175,0.5825 0.22375,1.16625 0.32,1.75375 0.0213,0.13625 0.0425,0.27125 0.065,0.40625 0.09,0.595 0.17,1.1925 0.23875,1.795 0.015,0.14375 0.0312,0.28625 0.045,0.42875 0.06,0.58 0.11125,1.16 0.1475,1.74375 0.0125,0.185 0.0238,0.37 0.0325,0.555 0.0288,0.5325 0.05,1.0675 0.06,1.6025 0.005,0.26 0.005,0.51875 0.005,0.7775 0.001,0.46125 -0.001,0.92125 -0.015,1.385 -0.009,0.36 -0.0288,0.72 -0.0463,1.08 -0.02,0.3675 -0.0375,0.73625 -0.065,1.105 -0.035,0.475 -0.0838,0.9475 -0.13375,1.42125 -0.0225,0.205 -0.0337,0.40875 -0.0575,0.61375 l 21.5875,2.587503 c 0.41505,-3.471203 0.5613,-6.913703 0.4538,-10.303703 -0.165,-5.22875 -0.935,-10.33625 -2.245,-15.245"
           inkscape:connector-curvature="0"
           id="path16"
           style="fill:#96d54c;fill-opacity:1;fill-rule:nonzero;stroke:none" /><path
           d="m 137.73369,93.348381 c 0.0175,-0.36 0.0375,-0.72 0.0463,-1.08 0.0125,-0.46125 0.0162,-0.9225 0.015,-1.385 0,-0.25875 0,-0.5175 -0.005,-0.7775 -0.0112,-0.53375 -0.0312,-1.06875 -0.06,-1.6025 -0.009,-0.185 -0.02,-0.37 -0.0325,-0.555 -0.0375,-0.58125 -0.0863,-1.1625 -0.1475,-1.74375 -0.0137,-0.1425 -0.03,-0.285 -0.045,-0.42875 -0.07,-0.6 -0.14875,-1.19875 -0.23875,-1.795 -0.0225,-0.135 -0.0437,-0.27 -0.065,-0.40625 -0.0962,-0.58625 -0.2025,-1.17125 -0.32,-1.75375 -0.0337,-0.1625 -0.0675,-0.32375 -0.1025,-0.48625 -0.115,-0.54125 -0.24125,-1.08125 -0.37625,-1.61875 -0.0562,-0.2175 -0.11375,-0.435 -0.17125,-0.65125 -0.125,-0.47125 -0.25875,-0.94 -0.4,-1.4075 -0.0875,-0.29125 -0.18,-0.5825 -0.275,-0.875 -0.12375,-0.3825 -0.25125,-0.765 -0.38625,-1.14375 -0.13125,-0.3725 -0.27,-0.74375 -0.41125,-1.11375 -0.11125,-0.2925 -0.225,-0.5825 -0.3425,-0.8725 -0.18125,-0.44625 -0.37,-0.8875 -0.565,-1.32875 -0.0937,-0.21 -0.1875,-0.42 -0.28375,-0.63125 -0.22875,-0.4975 -0.46875,-0.99 -0.71625,-1.48 -0.0788,-0.1525 -0.155,-0.305 -0.235,-0.4575 -0.27,-0.52125 -0.5525,-1.03875 -0.84375,-1.55 -0.0712,-0.125 -0.1425,-0.24875 -0.21375,-0.3725 -0.3,-0.51625 -0.61125,-1.025 -0.93375,-1.5325 -0.08,-0.12625 -0.16125,-0.2525 -0.24375,-0.3775 -0.31375,-0.485 -0.63625,-0.9625 -0.97,-1.43625 -0.10875,-0.15625 -0.2225,-0.31125 -0.33375,-0.465 -0.30875,-0.4275 -0.625,-0.85375 -0.95,-1.27125 -0.1625,-0.20875 -0.32875,-0.41625 -0.49625,-0.6225 -0.285,-0.355 -0.57238,-0.7075 -0.86975,-1.05625 -0.23725,-0.27625 -0.48088,-0.54875 -0.726,-0.8225 -0.24225,-0.27 -0.484,-0.54125 -0.73438,-0.8075 -0.32862,-0.35 -0.668,-0.69375 -1.00987,-1.035 -0.1425,-0.1425 -0.27675,-0.29 -0.42088,-0.43125 -0.0469,-0.045 -0.0948,-0.08625 -0.14112,-0.13 -0.4145,-0.40125 -0.83925,-0.79 -1.26513,-1.17375 -0.14012,-0.12375 -0.27637,-0.25375 -0.416,-0.37625 -0.476,-0.4175 -0.959,-0.81625 -1.44674,-1.21 -0.107,-0.0875 -0.21238,-0.17875 -0.32038,-0.2625 -0.52337,-0.41625 -1.05712,-0.815 -1.59512,-1.20375 -0.0811,-0.05875 -0.15925,-0.12125 -0.23925,-0.17875 -0.57675,-0.41125 -1.16113,-0.805 -1.7515,-1.1875 -0.0484,-0.03125 -0.0953,-0.065 -0.14401,-0.09625 -0.63525,-0.4075 -1.27937,-0.79875 -1.92975,-1.1725 -0.006,-0.0038 -0.0117,-0.0063 -0.0185,-0.01 -1.06449,-0.61 -2.15087,-1.16125 -3.25,-1.67875 -0.26612,-0.12625 -0.53037,-0.26125 -0.79837,-0.38125 -0.0733,-0.0325 -0.148,-0.05875 -0.21975,-0.0925 -0.622,-0.275 -1.24563,-0.53875 -1.8765,-0.78375 -0.0523,-0.02125 -0.10587,-0.0375 -0.15762,-0.0575 -0.65925,-0.255 -1.32038,-0.49375 -1.98738,-0.71625 -0.0776,-0.0275 -0.15725,-0.04875 -0.23575,-0.0725 -0.647,-0.2125 -1.29787,-0.41375 -1.95275,-0.59625 -0.11175,-0.03125 -0.2255,-0.0575 -0.33975,-0.08625 -0.6255,-0.17 -1.25537,-0.33125 -1.88775,-0.47375 -0.1445,-0.03375 -0.293,-0.05875 -0.439,-0.09 -0.603,-0.13125 -1.207,-0.25375 -1.814876,-0.36 -0.19437,-0.0325 -0.38962,-0.06 -0.585,-0.09 -0.55767,-0.09125 -1.11667,-0.17625 -1.676795,-0.245 -0.2715,-0.03375 -0.543875,-0.0575 -0.814375,-0.08625 -0.47125,-0.05 -0.9425,-0.09875 -1.414625,-0.13375 -0.370125,-0.0275 -0.742625,-0.0475 -1.11375,-0.06375 -0.357,-0.0175 -0.713875,-0.0375 -1.07075,-0.04625 -0.463375,-0.01375 -0.92725,-0.0175 -1.391125,-0.01625 -0.256875,0.0013 -0.51425,0.0013 -0.7715,0.0063 -0.53525,0.01 -1.07325,0.03 -1.608875,0.05875 -0.182125,0.01 -0.36625,0.01875 -0.549375,0.03125 -0.583,0.03875 -1.165,0.08875 -1.748,0.1475 -0.141625,0.01625 -0.28425,0.03125 -0.424875,0.04625 -0.6005,0.06875 -1.200625,0.14875 -1.79825,0.24 -0.134875,0.02125 -0.269625,0.0425 -0.404875,0.06375 -0.585375,0.09625 -1.170875,0.20375 -1.754375,0.32 -0.162125,0.035 -0.32325,0.06875 -0.484875,0.1025 -0.542,0.115 -1.082,0.24 -1.620625,0.37625 -0.21775,0.055 -0.4335,0.1125 -0.649875,0.17125 -0.47025,0.12625 -0.940375,0.25875 -1.408625,0.39875 -0.2915,0.08875 -0.582125,0.1825 -0.871625,0.275 -0.38425,0.12375 -0.766625,0.25375 -1.1475,0.3875 -0.372,0.13125 -0.742125,0.26875 -1.11175,0.41125 -0.292,0.11125 -0.585,0.225 -0.874,0.3425 -0.445375,0.18 -0.88575,0.37 -1.32525,0.56375 -0.212375,0.095 -0.423875,0.18875 -0.63525,0.2875 -0.496625,0.2275 -0.98775,0.46625 -1.476125,0.7125 -0.15425,0.07875 -0.309,0.1575 -0.463375,0.2375 -0.52,0.26875 -1.034125,0.55125 -1.544375,0.8425 -0.125,0.07 -0.2525,0.14375 -0.3775,0.215 -0.514625,0.3 -1.022875,0.61 -1.52725,0.93125 -0.129,0.08125 -0.255875,0.16125 -0.383875,0.245 -0.481875,0.31375 -0.958,0.635 -1.429625,0.9675 -0.15775,0.11125 -0.315,0.225 -0.472625,0.33875 -0.425375,0.3075 -0.84775,0.62125 -1.26525,0.94625 -0.210375,0.165 -0.419875,0.3325 -0.628875,0.5 -0.352,0.28375 -0.703125,0.57 -1.048375,0.865 -0.27975,0.24 -0.556125,0.485 -0.83,0.7325 -0.268125,0.24125 -0.536625,0.48 -0.80075,0.7275 -0.353125,0.3325 -0.69925,0.675 -1.045,1.02 -0.139125,0.14 -0.285125,0.27 -0.42425,0.4125 -0.043,0.04625 -0.083,0.09375 -0.1275,0.14 -0.40675,0.42 -0.798375,0.8475 -1.184,1.27875 -0.120625,0.135 -0.246625,0.26625 -0.36625,0.4025 -0.420875,0.48125 -0.82575,0.96875 -1.222625,1.4625 -0.083,0.10125 -0.1695,0.20125 -0.2505,0.30375 -0.4195,0.53 -0.82275,1.07 -1.217375,1.61375 -0.05362,0.075 -0.11225,0.1475 -0.1655,0.22125 -0.4155,0.58375 -0.814375,1.175 -1.199625,1.7725 -0.02687,0.04125 -0.05625,0.08125 -0.08312,0.1225 -1.06875,1.665 -2.00575,3.38875 -2.837875,5.15 -0.13475,0.2825 -0.27725,0.565 -0.40625,0.84875 -0.02725,0.06 -0.04975,0.12125 -0.07612,0.1825 -0.28025,0.63375 -0.55075,1.2725 -0.80075,1.91625 -0.01375,0.03375 -0.025,0.07 -0.03863,0.105 -0.26175,0.675 -0.50725,1.355 -0.735375,2.04 -0.02237,0.06625 -0.0405,0.135 -0.063,0.20375 -0.21575,0.6575 -0.420375,1.31875 -0.605875,1.985 -0.02788,0.1 -0.04988,0.2025 -0.07762,0.305 -0.173375,0.63875 -0.337,1.28 -0.4825,1.9225 -0.03075,0.1375 -0.05512,0.275 -0.084,0.41125 -0.13275,0.61375 -0.25825,1.22875 -0.365125,1.845 -0.03125,0.185 -0.05675,0.37 -0.0865,0.555 -0.09125,0.57 -0.17825,1.1375 -0.2485,1.71 -0.03175,0.26125 -0.05612,0.52375 -0.084,0.78625 -0.05125,0.48 -0.100125,0.96125 -0.13575,1.4425 -0.02687,0.3625 -0.04438,0.72375 -0.064,1.08625 -0.018,0.36625 -0.0375,0.7325 -0.04787,1.10125 -0.01163,0.45375 -0.0155,0.90875 -0.01363,1.3625 0,0.26625 0,0.5325 0.0049,0.79875 0.01025,0.5275 0.03025,1.0575 0.05862,1.58375 0.01025,0.1925 0.0205,0.38375 0.03275,0.57625 0.0385,0.57625 0.08687,1.15 0.1465,1.7225 0.0165,0.15 0.03125,0.30125 0.04875,0.45125 0.06637,0.5925 0.146,1.18375 0.236375,1.775 0.022,0.1425 0.04438,0.285 0.06737,0.4275 0.09563,0.578753 0.199625,1.157501 0.315875,1.732499 0.03475,0.17 0.07125,0.33875 0.1075,0.5075 0.11425,0.535 0.23825,1.0675 0.3715,1.59875 0.05613,0.22375 0.11625,0.44875 0.17625,0.6725 0.123125,0.46375 0.254875,0.925 0.392625,1.385 0.09125,0.30125 0.186,0.59875 0.28325,0.8975 0.121,0.375 0.247,0.75 0.377375,1.1225 0.13475,0.38125 0.276375,0.75875 0.420875,1.13625 0.1085,0.285 0.21925,0.56625 0.3335,0.85 0.182125,0.4525 0.376,0.90125 0.57375,1.34875 0.09087,0.205 0.182125,0.40875 0.274875,0.61 0.2325,0.50375 0.475125,1.00375 0.726625,1.5 0.07325,0.14625 0.148375,0.29375 0.224625,0.44 0.272875,0.52625 0.558125,1.0475 0.8525,1.56625 0.06788,0.11875 0.13575,0.2375 0.204625,0.35625 0.30325,0.52 0.617125,1.03662 0.942875,1.5465 0.07563,0.1225 0.15425,0.24362 0.233375,0.36475 0.316375,0.48725 0.642625,0.97062 0.98,1.44862 0.106875,0.15138 0.214375,0.30088 0.32225,0.45075 0.314,0.43263 0.63275,0.86225 0.962375,1.28663 0.15925,0.20312 0.320875,0.40475 0.483375,0.60587 0.289125,0.35938 0.580625,0.71788 0.882875,1.06988 0.231875,0.2725 0.471125,0.5405 0.711375,0.80812 0.247625,0.27588 0.49325,0.55125 0.747625,0.82275 0.32375,0.34375 0.657625,0.68163 0.994125,1.018 0.146,0.1465 0.284125,0.29838 0.432625,0.44288 5e-4,0.001 0.0014,0.002 0.0014,0.002 l 0.0059,-0.005 15.17875,-15.58137 -0.002,-0.001 c -9.630825,-9.384426 -9.832075,-24.798179 -0.4497,-34.429429 9.38175,-9.63125 24.796875,-9.83375 34.427751,-0.45 9.63087,9.38125 9.832,24.79625 0.45012,34.426249 l 15.58738,15.186 c 7.50737,-7.7075 11.76112,-17.371 12.81112,-27.299749 0.05,-0.47375 0.0987,-0.94625 0.13375,-1.42125 0.0275,-0.3675 0.045,-0.73625 0.065,-1.105"
           inkscape:connector-curvature="0"
           id="path18"
           style="fill:#bfeafb;fill-opacity:1;fill-rule:nonzero;stroke:none" />
        </svg>
        <p>
          Could not connect to <em>Three Rings</em>.
          <a href="${url.href}">Try again?</a>
        </p>
      </body>
      </html>
    `;
  }
  return new Response(body, { headers: {'Content-type': contentType, 'Cache-Control': 'no-store'} });
}

