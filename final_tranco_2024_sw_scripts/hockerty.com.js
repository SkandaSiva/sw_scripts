"use strict";function cacheName(key,opts){return opts.version+"-"+key}function addToCache(cacheKey,request,response,opts){if(response.ok||"opaque"==response.type){opts.debug;var copy=response.clone();caches.open(cacheKey).then(function(cache){cache.put(request,copy)})}else opts.debug;return response}function fetchFromCache(event,opts){return caches.match(event.request,{ignoreSearch:!0}).then(function(response){if(!response)throw opts.debug,Error("".concat(event.request.url," not found in cache"));return opts.debug,response})}function offlineResponse(resourceType,request,opts){return opts.debug,"image"===resourceType?new Response(opts.offlineImage,{headers:{"Content-Type":"image/svg+xml"}}):"content"===resourceType?caches.match(opts.offlinePage):void 0}var config={version:"default",debug:!1,staticCacheItems:self.location.host.indexOf("sumissura")>-1?["/images/logos/logo_sumi.svg","/images/logos/footer/social/social_sprite.png","/images/reviews/home_quotes_close.png","/images/reviews/home_quotes_open.png","/images/config/check-f.svg","/images/config/check-t.svg","/images/garment/loading.svg","/images/feed/ico_shipping.svg","/images/feed/ico_tailored.svg","/images/checkout/cart/sprite_shipping_pay.png"]:["/images/logos/logo_hockerty.svg","/images/logos/logo_sumi.svg","/images/logos/symbol_hockerty.svg","/images/logos/footer/social/social_sprite.png","/images/man_landings/desktop-sprite.png","/images/man_landings/logos_mentioned.png","/images/config/check-f.svg","/images/config/check-t.svg","/images/garment/loading.svg","/images/feed/ico_shipping.svg","/images/feed/ico_tailored.svg","/images/checkout/cart/sprite_shipping_pay.png"],cachePathPattern:/^\/(?:(css|js)\/(.+)?)?$/,cdnSource:["https://d2w9m16hs9jc37.cloudfront.net/","https://d2yo8p89bpsqlq.cloudfront.net/"],offlineImage:'<svg role="img" aria-labelledby="offline-title" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg"><title id="offline-title">Offline</title><g fill="none" fill-rule="evenodd"><path fill="#D8D8D8" d="M0 0h400v300H0z"/><text fill="#9B9B9B" font-family="Lato,sans-serif" font-size="72" font-weight="bold"><tspan x="93" y="172">offline</tspan></text></g></svg>'};self.addEventListener("install",function(event){var url=new URL(self.location.href);config.version=url.searchParams.get("v"),event.waitUntil(function(event,opts){opts.debug;var cacheKey=cacheName("static",opts),sCacheItems=[],currentCDN=opts.cdnSource[self.location.host.indexOf("sumissura")>-1?1:0];currentCDN=currentCDN.substring(0,currentCDN.length-1);for(var i=0;i<opts.staticCacheItems.length;i++)sCacheItems.push(currentCDN+opts.staticCacheItems[i]);return caches.open(cacheKey).then(function(cache){return cache.addAll(sCacheItems)}).catch(function(e){})}(0,config).then(function(){return self.skipWaiting()}))}),self.addEventListener("activate",function(event){var url=new URL(self.location.href);config.version=url.searchParams.get("v"),event.waitUntil(function(event,opts){opts.debug;var url=new URL(self.location.href);return opts.version=url.searchParams.get("v"),self.clients.matchAll().then(function(clients){if(clients.length){var matches=clients[0].url.match(/^.*(hockerty|sumissura)\.[a-z]{2,3}\/([a-z\-]{2,5})\//);if(matches){opts.region=matches[2];var home_url=matches[0]+"?utm_source=homescreen";return opts.staticCacheItems.push(home_url),caches.open(cacheName("static",opts)).then(function(cache){return cache.add(home_url)})}}}).catch(function(e){}),caches.keys().then(function(cacheKeys){var deletePromises=cacheKeys.filter(function(key){return 0!==key.indexOf(opts.version)}).map(function(oldKey){return caches.delete(oldKey)});return Promise.all(deletePromises)})}(0,config).then(function(){return self.clients.claim()}))}),self.addEventListener("fetch",function(event){(function(event,opts){var request=event.request,url=new URL(request.url);return"GET"===request.method&&!(url.origin!==self.location.origin&&!opts.cdnSource.filter(function(key){return key!==self.location.origin}).length)&&(!!opts.cachePathPattern.test(url.pathname)||opts.staticCacheItems.indexOf(url.pathname)>-1)})(event,config)&&(config.debug,function(event,opts){var cacheKey,request=event.request,acceptHeader=request.headers.get("Accept"),resourceType="static";-1!==acceptHeader.indexOf("text/html")?resourceType="content":-1!==acceptHeader.indexOf("image")&&(resourceType="image"),opts.debug,cacheKey=cacheName("static",opts),"content"===resourceType?(opts.debug,event.respondWith(fetch(request).then(function(response){return addToCache(cacheKey,request,response,opts)}).catch(function(){return fetchFromCache(event,opts)}).catch(function(){return offlineResponse(resourceType,request,opts)}))):event.respondWith(fetchFromCache(event,opts).catch(function(){return opts.debug,fetch(request).then(function(response){return addToCache(cacheKey,request,response,opts)}).catch(function(){return offlineResponse(resourceType,request,opts)})}))}(event,config))});var payloadLocation="browser-push",trackerId="n8X_NMRM-oYgHmQCI28XHA",apiBaseUrl="https://jumbe.zaius.com",appId="hockertycom";importScripts("https://d1zunpq61jfx20.cloudfront.net/web-push/zaius-push-worker.min.js");