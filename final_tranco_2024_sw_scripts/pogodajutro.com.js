importScripts('https://storage.googleapis.com/workbox-cdn/releases/6.1.1/workbox-sw.js');workbox.loadModule('workbox-routing');workbox.loadModule('workbox-strategies');workbox.loadModule('workbox-cacheable-response');workbox.loadModule('workbox-expiration');workbox.loadModule('workbox-precaching');const{registerRoute,setCatchHandler}=workbox.routing;const{NetworkFirst,StaleWhileRevalidate,CacheFirst}=workbox.strategies;const{CacheableResponsePlugin}=workbox.cacheableResponse;const{ExpirationPlugin}=workbox.expiration;const{precacheAndRoute,matchPrecache}=workbox.precaching;precacheAndRoute([{url:'/',revision:1}]);setCatchHandler(async({event})=>{if(event.request.destination==='document'){return matchPrecache('/offline.html');}
return Response.error();});self.addEventListener('install',e=>{self.skipWaiting();});registerRoute(({request})=>request.destination==='style'||request.destination==='script'||request.destination==='worker',new StaleWhileRevalidate({cacheName:'assets',plugins:[new CacheableResponsePlugin({statuses:[200],}),],}),);registerRoute(({request})=>request.destination==='image'||request.destination==='font',new CacheFirst({cacheName:'images',plugins:[new CacheableResponsePlugin({statuses:[200],}),new ExpirationPlugin({maxEntries:50,maxAgeSeconds:60*60*24*30,}),],}),);