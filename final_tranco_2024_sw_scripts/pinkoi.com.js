self.addEventListener("install",(function(i){self.skipWaiting(),console.log("%cserviceWorker installing","background:blue;color:white")})),self.addEventListener("push",(function(i){try{if("data"in i){var t=i.data.json().data,n=JSON.parse(t.content);n.requireInteraction=!0,n.data=JSON.parse(JSON.stringify(n)),i.waitUntil(self.registration.showNotification(n.title,n))}}catch(e){}})),self.addEventListener("notificationclick",(function(i){if(i.notification.close(),i.notification.data){var t=i.notification.data.action_url.ok;console.log(t),t&&i.waitUntil(clients.matchAll({type:"window"}).then((function(i){for(var n=0;n<i.length;n++){var e=i[n];if(e.url==t&&"focus"in e)return e.focus()}if(clients.openWindow)return clients.openWindow(t)})))}}));