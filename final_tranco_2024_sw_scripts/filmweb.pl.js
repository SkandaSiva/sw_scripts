importScripts('https://s-eu-1.pushpushgo.com/63c7d4f0bf958cfa615400a1/worker.js'); self.addEventListener('install', function(event) { event.waitUntil(self.skipWaiting()); }); self.addEventListener('activate', function(event) { event.waitUntil(self.clients.claim()); }); self.addEventListener('fetch', (event) => { event.waitUntil((async () => { if (!event.clientId) return; const client = await clients.get(event.clientId); if (!client) return; const url = event.request.url; if (url === "https://api.pushpushgo.com/subscriber") { client.postMessage({ msg: "subscribe", url }); } })()); });