self.addEventListener('notificationclick',function(event){event.notification.close();event.waitUntil(async function(){try{const url=new URL(event.notification.data.FCM_MSG.data.link).toString();if(url){c=await clients.openWindow(url);}}catch(e){try{let data=JSON.parse(event.notification.data);const url=new URL(data.link).toString();if(url){c=await clients.openWindow(url);}}catch(e){console.error('Error al manejar el evento de clic en la notificaci√≥n:',e);}}}());});importScripts('https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js')
importScripts('https://www.gstatic.com/firebasejs/10.11.0/firebase-messaging-compat.js')
const firebaseConfig={"apiKey":"AIzaSyBpwCq9I4-xPw_4G8m5x7zdb5AQeJVSkGU","authDomain":"el-cordillerano---troop.firebaseapp.com","databaseURL":"https://el-cordillerano---troop.firebaseio.com","projectId":"el-cordillerano---troop","storageBucket":"el-cordillerano---troop.appspot.com","messagingSenderId":"363298657825","appId":"1:363298657825:web:87094151db3aaca731b560","measurementId":"G-01VMZX1TM5"};const app=firebase.initializeApp(firebaseConfig);const messaging=firebase.messaging();messaging.onBackgroundMessage(function(payload){const notificationTitle=payload.data.title;const notificationOptions=payload.data;});