!function i(e,a,c){function r(o,t){if(!a[o]){if(!e[o]){var n="function"==typeof require&&require;if(!t&&n)return n(o,!0);if(d)return d(o,!0);throw new Error("Cannot find module '"+o+"'")}t=a[o]={exports:{}};e[o][0].call(t.exports,function(t){var n=e[o][1][t];return r(n||t)},t,t.exports,i,e,a,c)}return a[o].exports}for(var d="function"==typeof require&&require,t=0;t<c.length;t++)r(c[t]);return r}({1:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});let a=self,c="[Connectif Service Worker]";a.addEventListener("install",function(t){t.waitUntil(a.skipWaiting())}),a.addEventListener("activate",function(t){t.waitUntil(a.clients.claim())}),a.addEventListener("push",function(i){var e=i.data;if(e){let t;try{t=e.json()}catch(t){return void console.warn(c,"Error while parsing data",t)}let{title:n,options:o}=t;null!=(e=o.data)&&e.trackOpenEndpoint?(i.stopImmediatePropagation(),e=new Date,o.data.expirationDate&&new Date(o.data.expirationDate)<=e?console.info(c,"Push notification is expired and will not be shown"):("image"in Notification.prototype||(o.image=void 0,o.data.compact&&o.data.compact.icon&&""!==o.data.compact.icon&&(o.icon=o.data.compact.icon),o.data.compact&&o.data.compact.body&&""!==o.data.compact.body&&(o.body=o.data.compact.body)),i.waitUntil(a.registration.showNotification(n,o).then(()=>fetch(o.data.trackOpenEndpoint).catch(t=>console.error(c,"Error while tracking open",t))).catch(t=>console.error(c,"Error while showing push notification",t))))):console.info(c,"Push notification is not coming from Connectif")}else console.warn(c,"No data found on event received")}),a.addEventListener("notificationclick",function(t){var n=t.notification,o=n.data;if(o){t=o[t.action]||o.notificationClick;if(t){if(t.closeOnClick&&n.close(),"open-new-window"===t.actionTypeId){if(t.redirectUrl)return a.clients.openWindow(t.redirectUrl);console.info(c,"No redirect URL found on notification click event")}}else console.info(c,"No action data found on notification click event")}else console.info(c,"No data found on notification click event")},!1)},{}]},{},[1]);