/* version: 1.1.53 */
!function(){"use strict";function e(e,t,n,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=t.apply(n,r);function c(t){e(o,i,a,c,s,"next",t)}function s(t){e(o,i,a,c,s,"throw",t)}c(void 0)}))}}function n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c(e,t){if(e.length>32)throw new Error("Invalid key length for "+e+". Must be <= 32");if(!/^[\w\-_\u0080-\uFFFF]+$/.exec(e))throw new Error("Invalid key "+e);if(!/^[\u0002\u0020-\uFFFF]+$/.exec(t))throw new Error("Invalid value for "+e)}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var s={cacheBuster:function(){for(var e=0,t="";e<16;e++){var n=Math.floor(62*Math.random());t+=n<10?n:String.fromCharCode(n<36?n+55:n+61)}return t+","+Math.random()},validate:c,validateObj:function(e){for(var t in e)e.hasOwnProperty(t)&&c(t,e[t])},absorb:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},absorbValid:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(c(n,t[n]),e[n]=t[n])},clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},cloneValid:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(c(n,e[n]),t[n]=e[n]);return t},time:new function(){this.newTime=function(){this.date=new Date,this.ts=Math.floor(this.date.getTime()/1e3),this.ms=this.date.getMilliseconds()},this.newTime()}},l=s;var u=s,f=function(e,t,n,r){var i;i="click"===t?"c":"pv"===t?"b":"p";var a=null,o="";n&&(o=encodeURIComponent(n._R||""),delete n._R,a=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(encodeURIComponent(t+""+n[t]));return("c"===i?"&_K=":"&_P=")+e.join("%04").replace(/'/g,"%27")}());var c=function(){if(!r)return"c"===i?"&_C=%04":null;var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(encodeURIComponent(t+""+r[t]));return("c"===i?"&_C=":"&_L=")+e.join("%04").replace(/'/g,"%27")}(),s="";"p"===i&&"richview"===t&&(s="&_V=R");var u=["?s="+e,s,"&t="+l.cacheBuster(),"&_I=","&_AO=","&_NOL=","&_R="+o,a,c].join("");return["https://geo.yahoo.com/"+i,u].join("")},d=1,h="0.1.3",p={EVENT_TRIGGER_CLICK:{etrg:"click",usergenf:1},EVENT_TRIGGER_PRESS:{etrg:"press",usergenf:1},EVENT_TRIGGER_SWIPE:{etrg:"swipe",usergenf:1},EVENT_TRIGGER_SCROLL:{etrg:"scroll",usergenf:1},EVENT_TRIGGER_HOVER:{etrg:"hover",usergenf:1},EVENT_TRIGGER_DROP:{etrg:"drop",usergenf:1},EVENT_TRIGGER_DRAG:{etrg:"drag",usergenf:1},EVENT_TRIGGER_PINCH:{etrg:"pinch",usergenf:1},EVENT_TRIGGER_ORIENT:{etrg:"orient",usergenf:1}};var v=o({pageViewURL:function(e,t){if("string"!=typeof e&&"number"!=typeof e)throw new Error("Spaceid is REQUIRED");if(parseInt(e)!=e)throw new Error("Spaceid is INVALID");u.time.newTime();var n={_pl:17,_ms:u.time.ms,_ts:u.time.ts,A_v:"YI13N-BG-"+h,_gsqNo:d++};try{t&&u.absorbValid(n,t)}catch(e){throw new Error("pageParams Invalid")}return f(e,"pv",n,null)},interactionURL:function(e,t,n,r,i){if("string"!=typeof e&&"number"!=typeof e)throw new Error("Spaceid is REQUIRED");if(parseInt(e)!=e)throw new Error("Spaceid is INVALID");if(!t||"string"!=typeof t||!p[t])throw new Error("eventTrigger REQUIRED");if(!n||"string"!=typeof n)throw new Error("eventName REQUIRED");u.time.newTime();var a={_pl:17,_ms:u.time.ms,_ts:u.time.ts,A_v:"YI13N-BG-"+h,etrg:p[t].etrg,usergenf:p[t].usergenf,outcm:n,_gsqNo:d++};try{r&&u.absorbValid(a,r)}catch(e){throw new Error("pageParams Invalid")}if(i){if("object"!=typeof i||Array.isArray(i))throw new Error("interactionParams is INVALID");try{i=u.cloneValid(i)}catch(e){throw new Error("interactionParams are INVALID")}}return f(e,"click",a,i)},unregisteredURL:function(e,t,n){if("string"!=typeof e&&"number"!=typeof e)throw new Error("Spaceid is REQUIRED");if(parseInt(e)!=e)throw new Error("Spaceid is INVALID");if(!t||"string"!=typeof t)throw new Error("eventName REQUIRED");u.time.newTime();var r={_pl:17,_ms:u.time.ms,_ts:u.time.ts,A_v:"YI13N-BG-"+h,outcm:t,_gsqNo:d++};try{n&&u.absorbValid(r,n)}catch(e){throw new Error("pageParams Invalid")}return f(e,"lv",r,null)}});const y="subscriptions",m=e=>new Promise(((t,n)=>{e.onsuccess=({target:{result:e}})=>t(e),e.onerror=({target:{error:e}})=>n(e)})),g=function(){var e=t((function*(){const e=yield m(self.indexedDB.open("yahooNotifications"));try{if(e.objectStoreNames.contains(y)){const t=e.transaction(y).objectStore(y);return m(t.get("push"))}}finally{e.close()}}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=t((function*(){const e=yield self.registration.pushManager.getSubscription();return e?e.endpoint:null}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=t((function*(){const e=Date.now(),[t,n={}]=yield Promise.all([w(),g()]);return delete n.type,i(i({spaceId:"1197802003"},n),{},{version:"1.1.53",scope:self.registration.scope,subscription_endpoint:t,metadataTime:Date.now()-e})}));return function(){return e.apply(this,arguments)}}(),{unregisteredURL:_}=v,E="/_td_api/beacon/",S="notification-sw",P=e=>t((function*(...t){let n;try{return n=yield e(...t),yield fetch(n,{mode:"no-cors",credentials:"include"}),!0}catch(e){console.error(e)}})),I=e=>P(function(){var n=t((function*(t){const{spaceId:n,bucket:r}=yield b(),{title:i,uuid:a,followId:o,msg_id:c,pl1:s,publisher_msg_id:l,evaluateBuckets:u,publish_time:f,timeline_name:d,url:h}=t||{},p={msg_id:c,msg_type:d||"brknews",msg_txt:i||"fallback notification",msg_format:"text",msg_sent_time:f,pstaid:a,pl1:s,publisher_msg_id:l,aid:o,test:u||r,t:f,_w:h};return u&&(p.stest=u),e({spaceId:n,params:p})}));return function(e){return n.apply(this,arguments)}}()),R=e=>Object.keys(e).filter((t=>void 0!==e[t])).map((t=>"".concat(t,"=").concat(e[t]))).join("&"),O=P(function(){var e=t((function*(e){const t=yield b(),n=i(i(i({},e),t),{},{src:S,code:"info"});return"".concat(E,"info?").concat(R(n))}));return function(t){return e.apply(this,arguments)}}()),N=P(function(){var e=t((function*(e,t){const n=yield b(),r=i(i(i({},t),n),{},{src:S,code:"error",name:e.name,message:e.message});return"".concat(E,"error?").concat(R(r))}));return function(t,n){return e.apply(this,arguments)}}()),T=I((({spaceId:e,params:t})=>_(e,"notification_received",t))),j=I((({spaceId:e,params:t})=>(t.msg_action="open",_(e,"notification_engaged",t)))),k=I((({spaceId:e,params:t})=>(t.msg_action="dismissed",_(e,"notification_engaged",t)))),x=e=>n=>n.waitUntil(t((function*(){try{yield e(n)}catch(e){yield N(e)}}))()),U="context",D=e=>new Promise(((t,n)=>{e.onsuccess=({target:{result:e}})=>t(e),e.onerror=({target:{error:e}})=>n(e)})),V=function(){var e=t((function*(){const e=yield D(self.indexedDB.open("serviceWorker",1));try{if(e.objectStoreNames.contains(U)){const t=e.transaction(U,"readonly").objectStore(U);return D(t.get("context"))}}finally{e.close()}}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=t((function*(){const e=yield V();return e&&e.values||{}}));return function(){return e.apply(this,arguments)}}();var C={"en-US":{"Service Unavailable":"Service Unavailable","You have new notifications":"You have new notifications"},"ar-JO":{"Service Unavailable":"الخدمة غير متوفرة","You have new notifications":"لديك رسائل إعلام جديدة"},"de-DE":{"Service Unavailable":"Dienst nicht verfügbar","You have new notifications":"Sie haben neue Benachrichtigungen"},"el-GR":{"Service Unavailable":"Μη διαθέσιμη υπηρεσία","You have new notifications":"Έχετε νέες ειδοποιήσεις"},"es-ES":{"Service Unavailable":"Servicio no disponible","You have new notifications":"Tienes notificaciones nuevas"},"es-US":{"Service Unavailable":"Servicio no disponible","You have new notifications":"Tienes notificaciones nuevas"},"fr-BE":{"Service Unavailable":"Service indisponible","You have new notifications":"Vous avez de nouvelles notifications"},"fr-CA":{"Service Unavailable":"Service indisponible","You have new notifications":"Vous avez de nouvelles notifications"},"fr-FR":{"Service Unavailable":"Service indisponible","You have new notifications":"Vous avez de nouvelles notifications"},"id-ID":{"Service Unavailable":"Layanan Tidak Tersedia","You have new notifications":"Anda memiliki notifikasi baru"},"it-IT":{"Service Unavailable":"Servizio non disponibile","You have new notifications":"Hai nuove notifiche"},"nl-BE":{"Service Unavailable":"Service niet beschikbaar","You have new notifications":"Je hebt nieuwe meldingen"},"pt-BR":{"Service Unavailable":"Serviço indisponível","You have new notifications":"Você tem novas notificações"},"ro-RO":{"Service Unavailable":"Serviciu indisponibil","You have new notifications":"Aveți notificări noi"},"sv-SE":{"Service Unavailable":"Tjänsten är inte tillgänglig","You have new notifications":"Det finns nya meddelanden"},"vi-VN":{"Service Unavailable":"Dịch vụ hiện không hoạt động","You have new notifications":"Bạn có thông báo mới"}};const F=/^:([a-z])(\((.+)\))?/;var L=()=>{const e={};return{use({locale:t,defaultCurrency:n,messageBundle:r}){return e.locale=t,e.defaultCurrency=n,e.messageBundle=r,this.translate.bind(this)},translate(t,...n){const r=this._buildKey(t),i=e.messageBundle[r];if(i){const e=t.slice(1).map(this._extractTypeInfo),r=n.map(((t,n)=>this._localize(t,e[n])));return this._buildMessage(i,...r)}return`Error: ${r} translation missing!`},_localizers:{s:t=>t&&t.toLocaleString(e.locale),c:(t,n)=>t&&t.toLocaleString(e.locale,{style:"currency",currency:n||e.defaultCurrency}),n:(t,n)=>t&&t.toLocaleString(e.locale,{minimumFractionDigits:n,maximumFractionDigits:n})},_extractTypeInfo(e){const t=F.exec(e);return t?{type:t[1],options:t[3]}:{type:"s",options:""}},_localize(e,{type:t,options:n}){return this._localizers[t](e,n)},_buildKey(e){const t=e=>e.replace(F,""),n=t(e[e.length-1]);return e.slice(0,-1).reduceRight(((e,n,r)=>`${t(n)}{${r}}${e}`),n)},_buildMessage:(e,...t)=>e.replace(/{(\d)}/g,((e,n)=>t[Number(n)]))}},G=o(L);let B;const Y=function(){var e=t((function*(){if(B)return B;let e="en-US";try{e=(yield A()).lang||e}catch(e){}return B=G().use({locale:e,defaultCurrency:"USD",messageBundle:C[e]||C["en-US"]||{}}),B}));return function(){return e.apply(this,arguments)}}(),z=/\/\/(?:[^\/\.]+\.)?([^\/\.]+)\.yahoo\.com\/?(.*)$/,q={ng:!0,za:!0,au:!0,nz:!0,cn:!0,h1:!0,hk:!0,in:!0,id:!0,jp:!0,kr:!0,my:!0,ph:!0,pk:!0,aa:!0,sg:!0,tw:!0,k1:!0,th:!0,vn:!0,xa:!0,xe:!0,me:!0,at:!0,b2:!0,b3:!0,ch:!0,cz:!0,de:!0,dk:!0,ee:!0,es:!0,ct:!0,fi:!0,fr:!0,uk:!0,gr:!0,hu:!0,ie:!0,it:!0,lt:!0,lv:!0,nl:!0,no:!0,pl:!0,ro:!0,se:!0,tr:!0,ua:!0,ca:!0,cf:!0,qc:!0,mx:!0,us:!0,e1:!0,espanol:!0,www:!0,ar:!0,bo:!0,br:!0,cl:!0,co:!0,ec:!0,gf:!0,gy:!0,pe:!0,py:!0,sr:!0,uy:!0,ve:!0},M={celebridades:"celebrity",cine:"movies",cinema:"movies",kino:"movies",nachrichten:"news",noticias:"news",notizie:"news",people:"celebrity",stars:"celebrity","vida-estilo":"style"},W={all:!0,fp:!0},$="features",K=e=>new Promise(((t,n)=>{e.onsuccess=({target:{result:e}})=>t(e),e.onerror=({target:{error:e}})=>n(e)})),Q=function(){var e=t((function*(){const e=yield K(self.indexedDB.open("serviceWorker",1));try{if(e.objectStoreNames.contains($)){const t=e.transaction($,"readonly").objectStore($);return K(t.get("features"))}}finally{e.close()}}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=t((function*(){const e=yield Q();return e&&e.values||{}}));return function(){return e.apply(this,arguments)}}(),Z=(()=>{const e=navigator.userAgent,t=navigator.platform,n=["Win32","Win64","Windows","WinCE"],r=["iPhone","iPad","iPod"];if(t){if(-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t))return!0;if(-1!==r.indexOf(t))return!0;if(-1!==n.indexOf(t))return!1}return!!/Android/.test(e)||!!/iPad|iPhone|iPod/.test(e)})(),J=["pl1"];var X;const ee="notificationStatusByTag",te=e=>new Promise(((t,n)=>{e.onsuccess=({target:{result:e}})=>t(e),e.onerror=({target:{error:e}})=>n(e),e.onupgradeneeded=({target:{result:e}})=>{e.createObjectStore(ee,{keyPath:"tag"}).createIndex("key",["tag"])}})),ne=function(){var e=t((function*(e,t=3){let n;try{if(n=yield te(self.indexedDB.open("yahooNotificationsQueue",1)),n.objectStoreNames.contains(ee)){const r=n.transaction(ee,"readwrite").objectStore(ee),i=Date.now();let a;try{a=yield te(r.get(e))}catch(e){}a=a||{};let o=a.counter||0;const c=a.createdTime;o>=t&&(o=0),c&&((i-c)/1e3>=30?o++:c>i&&N(new Error("Previous time is greater than current time"),{fr:"getTagDetailsAfterUpdatingCounter"}));const s={createdTime:i,counter:o||1,tag:e};return yield te(r.put(s)),s}return Promise.resolve(!1)}catch(e){return Promise.reject(e)}finally{n&&n.close()}}));return function(t){return e.apply(this,arguments)}}();const re=function(){var e=t((function*(e){let t,n={};try{t=(yield A()).site}catch(e){}try{n=yield H()}catch(e){}const r=e||{data:{},meta:{fallback:!0},rmeta:{}},o=(yield Y())(X||(X=a(["You have new notifications"]))),c="https://s.yimg.com/cv/apiv2/notifications/default-notif-img.png-168x168.png",s=!(r.data&&r.data.title)||r.meta&&r.meta.fallback,l=function(){const e=self.navigator&&self.navigator.userAgent;return!(e&&(e.indexOf("Android")>-1||e.indexOf("android")>-1)||"image"in Notification.prototype)}(),{registration:u={}}=self,{scope:f="https://www.yahoo.com/"}=u,{image:d=c,title:h=o,summary:p="",uuid:v,followId:y,timeline_name:m,notification_id:g,publish_time:w}=r.data||{};let{url:b}=r.data||{};const _=m||"Breaking News";let E=_;b=b&&(n.convertNotificationUrl&&((e,t,n)=>{if(!e||-1===e.indexOf("yahoo.com")||!n||!t)return e;const r=e.match(z);if(r){"omg"===n&&(n="celebrity");const i="all"===n?"fp":n;let a=q[r[1]]?"fp":r[1];const o=r[2];a=M[a]||a,t&&!t.endsWith("/")&&(t="".concat(t,"/")),i===a?e="".concat(t).concat(o,"?re=0"):W[i]&&(e="".concat(t).concat(a,"/").concat(o,"?re=0"))}return e})(b,f,t)||b)||f;try{let e=yield ne(_);e=e||{},E="".concat(_,"_").concat(e.counter||1)}catch(e){N(new Error("details for tag not found in store"),{fr:"createNotification"})}const S=r.meta||{},{pl1:P=0}=S,I=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(S,J),{nid:R,rid:O}=r.rmeta||{};return{title:h,body:p,icon:d,tag:E,badge:"https://s.yimg.com/cv/apiv2/notifications/YCon_Badge_90_90_2.png",data:i(i({},I),{},{fallback:s,useNNS:l,title:h,body:p,url:b,uuid:v,followId:y,timeline_name:m,msg_id:O,notification_id:g,publish_time:w,publisher_msg_id:R,pl1:P,notification_shown:Date.now()})}}));return function(t){return e.apply(this,arguments)}}(),ie=(e,{prefix:t=""}={})=>Promise.all(e.filter((e=>!t||!e.startsWith(t))).map((e=>caches.delete(e)))).then((()=>!0)).catch((e=>(N(e,{fr:"_deleteCacheNames"}),!1))),ae=(e,n,{excludes:r=new Set}={})=>Promise.all(e.filter((e=>{const{url:t}=e;let n=!0;if(r&&r.size)for(const e of r.keys())if(e){new RegExp(e).test(t)&&(n=!1)}return n})).map(function(){var e=t((function*(e){return(yield caches.open(n)).delete(e)}));return function(t){return e.apply(this,arguments)}}())).then((()=>!0)).catch((e=>(N(e,{fr:"_deleteKeysForCacheName"}),!1))),oe=function(){var e=t((function*(){let e=!1;try{const t=yield caches.keys();e=yield ie(t)}catch(e){N(e,{fr:"deleteAllCacheNames",fr1:"cacheKeysFailed"})}return e}));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=t((function*(e,{excludes:t}={}){let n=!1;if(!e)return yield n;try{const r=yield caches.open(e),i=yield r.keys();O({event:"deleteCacheKeysForCacheName"}),n=yield ae(i,e,{excludes:t})}catch(e){N(e,{fr:"deleteCacheKeysForCacheName"})}return n}));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=t((function*(e){let t=!1;if(!e)return yield t;try{const n=yield caches.keys();t=yield ie(n,{prefix:e})}catch(t){N(t,{fr:"deleteCacheNamesWithoutPrefix",fr1:"cacheKeysFailed",prefix:e})}return t}));return function(t){return e.apply(this,arguments)}}();var le;const ue=(()=>{let e={};return{release:()=>{e={}},open:(n=t((function*(t){const n=e[t];return n||(e[t]=yield caches.open(t),e[t])})),function(e){return n.apply(this,arguments)})};var n})(),fe=(e,n,r=!1)=>function(){var i=t((function*(t){if(N(t,{fr:"_unableToResolve",redirect:r,strategy:n,url:e.request.url}),r){const{url:t}=e.request,r="cacheFirst"===n?t:((e,t,n)=>{const r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+i+t+"="+n})(t,"swnocache","1"),i=new Request(r,{redirect:"manual"});let a;try{a=yield fetch(i)}catch(e){}if(a)return a}const i=yield Y();return new Response("<h1>".concat(i(le||(le=a(["Service Unavailable"]))),"</h1>"),{status:503,statusText:"Service Unavailable",headers:new Headers({"Content-Type":"text/html"})})}));return function(e){return i.apply(this,arguments)}}(),de=(()=>{let e=0;return function(){var n=t((function*(n,r,i,a,o){const c=a.clone();let s;o=o||n.request.url;try{s=yield H(),s=s||{cache:0}}catch(e){N(e,{fr:"_cacheResponse",fr1:"featuresFailed",strategy:i,url:o})}if(!s)return a;if(1!==s.cache)return oe(),ue.release(),a;try{(yield ue.open(r)).put(o||n.request,c).then(t((function*(){if(0===e||e>5){if("storage"in navigator&&"estimate"in navigator.storage){const e=[o],{usage:t,quota:n}=yield navigator.storage.estimate();Math.round(t/n*100)>=80&&ce(r,{excludes:new Set(e)})}0===e?++e:e>5&&(e=0)}else++e}))).catch((()=>{}))}catch(e){N(e,{fr:"_cacheResponse",fr1:"cacheOpenFailed",strategy:i,url:o})}return a}));return function(e,t,r,i,a){return n.apply(this,arguments)}}()})(),he=(e,n)=>{const r=e.request.url;return t((function*(){try{const t=yield((e,t,n=20)=>new Promise(((r,i)=>{let a=!1;const o=setTimeout((()=>{a=!0,i(new Error("cache match timed out"))}),n);ue.open(e).then((e=>{if(!a)return e.match(t)})).then((e=>{a||(clearTimeout(o),r(e))})).catch((e=>{a||i(e)}))})))(n,e.request);if(!t)throw new Error("cache is empty");return t}catch(e){}try{const t=yield e.preloadResponse;if(t)return t}catch(e){N(e,{fr:"_cacheFirstStrategy",fr1:"preloadFailed",strategy:"cacheFirst",url:r})}let t;try{t=yield fetch(e.request)}catch(t){return yield fe(e,"cacheFirst",!0)(t)}if(t)try{de(e,n,"cacheFirst",t)}catch(e){}return t}))()},pe=function(){var e=t((function*(){return!!self.registration.navigationPreload&&(yield self.registration.navigationPreload.enable(),!0)}));return function(){return e.apply(this,arguments)}}();self.addEventListener("install",x((()=>{self.skipWaiting()}))),self.addEventListener("activate",x((()=>{const e=self.navigator;return e&&e.permissions&&e.permissions.query&&e.permissions.query({name:"notifications"}).then((e=>{e&&(e.onchange=function(){O({event:"userPermissionUpdate",newState:e.state})})})),Promise.all([pe(),se("1.1.53"),t((function*(){return O({event:"activate"})}))()])})));const ve=[/^https:\/\/s\.yimg\.com\/(lq|zz|os|aaq|fp|rq|nn|ss|rx|cb|cx|uc|pv)\/(?!(prebid|f10d))[a-zA-Z-_&?\.\/]+[0-9][a-zA-Z0-9-_&?\.\/]+\.(css|js)$/,/^https:\/\/assets\.video\.yahoo\.net\/[a-zA-Z0-9-\.\/]+css$/];self.addEventListener("fetch",(e=>((e,{cacheFirstPatterns:t=[],cacheName:n}={})=>{if(!n||!t.length)return;if(void 0!==Z&&!Z)return;const{destination:r,method:i,url:a}=e.request;if("GET"!==i||r&&"script"!==r&&"style"!==r)return;if(-1!==a.indexOf("swnocache=1"))return;let o,c,s,l,u=!1;for(c=0,s=t.length;c<s;c++)if(l=t[c],l&&l.test(a)){u=!0,o="cacheFirst";break}u&&"cacheFirst"===o&&e.respondWith(he(e,n))})(e,{cacheFirstPatterns:ve,cacheName:"1.1.53-ysw"}))),self.addEventListener("notificationclick",x(function(){var e=t((function*(e){e.notification.close();const t="https://www.yahoo.com/",n=e.notification.data||{url:t,chrome_fallback:!0},r=n.url||t,a=new URL(r.replace(/&amp;/g,"&"));if(a.searchParams&&!a.searchParams.has(".tsrc")){const e=a.searchParams.get("tsrc")||"notification-brknews";a.searchParams.set(".tsrc",e)}return Promise.all([O(i(i({},n),{},{event:"notificationclick",notification_interaction:Date.now()})),j(n),self.clients.openWindow(a)])}));return function(t){return e.apply(this,arguments)}}())),self.addEventListener("notificationclose",x((e=>{const t=e.notification.data||{chrome_fallback:!0};return Promise.all([O(i(i({},t),{},{event:"notificationclose",notification_interaction:Date.now()})),k(t)])}))),self.addEventListener("push",x(function(){var e=t((function*(e){let t,n={data:{},meta:{fallback:!0}};try{e.data?n=e.data.json():t=new Error('"data" property is missing on push payload')}catch(e){t=e}const{title:r,body:a,icon:o,tag:c,badge:s,data:l}=yield re(n);try{const e=yield self.registration.getNotifications({tag:c});e&&e.forEach((e=>{e.close()}))}catch(e){}return Promise.all([self.registration.showNotification(r,{body:a,icon:o,tag:c,badge:s,data:l,renotify:!0,requireInteraction:!l.fallback}),Promise.resolve(t&&N(t,l)),T(l),O(i(i({},l),{},{event:"push"}))])}));return function(t){return e.apply(this,arguments)}}()));const ye=new class{constructor(){var e=this;n(this,"handlers",new Map),n(this,"handleMessage",function(){var n=t((function*({origin:t,data:{method:n,params:r}={},ports:[i]}){if(!e.isValidOrigin(t)){const e=new Error("Invalid post message origin");return N(e,{origin:t})}let a=null,o=null;try{const t=e.handlers.get(n);if(!t)throw new ReferenceError('No handler for: "'.concat(n,'"'));o=yield t(...r)}catch(e){a=e.message,yield N(e,{method:n})}i&&i.postMessage({error:a,result:o})}));return function(e){return n.apply(this,arguments)}}())}handle(e,t){this.handlers.set(e,t)}isValidOrigin(e){return self.registration.scope.startsWith(e)}};self.addEventListener("message",x(ye.handleMessage))}();
//# sourceMappingURL=mwc-sw.min.js.map
