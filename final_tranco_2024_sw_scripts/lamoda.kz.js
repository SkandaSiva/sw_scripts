(function(){"use strict";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Be=function(t,e){return Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Be(t,e)};function ce(t,e){Be(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var f=function(){return f=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},f.apply(this,arguments)};function $(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(R(arguments[e]));return t}var D;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(D||(D={}));function $r(t){t.then(null,function(e){console.error(e)})}function Yr(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function He(){return!Yr()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Jr(t,e){return t.require(e)}var Xr={};function v(){return He()?global:typeof window<"u"?window:typeof self<"u"?self:Xr}function We(t,e,r){var n=r||v(),i=n.__SENTRY__=n.__SENTRY__||{},s=i[t]||(i[t]=e());return s}var Nt=Object.prototype.toString;function Ge(t){switch(Nt.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return M(t,Error)}}function V(t,e){return Nt.call(t)==="[object "+e+"]"}function It(t){return V(t,"ErrorEvent")}function Pt(t){return V(t,"DOMError")}function Kr(t){return V(t,"DOMException")}function Q(t){return V(t,"String")}function ze(t){return t===null||typeof t!="object"&&typeof t!="function"}function Z(t){return V(t,"Object")}function ve(t){return typeof Event<"u"&&M(t,Event)}function Vr(t){return typeof Element<"u"&&M(t,Element)}function Qr(t){return V(t,"RegExp")}function $e(t){return!!(t&&t.then&&typeof t.then=="function")}function Zr(t){return Z(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function en(t){return typeof t=="number"&&t!==t}function M(t,e){try{return t instanceof e}catch{return!1}}function Ye(t,e){try{for(var r=t,n=5,i=80,s=[],a=0,o=0,u=" > ",c=u.length,d=void 0;r&&a++<n&&(d=tn(r,e),!(d==="html"||a>1&&o+s.length*c+d.length>=i));)s.push(d),o+=d.length,r=r.parentNode;return s.reverse().join(u)}catch{return"<unknown>"}}function tn(t,e){var r=t,n=[],i,s,a,o,u;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());var c=e&&e.length?e.filter(function(l){return r.getAttribute(l)}).map(function(l){return[l,r.getAttribute(l)]}):null;if(c&&c.length)c.forEach(function(l){n.push("["+l[0]+'="'+l[1]+'"]')});else if(r.id&&n.push("#"+r.id),i=r.className,i&&Q(i))for(s=i.split(/\s+/),u=0;u<s.length;u++)n.push("."+s[u]);var d=["type","name","title","alt"];for(u=0;u<d.length;u++)a=d[u],o=r.getAttribute(a),o&&n.push("["+a+'="'+o+'"]');return n.join("")}function rn(){var t=v();try{return t.document.location.href}catch{return""}}var nn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?sn:an);function sn(t,e){return t.__proto__=e,t}function an(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=e[r]);return t}var E=function(t){ce(e,t);function e(r){var n=this.constructor,i=t.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,nn(i,n.prototype),i}return e}(Error),ee=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__,on=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function un(t){return t==="http"||t==="https"}function fe(t,e){e===void 0&&(e=!1);var r=t.host,n=t.path,i=t.pass,s=t.port,a=t.projectId,o=t.protocol,u=t.publicKey;return o+"://"+u+(e&&i?":"+i:"")+("@"+r+(s?":"+s:"")+"/"+(n&&n+"/")+a)}function cn(t){var e=on.exec(t);if(!e)throw new E("Invalid Sentry Dsn: "+t);var r=R(e.slice(1),6),n=r[0],i=r[1],s=r[2],a=s===void 0?"":s,o=r[3],u=r[4],c=u===void 0?"":u,d=r[5],l="",h=d,p=h.split("/");if(p.length>1&&(l=p.slice(0,-1).join("/"),h=p.pop()),h){var b=h.match(/^\d+/);b&&(h=b[0])}return Dt({host:o,pass:a,path:l,projectId:h,port:c,protocol:n,publicKey:i})}function Dt(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function fn(t){if(ee){var e=t.port,r=t.projectId,n=t.protocol,i=["protocol","publicKey","host","projectId"];if(i.forEach(function(s){if(!t[s])throw new E("Invalid Sentry Dsn: "+s+" missing")}),!r.match(/^\d+$/))throw new E("Invalid Sentry Dsn: Invalid projectId "+r);if(!un(n))throw new E("Invalid Sentry Dsn: Invalid protocol "+n);if(e&&isNaN(parseInt(e,10)))throw new E("Invalid Sentry Dsn: Invalid port "+e);return!0}}function Je(t){var e=typeof t=="string"?cn(t):Dt(t);return fn(e),e}var ln=["fatal","error","warning","log","info","debug","critical"],dn=v(),hn="Sentry Logger ",ye=["debug","info","warn","error","log","assert"];function At(t){var e=v();if(!("console"in e))return t();var r=e.console,n={};ye.forEach(function(i){var s=r[i]&&r[i].__sentry_original__;i in e.console&&s&&(n[i]=r[i],r[i]=s)});try{return t()}finally{Object.keys(n).forEach(function(i){r[i]=n[i]})}}function Ut(){var t=!1,e={enable:function(){t=!0},disable:function(){t=!1}};return ee?ye.forEach(function(r){e[r]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];t&&At(function(){var s;(s=dn.console)[r].apply(s,y([hn+"["+r+"]:"],n))})}}):ye.forEach(function(r){e[r]=function(){}}),e}var g;ee?g=We("logger",Ut):g=Ut();function le(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}function Lt(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function Xe(t,e){return Q(t)?Qr(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}function S(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{qt(i,n)}catch{}t[e]=i}}function we(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}function qt(t,e){var r=e.prototype||{};t.prototype=e.prototype=r,we(t,"__sentry_original__",e)}function Ke(t){return t.__sentry_original__}function pn(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function jt(t){var e=t;if(Ge(t))e=f({message:t.message,name:t.name,stack:t.stack},Ct(t));else if(ve(t)){var r=t;e=f({type:r.type,target:Mt(r.target),currentTarget:Mt(r.currentTarget)},Ct(r)),typeof CustomEvent<"u"&&M(t,CustomEvent)&&(e.detail=r.detail)}return e}function Mt(t){try{return Vr(t)?Ye(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Ct(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function gn(t,e){e===void 0&&(e=40);var r=Object.keys(jt(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return le(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:le(i,e)}return""}function Ve(t){var e,r;if(Z(t)){var n={};try{for(var i=$(Object.keys(t)),s=i.next();!s.done;s=i.next()){var a=s.value;typeof t[a]<"u"&&(n[a]=Ve(t[a]))}}catch(o){e={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n}return Array.isArray(t)?t.map(Ve):t}var mn=50;function _n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.sort(function(n,i){return n[0]-i[0]}).map(function(n){return n[1]});return function(n,i){var s,a,o,u;i===void 0&&(i=0);var c=[];try{for(var d=$(n.split(`
`).slice(i)),l=d.next();!l.done;l=d.next()){var h=l.value;try{for(var p=(o=void 0,$(r)),b=p.next();!b.done;b=p.next()){var q=b.value,x=q(h);if(x){c.push(x);break}}}catch(j){o={error:j}}finally{try{b&&!b.done&&(u=p.return)&&u.call(p)}finally{if(o)throw o.error}}}}catch(j){s={error:j}}finally{try{l&&!l.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}return vn(c)}}function vn(t){if(!t.length)return[];var e=t,r=e[0].function||"",n=e[e.length-1].function||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(e=e.slice(1)),n.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,mn).map(function(i){return f(f({},i),{filename:i.filename||e[0].filename,function:i.function||"?"})}).reverse()}var Qe="<anonymous>";function C(t){try{return!t||typeof t!="function"?Qe:t.name||Qe}catch{return Qe}}function be(){if(!("fetch"in v()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function Ze(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function yn(){if(!be())return!1;var t=v();if(Ze(t.fetch))return!0;var e=!1,r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ze(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){ee&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function wn(){if(!be())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function bn(){var t=v(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}var m=v(),de={},Ft={};function En(t){if(!Ft[t])switch(Ft[t]=!0,t){case"console":Sn();break;case"dom":Dn();break;case"xhr":kn();break;case"fetch":Rn();break;case"history":On();break;case"error":An();break;case"unhandledrejection":Un();break;default:ee&&g.warn("unknown instrumentation type:",t);return}}function F(t,e){de[t]=de[t]||[],de[t].push(e),En(t)}function I(t,e){var r,n;if(!(!t||!de[t]))try{for(var i=$(de[t]||[]),s=i.next();!s.done;s=i.next()){var a=s.value;try{a(e)}catch(o){ee&&g.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+C(a)+`
Error:`,o)}}}catch(o){r={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function Sn(){"console"in m&&ye.forEach(function(t){t in m.console&&S(m.console,t,function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];I("console",{args:r,level:t}),e&&e.apply(m.console,r)}})})}function Rn(){yn()&&S(m,"fetch",function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:Tn(e),url:xn(e)},startTimestamp:Date.now()};return I("fetch",f({},n)),t.apply(m,e).then(function(i){return I("fetch",f(f({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw I("fetch",f(f({},n),{endTimestamp:Date.now(),error:i})),i})}})}function Tn(t){return t===void 0&&(t=[]),"Request"in m&&M(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function xn(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in m&&M(t[0],Request)?t[0].url:String(t[0])}function kn(){if("XMLHttpRequest"in m){var t=XMLHttpRequest.prototype;S(t,"open",function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this,s=r[1],a=i.__sentry_xhr__={method:Q(r[0])?r[0].toUpperCase():r[0],url:r[1]};Q(s)&&a.method==="POST"&&s.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var o=function(){if(i.readyState===4){try{a.status_code=i.status}catch{}I("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?S(i,"onreadystatechange",function(u){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return o(),u.apply(i,c)}}):i.addEventListener("readystatechange",o),e.apply(i,r)}}),S(t,"send",function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this.__sentry_xhr__&&r[0]!==void 0&&(this.__sentry_xhr__.body=r[0]),I("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}})}}var Ee;function On(){if(!bn())return;var t=m.onpopstate;m.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=m.location.href,s=Ee;if(Ee=i,I("history",{from:s,to:i}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=n.length>2?n[2]:void 0;if(s){var a=Ee,o=String(s);Ee=o,I("history",{from:a,to:o})}return r.apply(this,n)}}S(m.history,"pushState",e),S(m.history,"replaceState",e)}var Nn=1e3,Se,Re;function In(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function Pn(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function Bt(t,e){return e===void 0&&(e=!1),function(r){if(!(!r||Re===r)&&!Pn(r)){var n=r.type==="keypress"?"input":r.type;Se===void 0?(t({event:r,name:n,global:e}),Re=r):In(Re,r)&&(t({event:r,name:n,global:e}),Re=r),clearTimeout(Se),Se=m.setTimeout(function(){Se=void 0},Nn)}}}function Dn(){if("document"in m){var t=I.bind(null,"dom"),e=Bt(t,!0);m.document.addEventListener("click",e,!1),m.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(r){var n=m[r]&&m[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(S(n,"addEventListener",function(i){return function(s,a,o){if(s==="click"||s=="keypress")try{var u=this,c=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},d=c[s]=c[s]||{refCount:0};if(!d.handler){var l=Bt(t);d.handler=l,i.call(this,s,l,o)}d.refCount+=1}catch{}return i.call(this,s,a,o)}}),S(n,"removeEventListener",function(i){return function(s,a,o){if(s==="click"||s=="keypress")try{var u=this,c=u.__sentry_instrumentation_handlers__||{},d=c[s];d&&(d.refCount-=1,d.refCount<=0&&(i.call(this,s,d.handler,o),d.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,a,o)}}))})}}var et=null;function An(){et=m.onerror,m.onerror=function(t,e,r,n,i){return I("error",{column:n,error:i,line:r,msg:t,url:e}),et?et.apply(this,arguments):!1}}var tt=null;function Un(){tt=m.onunhandledrejection,m.onunhandledrejection=function(t){return I("unhandledrejection",t),tt?tt.apply(this,arguments):!0}}function Ln(){var t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(var s=0;s<e.length;s++){var a=e[s];if(a===i)return!0}return e.push(i),!1}function n(i){if(t)e.delete(i);else for(var s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return[r,n]}function te(){var t=v(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=function(i){for(var s=i.toString(16);s.length<4;)s="0"+s;return s};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var s=Math.random()*16|0,a=i==="x"?s:s&3|8;return a.toString(16)})}function rt(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}function Ht(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Y(t){var e=t.message,r=t.event_id;if(e)return e;var n=Ht(t);return n?n.type&&n.value?n.type+": "+n.value:n.type||n.value||r||"<unknown>":r||"<unknown>"}function nt(t,e,r){var n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}function he(t,e){var r=Ht(t);if(r){var n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism=f(f(f({},n),i),e),e&&"data"in e){var s=f(f({},i&&i.data),e.data);r.mechanism.data=s}}}function Wt(t){if(t&&t.__sentry_captured__)return!0;try{we(t,"__sentry_captured__",!0)}catch{}return!1}function J(t,e,r){e===void 0&&(e=1/0),r===void 0&&(r=1/0);try{return zt("",t,e,r)}catch(n){return{ERROR:"**non-serializable** ("+n+")"}}}function Gt(t,e,r){e===void 0&&(e=3),r===void 0&&(r=100*1024);var n=J(t,e);return Mn(n)>r?Gt(t,e-1,r):n}function zt(t,e,r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Ln());var s=R(i,2),a=s[0],o=s[1],u=e;if(u&&typeof u.toJSON=="function")try{return u.toJSON()}catch{}if(e===null||["number","boolean","string"].includes(typeof e)&&!en(e))return e;var c=qn(t,e);if(!c.startsWith("[object "))return c;if(r===0)return c.replace("object ","");if(a(e))return"[Circular ~]";var d=Array.isArray(e)?[]:{},l=0,h=Ge(e)||ve(e)?jt(e):e;for(var p in h)if(Object.prototype.hasOwnProperty.call(h,p)){if(l>=n){d[p]="[MaxProperties ~]";break}var b=h[p];d[p]=zt(p,b,r-1,n,i),l+=1}return o(e),d}function qn(t,e){try{return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&e===global?"[Global]":typeof window<"u"&&e===window?"[Window]":typeof document<"u"&&e===document?"[Document]":Zr(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+C(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":"[object "+Object.getPrototypeOf(e).constructor.name+"]"}catch(r){return"**non-serializable** ("+r+")"}}function jn(t){return~-encodeURI(t).split(/%..|./).length}function Mn(t){return jn(JSON.stringify(t))}function X(t){return new B(function(e){e(t)})}function pe(t){return new B(function(e,r){r(t)})}var B=function(){function t(e){var r=this;this._state=0,this._handlers=[],this._resolve=function(n){r._setResult(1,n)},this._reject=function(n){r._setResult(2,n)},this._setResult=function(n,i){if(r._state===0){if($e(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._executeHandlers=function(){if(r._state!==0){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i[0]||(r._state===1&&i[1](r._value),r._state===2&&i[2](r._value),i[0]=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.prototype.then=function(e,r){var n=this;return new t(function(i,s){n._handlers.push([!1,function(a){if(!e)i(a);else try{i(e(a))}catch(o){s(o)}},function(a){if(!r)s(a);else try{i(r(a))}catch(o){s(o)}}]),n._executeHandlers()})},t.prototype.catch=function(e){return this.then(function(r){return r},e)},t.prototype.finally=function(e){var r=this;return new t(function(n,i){var s,a;return r.then(function(o){a=!1,s=o,e&&e()},function(o){a=!0,s=o,e&&e()}).then(function(){if(a){i(s);return}n(s)})})},t}();function $t(t){var e=[];function r(){return t===void 0||e.length<t}function n(a){return e.splice(e.indexOf(a),1)[0]}function i(a){if(!r())return pe(new E("Not adding Promise due to buffer limit reached."));var o=a();return e.indexOf(o)===-1&&e.push(o),o.then(function(){return n(o)}).then(null,function(){return n(o).then(null,function(){})}),o}function s(a){return new B(function(o,u){var c=e.length;if(!c)return o(!0);var d=setTimeout(function(){a&&a>0&&o(!1)},a);e.forEach(function(l){X(l).then(function(){--c||(clearTimeout(d),o(!0))},u)})})}return{$:e,add:i,drain:s}}function Cn(t){return ln.indexOf(t)!==-1}function Fn(t){return t==="warn"?D.Warning:Cn(t)?t:D.Log}function Yt(t){return t>=200&&t<300?"success":t===429?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}var it={nowSeconds:function(){return Date.now()/1e3}};function Bn(){var t=v().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}function Hn(){try{var t=Jr(module,"perf_hooks");return t.performance}catch{return}}var st=He()?Hn():Bn(),Jt=st===void 0?it:{nowSeconds:function(){return(st.timeOrigin+st.now())/1e3}},Te=it.nowSeconds.bind(it),Xt=Jt.nowSeconds.bind(Jt);(function(){var t=v().performance;if(!(!t||!t.now)){var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,o=typeof a=="number",u=o?Math.abs(a+r-n):e,c=u<e;return s||c?i<=u?t.timeOrigin:a:n}})();function xe(t,e){return e===void 0&&(e=[]),[t,e]}function Wn(t){var e=R(t,2),r=R(e[1],1),n=R(r[0],1),i=n[0];return i.type}function ke(t){var e=R(t,2),r=e[0],n=e[1],i=JSON.stringify(r);return n.reduce(function(s,a){var o=R(a,2),u=o[0],c=o[1],d=ze(c)?String(c):JSON.stringify(c);return s+`
`+JSON.stringify(u)+`
`+d},i)}function Gn(t,e,r){var n=[{type:"client_report"},{timestamp:Te(),discarded_events:t}];return xe(e?{dsn:e}:{},[n])}var zn=60*1e3;function $n(t,e){e===void 0&&(e=Date.now());var r=parseInt(""+t,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+t);return isNaN(n)?zn:n-e}function at(t,e){return t[e]||t.all||0}function Kt(t,e,r){return r===void 0&&(r=Date.now()),at(t,e)>r}function Vt(t,e,r){var n,i,s,a;r===void 0&&(r=Date.now());var o=f({},t),u=e["x-sentry-rate-limits"],c=e["retry-after"];if(u)try{for(var d=$(u.trim().split(",")),l=d.next();!l.done;l=d.next()){var h=l.value,p=h.split(":",2),b=parseInt(p[0],10),q=(isNaN(b)?60:b)*1e3;if(!p[1])o.all=r+q;else try{for(var x=(s=void 0,$(p[1].split(";"))),j=x.next();!j.done;j=x.next()){var Sa=j.value;o[Sa]=r+q}}catch(Ot){s={error:Ot}}finally{try{j&&!j.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}}}catch(Ot){n={error:Ot}}finally{try{l&&!l.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}else c&&(o.all=r+$n(c,r));return o}var Qt=100,Oe=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=y(e._breadcrumbs),r._tags=f({},e._tags),r._extra=f({},e._extra),r._contexts=f({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=y(e._eventProcessors),r._requestSession=e._requestSession),r},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=f(f({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,r){var n;return this._tags=f(f({},this._tags),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=f(f({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,r){var n;return this._extra=f(f({},this._extra),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,r){var n;return r===null?delete this._contexts[e]:this._contexts=f(f({},this._contexts),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=f(f({},this._tags),e._tags),this._extra=f(f({},this._extra),e._extra),this._contexts=f(f({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Z(e)&&(e=e,this._tags=f(f({},this._tags),e.tags),this._extra=f(f({},this._extra),e.extra),this._contexts=f(f({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,r){var n=typeof r=="number"?Math.min(r,Qt):Qt;if(n<=0)return this;var i=f({timestamp:Te()},e);return this._breadcrumbs=y(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,r){if(this._extra&&Object.keys(this._extra).length&&(e.extra=f(f({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=f(f({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=f(f({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=f(f({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=f({trace:this._span.getTraceContext()},e.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags=f({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=y(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(y(Zt(),this._eventProcessors),e,r)},t.prototype.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata=f(f({},this._sdkProcessingMetadata),e),this},t.prototype._notifyEventProcessors=function(e,r,n,i){var s=this;return i===void 0&&(i=0),new B(function(a,o){var u=e[i];if(r===null||typeof u!="function")a(r);else{var c=u(f({},r),n);$e(c)?c.then(function(d){return s._notifyEventProcessors(e,d,n,i+1).then(a)}).then(null,o):s._notifyEventProcessors(e,c,n,i+1).then(a).then(null,o)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();function Zt(){return We("globalEventProcessors",function(){return[]})}function ot(t){Zt().push(t)}var Yn=function(){function t(e){this.errors=0,this.sid=te(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var r=Xt();this.timestamp=r,this.started=r,e&&this.update(e)}return t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Xt(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:te()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status==="ok"?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return Ve({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}(),er=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__,ut=4,Jn=100,ct=function(){function t(e,r,n){r===void 0&&(r=new Oe),n===void 0&&(n=ut),this._version=n,this._stack=[{}],this.getStackTop().scope=r,e&&this.bindClient(e)}return t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=Oe.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,r){var n=this._lastEventId=r&&r.event_id?r.event_id:te(),i=r;if(!r){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(a){s=a}i={originalException:e,syntheticException:s}}return this._invokeClient("captureException",e,f(f({},i),{event_id:n})),n},t.prototype.captureMessage=function(e,r,n){var i=this._lastEventId=n&&n.event_id?n.event_id:te(),s=n;if(!n){var a=void 0;try{throw new Error(e)}catch(o){a=o}s={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,r,f(f({},s),{event_id:i})),i},t.prototype.captureEvent=function(e,r){var n=r&&r.event_id?r.event_id:te();return e.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",e,f(f({},r),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,r){var n=this.getStackTop(),i=n.scope,s=n.client;if(!(!i||!s)){var a=s.getOptions&&s.getOptions()||{},o=a.beforeBreadcrumb,u=o===void 0?null:o,c=a.maxBreadcrumbs,d=c===void 0?Jn:c;if(!(d<=0)){var l=Te(),h=f({timestamp:l},e),p=u?At(function(){return u(h,r)}):h;p!==null&&i.addBreadcrumb(p,d)}}},t.prototype.setUser=function(e){var r=this.getScope();r&&r.setUser(e)},t.prototype.setTags=function(e){var r=this.getScope();r&&r.setTags(e)},t.prototype.setExtras=function(e){var r=this.getScope();r&&r.setExtras(e)},t.prototype.setTag=function(e,r){var n=this.getScope();n&&n.setTag(e,r)},t.prototype.setExtra=function(e,r){var n=this.getScope();n&&n.setExtra(e,r)},t.prototype.setContext=function(e,r){var n=this.getScope();n&&n.setContext(e,r)},t.prototype.configureScope=function(e){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&e(n)},t.prototype.run=function(e){var r=tr(this);try{e(this)}finally{tr(r)}},t.prototype.getIntegration=function(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return er&&g.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,r){return this._callExtensionMethod("startTransaction",e,r)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e=this.getStackTop(),r=e&&e.scope,n=r&&r.getSession();n&&n.close(),this._sendSessionUpdate(),r&&r.setSession()},t.prototype.startSession=function(e){var r=this.getStackTop(),n=r.scope,i=r.client,s=i&&i.getOptions()||{},a=s.release,o=s.environment,u=v(),c=(u.navigator||{}).userAgent,d=new Yn(f(f(f({release:a,environment:o},n&&{user:n.getUser()}),c&&{userAgent:c}),e));if(n){var l=n.getSession&&n.getSession();l&&l.status==="ok"&&l.update({status:"exited"}),this.endSession(),n.setSession(d)}return d},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),r=e.scope,n=e.client;if(r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),a=s.scope,o=s.client;o&&o[e]&&(r=o)[e].apply(r,y(n,[a]))},t.prototype._callExtensionMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Ne(),s=i.__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);er&&g.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();function Ne(){var t=v();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function tr(t){var e=Ne(),r=H(e);return ft(e,t),r}function T(){var t=Ne();return(!rr(t)||H(t).isOlderThan(ut))&&ft(t,new ct),He()?Xn(t):H(t)}function Xn(t){try{var e=Ne().__SENTRY__,r=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!r)return H(t);if(!rr(r)||H(r).isOlderThan(ut)){var n=H(t).getStackTop();ft(r,new ct(n.client,Oe.clone(n.scope)))}return H(r)}catch{return H(t)}}function rr(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function H(t){return We("hub",function(){return new ct},t)}function ft(t,e){if(!t)return!1;var r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}function nr(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=T();if(n&&n[t])return n[t].apply(n,y(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Kn(t,e){var r=new Error("Sentry syntheticException");return nr("captureException",t,{captureContext:e,originalException:t,syntheticException:r})}function Vn(t){nr("withScope",t)}var Qn="7";function Ie(t,e,r){return{initDsn:t,metadata:e||{},dsn:Je(t),tunnel:r}}function ir(t){var e=t.protocol?t.protocol+":":"",r=t.port?":"+t.port:"";return e+"//"+t.host+r+(t.path?"/"+t.path:"")+"/api/"}function sr(t,e){return""+ir(t)+t.projectId+"/"+e+"/"}function ar(t){return pn({sentry_key:t.publicKey,sentry_version:Qn})}function Zn(t){return sr(t,"store")}function or(t){return Zn(t)+"?"+ar(t)}function ei(t){return sr(t,"envelope")}function Pe(t,e){return e||ei(t)+"?"+ar(t)}function ti(t,e){var r=Je(t),n=ir(r)+"embed/error-page/",i="dsn="+fe(r);for(var s in e)if(s!=="dsn")if(s==="user"){if(!e.user)continue;e.user.name&&(i+="&name="+encodeURIComponent(e.user.name)),e.user.email&&(i+="&email="+encodeURIComponent(e.user.email))}else i+="&"+encodeURIComponent(s)+"="+encodeURIComponent(e[s]);return n+"?"+i}var w=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__,ur=[];function cr(t){return t.reduce(function(e,r){return e.every(function(n){return r.name!==n.name})&&e.push(r),e},[])}function ri(t){var e=t.defaultIntegrations&&y(t.defaultIntegrations)||[],r=t.integrations,n=y(cr(e));Array.isArray(r)?n=y(n.filter(function(a){return r.every(function(o){return o.name!==a.name})}),cr(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),s="Debug";return i.indexOf(s)!==-1&&n.push.apply(n,y(n.splice(i.indexOf(s),1))),n}function ni(t){ur.indexOf(t.name)===-1&&(t.setupOnce(ot,T),ur.push(t.name),w&&g.log("Integration installed: "+t.name))}function ii(t){var e={};return ri(t).forEach(function(r){e[r.name]=r,ni(r)}),we(e,"initialized",!0),e}var fr="Not capturing exception because it's already been captured.",si=function(){function t(e,r){this._integrations={},this._numProcessing=0,this._backend=new e(r),this._options=r,r.dsn&&(this._dsn=Je(r.dsn))}return t.prototype.captureException=function(e,r,n){var i=this;if(Wt(e)){w&&g.log(fr);return}var s=r&&r.event_id;return this._process(this._getBackend().eventFromException(e,r).then(function(a){return i._captureEvent(a,r,n)}).then(function(a){s=a})),s},t.prototype.captureMessage=function(e,r,n,i){var s=this,a=n&&n.event_id,o=ze(e)?this._getBackend().eventFromMessage(String(e),r,n):this._getBackend().eventFromException(e,n);return this._process(o.then(function(u){return s._captureEvent(u,n,i)}).then(function(u){a=u})),a},t.prototype.captureEvent=function(e,r,n){if(r&&r.originalException&&Wt(r.originalException)){w&&g.log(fr);return}var i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(function(s){i=s})),i},t.prototype.captureSession=function(e){if(!this._isEnabled()){w&&g.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?w&&g.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(e){var r=this;return this._isClientDoneProcessing(e).then(function(n){return r.getTransport().close(e).then(function(i){return n&&i})})},t.prototype.close=function(e){var r=this;return this.flush(e).then(function(n){return r.getOptions().enabled=!1,n})},t.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=ii(this._options))},t.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch{return w&&g.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(e,r){var n,i,s=!1,a=!1,o=r.exception&&r.exception.values;if(o){a=!0;try{for(var u=$(o),c=u.next();!c.done;c=u.next()){var d=c.value,l=d.mechanism;if(l&&l.handled===!1){s=!0;break}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}var h=e.status==="ok",p=h&&e.errors===0||h&&s;p&&(e.update(f(f({},s&&{status:"crashed"}),{errors:e.errors||Number(a||s)})),this.captureSession(e))},t.prototype._sendSession=function(e){this._getBackend().sendSession(e)},t.prototype._isClientDoneProcessing=function(e){var r=this;return new B(function(n){var i=0,s=1,a=setInterval(function(){r._numProcessing==0?(clearInterval(a),n(!0)):(i+=s,e&&i>=e&&(clearInterval(a),n(!1)))},s)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(e,r,n){var i=this,s=this.getOptions(),a=s.normalizeDepth,o=a===void 0?3:a,u=s.normalizeMaxBreadth,c=u===void 0?1e3:u,d=f(f({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:te()),timestamp:e.timestamp||Te()});this._applyClientOptions(d),this._applyIntegrationsMetadata(d);var l=r;n&&n.captureContext&&(l=Oe.clone(l).update(n.captureContext));var h=X(d);return l&&(h=l.applyToEvent(d,n)),h.then(function(p){return p&&(p.sdkProcessingMetadata=f(f({},p.sdkProcessingMetadata),{normalizeDepth:J(o)+" ("+typeof o+")"})),typeof o=="number"&&o>0?i._normalizeEvent(p,o,c):p})},t.prototype._normalizeEvent=function(e,r,n){if(!e)return null;var i=f(f(f(f(f({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(s){return f(f({},s),s.data&&{data:J(s.data,r,n)})})}),e.user&&{user:J(e.user,r,n)}),e.contexts&&{contexts:J(e.contexts,r,n)}),e.extra&&{extra:J(e.extra,r,n)});return e.contexts&&e.contexts.trace&&(i.contexts.trace=e.contexts.trace),i.sdkProcessingMetadata=f(f({},i.sdkProcessingMetadata),{baseClientNormalized:!0}),i},t.prototype._applyClientOptions=function(e){var r=this.getOptions(),n=r.environment,i=r.release,s=r.dist,a=r.maxValueLength,o=a===void 0?250:a;"environment"in e||(e.environment="environment"in r?n:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=le(e.message,o));var u=e.exception&&e.exception.values&&e.exception.values[0];u&&u.value&&(u.value=le(u.value,o));var c=e.request;c&&c.url&&(c.url=le(c.url,o))},t.prototype._applyIntegrationsMetadata=function(e){var r=Object.keys(this._integrations);r.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=y(e.sdk.integrations||[],r))},t.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},t.prototype._captureEvent=function(e,r,n){return this._processEvent(e,r,n).then(function(i){return i.event_id},function(i){w&&g.error(i)})},t.prototype._processEvent=function(e,r,n){var i=this,s=this.getOptions(),a=s.beforeSend,o=s.sampleRate,u=this.getTransport();function c(l,h){u.recordLostEvent&&u.recordLostEvent(l,h)}if(!this._isEnabled())return pe(new E("SDK not enabled, will not capture event."));var d=e.type==="transaction";return!d&&typeof o=="number"&&Math.random()>o?(c("sample_rate","event"),pe(new E("Discarding event because it's not included in the random sample (sampling rate = "+o+")"))):this._prepareEvent(e,n,r).then(function(l){if(l===null)throw c("event_processor",e.type||"event"),new E("An event processor returned null, will not send event.");var h=r&&r.data&&r.data.__sentry__===!0;if(h||d||!a)return l;var p=a(l,r);return ai(p)}).then(function(l){if(l===null)throw c("before_send",e.type||"event"),new E("`beforeSend` returned `null`, will not send event.");var h=n&&n.getSession&&n.getSession();return!d&&h&&i._updateSessionFromEvent(h,l),i._sendEvent(l),l}).then(null,function(l){throw l instanceof E?l:(i.captureException(l,{data:{__sentry__:!0},originalException:l}),new E(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+l))})},t.prototype._process=function(e){var r=this;this._numProcessing+=1,e.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},t}();function ai(t){var e="`beforeSend` method has to return `null` or a valid event.";if($e(t))return t.then(function(r){if(!(Z(r)||r===null))throw new E(e);return r},function(r){throw new E("beforeSend rejected with "+r)});if(!(Z(t)||t===null))throw new E(e);return t}function lt(t){if(!(!t.metadata||!t.metadata.sdk)){var e=t.metadata.sdk,r=e.name,n=e.version;return{name:r,version:n}}}function lr(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=y(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=y(t.sdk.packages||[],e.packages||[])),t}function dr(t,e){var r=lt(e),n=f(f({sent_at:new Date().toISOString()},r&&{sdk:r}),!!e.tunnel&&{dsn:fe(e.dsn)}),i="aggregates"in t?"sessions":"session",s=[{type:i},t],a=xe(n,[s]);return[a,i]}function oi(t,e){var r=R(dr(t,e),2),n=r[0],i=r[1];return{body:ke(n),type:i,url:Pe(e.dsn,e.tunnel)}}function ui(t,e){var r=lt(e),n=t.type||"event",i=(t.sdkProcessingMetadata||{}).transactionSampling,s=i||{},a=s.method,o=s.rate;lr(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;var u=f(f({event_id:t.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),!!e.tunnel&&{dsn:fe(e.dsn)}),c=[{type:n,sample_rates:[{id:a,rate:o}]},t];return xe(u,[c])}function ci(t,e){var r=lt(e),n=t.type||"event",i=n==="transaction"||!!e.tunnel,s=(t.sdkProcessingMetadata||{}).transactionSampling,a=s||{},o=a.method,u=a.rate;lr(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;var c;try{c=JSON.stringify(t)}catch(q){t.tags.JSONStringifyError=!0,t.extra.JSONStringifyError=q;try{c=JSON.stringify(J(t))}catch(x){var d=x;c=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:d.message,stack:d.stack}})}}var l={body:c,type:n,url:i?Pe(e.dsn,e.tunnel):or(e.dsn)};if(i){var h=f(f({event_id:t.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),!!e.tunnel&&{dsn:fe(e.dsn)}),p=[{type:n,sample_rates:[{id:o,rate:u}]},l.body],b=xe(h,[p]);l.body=ke(b)}return l}var fi=function(){function t(){}return t.prototype.sendEvent=function(e){return X({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},t.prototype.close=function(e){return X(!0)},t}(),li=function(){function t(e){this._options=e,this._options.dsn||w&&g.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(e,r){throw new E("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(e,r,n){throw new E("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(e){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var r=Ie(this._options.dsn,this._options._metadata,this._options.tunnel),n=ui(e,r);this._newTransport.send(n).then(null,function(i){w&&g.error("Error while sending event:",i)})}else this._transport.sendEvent(e).then(null,function(i){w&&g.error("Error while sending event:",i)})},t.prototype.sendSession=function(e){if(!this._transport.sendSession){w&&g.warn("Dropping session because custom transport doesn't implement sendSession");return}if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var r=Ie(this._options.dsn,this._options._metadata,this._options.tunnel),n=R(dr(e,r),1),i=n[0];this._newTransport.send(i).then(null,function(s){w&&g.error("Error while sending session:",s)})}else this._transport.sendSession(e).then(null,function(s){w&&g.error("Error while sending session:",s)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new fi},t}();function di(t,e){e.debug===!0&&(w?g.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var r=T(),n=r.getScope();n&&n.update(e.initialScope);var i=new t(e);r.bindClient(i)}var hi=30;function hr(t,e,r){r===void 0&&(r=$t(t.bufferSize||hi));var n={},i=function(a){return r.drain(a)};function s(a){var o=Wn(a),u=o==="event"?"error":o,c={category:u,body:ke(a)};if(Kt(n,u))return pe({status:"rate_limit",reason:pr(n,u)});var d=function(){return e(c).then(function(l){var h=l.body,p=l.headers,b=l.reason,q=l.statusCode,x=Yt(q);return p&&(n=Vt(n,p)),x==="success"?X({status:x,reason:b}):pe({status:x,reason:b||h||(x==="rate_limit"?pr(n,u):"Unknown transport error")})})};return r.add(d)}return{send:s,flush:i}}function pr(t,e){return"Too many "+e+" requests, backing off until: "+new Date(at(t,e)).toISOString()}var gr="6.19.7",mr,pi=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){mr=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=Ke(this)||this;return mr.apply(n,e)}},t.id="FunctionToString",t}(),gi=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],mi=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(e,r){e(function(n){var i=r();if(i){var s=i.getIntegration(t);if(s){var a=i.getClient(),o=a?a.getOptions():{},u=_i(s._options,o);return vi(n,u)?null:n}}return n})},t.id="InboundFilters",t}();function _i(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),{allowUrls:y(t.whitelistUrls||[],t.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:y(t.blacklistUrls||[],t.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:y(t.ignoreErrors||[],e.ignoreErrors||[],gi),ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function vi(t,e){return e.ignoreInternal&&Si(t)?(w&&g.warn(`Event dropped due to being internal Sentry Error.
Event: `+Y(t)),!0):yi(t,e.ignoreErrors)?(w&&g.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Y(t)),!0):wi(t,e.denyUrls)?(w&&g.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Y(t)+`.
Url: `+De(t)),!0):bi(t,e.allowUrls)?!1:(w&&g.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Y(t)+`.
Url: `+De(t)),!0)}function yi(t,e){return!e||!e.length?!1:Ei(t).some(function(r){return e.some(function(n){return Xe(r,n)})})}function wi(t,e){if(!e||!e.length)return!1;var r=De(t);return r?e.some(function(n){return Xe(r,n)}):!1}function bi(t,e){if(!e||!e.length)return!0;var r=De(t);return r?e.some(function(n){return Xe(r,n)}):!0}function Ei(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},r=e.type,n=r===void 0?"":r,i=e.value,s=i===void 0?"":i;return[""+s,n+": "+s]}catch{return w&&g.error("Cannot extract message for event "+Y(t)),[]}return[]}function Si(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function _r(t){t===void 0&&(t=[]);for(var e=t.length-1;e>=0;e--){var r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function De(t){try{if(t.stacktrace)return _r(t.stacktrace.frames);var e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?_r(e):null}catch{return w&&g.error("Cannot extract url for event "+Y(t)),null}}var re="?",Ri=10,Ti=20,xi=30,ki=40,Oi=50;function ge(t,e,r,n){var i={filename:t,function:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}var Ni=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ii=/\((\S*)(?::(\d+))(?::(\d+))\)/,Pi=function(t){var e=Ni.exec(t);if(e){var r=e[2]&&e[2].indexOf("eval")===0;if(r){var n=Ii.exec(e[2]);n&&(e[2]=n[1],e[3]=n[2],e[4]=n[3])}var i=R(vr(e[1]||re,e[2]),2),s=i[0],a=i[1];return ge(a,s,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Di=[xi,Pi],Ai=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ui=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Li=function(t){var e,r=Ai.exec(t);if(r){var n=r[3]&&r[3].indexOf(" > eval")>-1;if(n){var i=Ui.exec(r[3]);i&&(r[1]=r[1]||"eval",r[3]=i[1],r[4]=i[2],r[5]="")}var s=r[3],a=r[1]||re;return e=R(vr(a,s),2),a=e[0],s=e[1],ge(s,a,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},qi=[Oi,Li],ji=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Mi=function(t){var e=ji.exec(t);return e?ge(e[2],e[1]||re,+e[3],e[4]?+e[4]:void 0):void 0},Ci=[ki,Mi],Fi=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Bi=function(t){var e=Fi.exec(t);return e?ge(e[2],e[3]||re,+e[1]):void 0},Hi=[Ri,Bi],Wi=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Gi=function(t){var e=Wi.exec(t);return e?ge(e[5],e[3]||e[4]||re,+e[1],+e[2]):void 0},zi=[Ti,Gi],vr=function(t,e){var r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:re,r?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]};function yr(t){var e=ht(t),r={type:t&&t.name,value:Xi(t)};return e.length&&(r.stacktrace={frames:e}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function $i(t,e,r){var n={exception:{values:[{type:ve(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+gn(t)}]},extra:{__serialized__:Gt(t)}};if(e){var i=ht(e);i.length&&(n.stacktrace={frames:i})}return n}function dt(t){return{exception:{values:[yr(t)]}}}function ht(t){var e=t.stacktrace||t.stack||"",r=Ji(t);try{return _n(Hi,zi,Di,Ci,qi)(e,r)}catch{}return[]}var Yi=/Minified React error #\d+;/i;function Ji(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Yi.test(t.message))return 1}return 0}function Xi(t){var e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Ki(t,e,r){var n=e&&e.syntheticException||void 0,i=pt(t,n,r);return he(i),i.level=D.Error,e&&e.event_id&&(i.event_id=e.event_id),X(i)}function Vi(t,e,r,n){e===void 0&&(e=D.Info);var i=r&&r.syntheticException||void 0,s=gt(t,i,n);return s.level=e,r&&r.event_id&&(s.event_id=r.event_id),X(s)}function pt(t,e,r,n){var i;if(It(t)&&t.error){var s=t;return dt(s.error)}if(Pt(t)||Kr(t)){var a=t;if("stack"in t)i=dt(t);else{var o=a.name||(Pt(a)?"DOMError":"DOMException"),u=a.message?o+": "+a.message:o;i=gt(u,e,r),nt(i,u)}return"code"in a&&(i.tags=f(f({},i.tags),{"DOMException.code":""+a.code})),i}if(Ge(t))return dt(t);if(Z(t)||ve(t)){var c=t;return i=$i(c,e,n),he(i,{synthetic:!0}),i}return i=gt(t,e,r),nt(i,""+t),he(i,{synthetic:!0}),i}function gt(t,e,r){var n={message:t};if(r&&e){var i=ht(e);i.length&&(n.stacktrace={frames:i})}return n}var k=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__,P=v(),Ae;function mt(){if(Ae)return Ae;if(Ze(P.fetch))return Ae=P.fetch.bind(P);var t=P.document,e=P.fetch;if(t&&typeof t.createElement=="function")try{var r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);var n=r.contentWindow;n&&n.fetch&&(e=n.fetch),t.head.removeChild(r)}catch(i){k&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Ae=e.bind(P)}function Qi(t,e){var r=Object.prototype.toString.call(P&&P.navigator)==="[object Navigator]",n=r&&typeof P.navigator.sendBeacon=="function";if(n){var i=P.navigator.sendBeacon.bind(P.navigator);return i(t,e)}if(be()){var s=mt();return $r(s(t,{body:e,method:"POST",credentials:"omit",keepalive:!0}))}}function _t(t){var e=t;return e==="event"?"error":e}var vt=v(),wr=function(){function t(e){var r=this;this.options=e,this._buffer=$t(30),this._rateLimits={},this._outcomes={},this._api=Ie(e.dsn,e._metadata,e.tunnel),this.url=or(this._api.dsn),this.options.sendClientReports&&vt.document&&vt.document.addEventListener("visibilitychange",function(){vt.document.visibilityState==="hidden"&&r._flushOutcomes()})}return t.prototype.sendEvent=function(e){return this._sendRequest(ci(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(oi(e,this._api),e)},t.prototype.close=function(e){return this._buffer.drain(e)},t.prototype.recordLostEvent=function(e,r){var n;if(this.options.sendClientReports){var i=_t(r)+":"+e;k&&g.log("Adding outcome: "+i),this._outcomes[i]=(n=this._outcomes[i],(n??0)+1)}},t.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var e=this._outcomes;if(this._outcomes={},!Object.keys(e).length){k&&g.log("No outcomes to flush");return}k&&g.log(`Flushing outcomes:
`+JSON.stringify(e,null,2));var r=Pe(this._api.dsn,this._api.tunnel),n=Object.keys(e).map(function(s){var a=R(s.split(":"),2),o=a[0],u=a[1];return{reason:u,category:o,quantity:e[s]}}),i=Gn(n,this._api.tunnel&&fe(this._api.dsn));try{Qi(r,ke(i))}catch(s){k&&g.error(s)}}},t.prototype._handleResponse=function(e){var r=e.requestType,n=e.response,i=e.headers,s=e.resolve,a=e.reject,o=Yt(n.status);if(this._rateLimits=Vt(this._rateLimits,i),this._isRateLimited(r)&&k&&g.warn("Too many "+r+" requests, backing off until: "+this._disabledUntil(r)),o==="success"){s({status:o});return}a(n)},t.prototype._disabledUntil=function(e){var r=_t(e);return new Date(at(this._rateLimits,r))},t.prototype._isRateLimited=function(e){var r=_t(e);return Kt(this._rateLimits,r)},t}(),Zi=function(t){ce(e,t);function e(r,n){n===void 0&&(n=mt());var i=t.call(this,r)||this;return i._fetch=n,i}return e.prototype._sendRequest=function(r,n){var i=this;if(this._isRateLimited(r.type))return this.recordLostEvent("ratelimit_backoff",r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429});var s={body:r.body,method:"POST",referrerPolicy:wn()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(s,this.options.fetchParameters),this.options.headers!==void 0&&(s.headers=this.options.headers),this._buffer.add(function(){return new B(function(a,o){i._fetch(r.url,s).then(function(u){var c={"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")};i._handleResponse({requestType:r.type,response:u,headers:c,resolve:a,reject:o})}).catch(o)})}).then(void 0,function(a){throw a instanceof E?i.recordLostEvent("queue_overflow",r.type):i.recordLostEvent("network_error",r.type),a})},e}(wr),es=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._sendRequest=function(r,n){var i=this;return this._isRateLimited(r.type)?(this.recordLostEvent("ratelimit_backoff",r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new B(function(s,a){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===4){var c={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};i._handleResponse({requestType:r.type,response:o,headers:c,resolve:s,reject:a})}},o.open("POST",r.url);for(var u in i.options.headers)Object.prototype.hasOwnProperty.call(i.options.headers,u)&&o.setRequestHeader(u,i.options.headers[u]);o.send(r.body)})}).then(void 0,function(s){throw s instanceof E?i.recordLostEvent("queue_overflow",r.type):i.recordLostEvent("network_error",r.type),s})},e}(wr);function ts(t,e){e===void 0&&(e=mt());function r(n){var i=f({body:n.body,method:"POST",referrerPolicy:"origin"},t.requestOptions);return e(t.url,i).then(function(s){return s.text().then(function(a){return{body:a,headers:{"x-sentry-rate-limits":s.headers.get("X-Sentry-Rate-Limits"),"retry-after":s.headers.get("Retry-After")},reason:s.statusText,statusCode:s.status}})})}return hr({bufferSize:t.bufferSize},r)}var rs=4;function ns(t){function e(r){return new B(function(n,i){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===rs){var o={body:s.response,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")},reason:s.statusText,statusCode:s.status};n(o)}},s.open("POST",t.url);for(var a in t.headers)Object.prototype.hasOwnProperty.call(t.headers,a)&&s.setRequestHeader(a,t.headers[a]);s.send(r.body)})}return hr({bufferSize:t.bufferSize},e)}var is=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.eventFromException=function(r,n){return Ki(r,n,this._options.attachStacktrace)},e.prototype.eventFromMessage=function(r,n,i){return n===void 0&&(n=D.Info),Vi(r,n,i,this._options.attachStacktrace)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var r=f(f({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),n=Ie(r.dsn,r._metadata,r.tunnel),i=Pe(n.dsn,n.tunnel);if(this._options.transport)return new this._options.transport(r);if(be()){var s=f({},r.fetchParameters);return this._newTransport=ts({requestOptions:s,url:i}),new Zi(r)}return this._newTransport=ns({url:i,headers:r.headers}),new es(r)},e}(li),Ue=v(),yt=0;function br(){return yt>0}function ss(){yt+=1,setTimeout(function(){yt-=1})}function ne(t,e,r){if(e===void 0&&(e={}),typeof t!="function")return t;try{var n=t.__sentry_wrapped__;if(n)return n;if(Ke(t))return t}catch{return t}var i=function(){var o=Array.prototype.slice.call(arguments);try{var u=o.map(function(c){return ne(c,e)});return t.apply(this,u)}catch(c){throw ss(),Vn(function(d){d.addEventProcessor(function(l){return e.mechanism&&(nt(l,void 0),he(l,e.mechanism)),l.extra=f(f({},l.extra),{arguments:o}),l}),Kn(c)}),c}};try{for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}catch{}qt(i,t),we(t,"__sentry_wrapped__",i);try{var a=Object.getOwnPropertyDescriptor(i,"name");a.configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch{}return i}function as(t){if(t===void 0&&(t={}),!!Ue.document){if(!t.eventId){k&&g.error("Missing eventId option in showReportDialog call");return}if(!t.dsn){k&&g.error("Missing dsn option in showReportDialog call");return}var e=Ue.document.createElement("script");e.async=!0,e.src=ti(t.dsn,t),t.onLoad&&(e.onload=t.onLoad);var r=Ue.document.head||Ue.document.body;r&&r.appendChild(e)}}var wt=function(){function t(e){this.name=t.id,this._installFunc={onerror:os,onunhandledrejection:us},this._options=f({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50;var e=this._options;for(var r in e){var n=this._installFunc[r];n&&e[r]&&(ls(r),n(),this._installFunc[r]=void 0)}},t.id="GlobalHandlers",t}();function os(){F("error",function(t){var e=R(Rr(),2),r=e[0],n=e[1];if(r.getIntegration(wt)){var i=t.msg,s=t.url,a=t.line,o=t.column,u=t.error;if(!(br()||u&&u.__sentry_own_request__)){var c=u===void 0&&Q(i)?fs(i,s,a,o):Er(pt(u||i,void 0,n,!1),s,a,o);c.level=D.Error,Sr(r,u,c,"onerror")}}})}function us(){F("unhandledrejection",function(t){var e=R(Rr(),2),r=e[0],n=e[1];if(r.getIntegration(wt)){var i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch{}if(br()||i&&i.__sentry_own_request__)return!0;var s=ze(i)?cs(i):pt(i,void 0,n,!0);s.level=D.Error,Sr(r,i,s,"onunhandledrejection")}})}function cs(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}}function fs(t,e,r,n){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,s=It(t)?t.message:t,a="Error",o=s.match(i);o&&(a=o[1],s=o[2]);var u={exception:{values:[{type:a,value:s}]}};return Er(u,e,r,n)}function Er(t,e,r,n){var i=t.exception=t.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},o=a.stacktrace=a.stacktrace||{},u=o.frames=o.frames||[],c=isNaN(parseInt(n,10))?void 0:n,d=isNaN(parseInt(r,10))?void 0:r,l=Q(e)&&e.length>0?e:rn();return u.length===0&&u.push({colno:c,filename:l,function:"?",in_app:!0,lineno:d}),t}function ls(t){k&&g.log("Global Handler attached: "+t)}function Sr(t,e,r,n){he(r,{handled:!1,type:n}),t.captureEvent(r,{originalException:e})}function Rr(){var t=T(),e=t.getClient(),r=e&&e.getOptions().attachStacktrace;return[t,r]}var ds=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],hs=function(){function t(e){this.name=t.id,this._options=f({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var e=v();this._options.setTimeout&&S(e,"setTimeout",Tr),this._options.setInterval&&S(e,"setInterval",Tr),this._options.requestAnimationFrame&&S(e,"requestAnimationFrame",ps),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&S(XMLHttpRequest.prototype,"send",gs);var r=this._options.eventTarget;if(r){var n=Array.isArray(r)?r:ds;n.forEach(ms)}},t.id="TryCatch",t}();function Tr(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0];return e[0]=ne(n,{mechanism:{data:{function:C(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function ps(t){return function(e){return t.apply(this,[ne(e,{mechanism:{data:{function:"requestAnimationFrame",handler:C(t)},handled:!0,type:"instrument"}})])}}function gs(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach(function(s){s in n&&typeof n[s]=="function"&&S(n,s,function(a){var o={mechanism:{data:{function:s,handler:C(a)},handled:!0,type:"instrument"}},u=Ke(a);return u&&(o.mechanism.data.handler=C(u)),ne(a,o)})}),t.apply(this,e)}}function ms(t){var e=v(),r=e[t]&&e[t].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(S(r,"addEventListener",function(n){return function(i,s,a){try{typeof s.handleEvent=="function"&&(s.handleEvent=ne(s.handleEvent.bind(s),{mechanism:{data:{function:"handleEvent",handler:C(s),target:t},handled:!0,type:"instrument"}}))}catch{}return n.apply(this,[i,ne(s,{mechanism:{data:{function:"addEventListener",handler:C(s),target:t},handled:!0,type:"instrument"}}),a])}}),S(r,"removeEventListener",function(n){return function(i,s,a){var o=s;try{var u=o&&o.__sentry_wrapped__;u&&n.call(this,i,u,a)}catch{}return n.call(this,i,o,a)}}))}var xr=function(){function t(e){this.name=t.id,this._options=f({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&T().addBreadcrumb({category:"sentry."+(e.type==="transaction"?"transaction":"event"),event_id:e.event_id,level:e.level,message:Y(e)},{event:e})},t.prototype.setupOnce=function(){this._options.console&&F("console",vs),this._options.dom&&F("dom",_s(this._options.dom)),this._options.xhr&&F("xhr",ys),this._options.fetch&&F("fetch",ws),this._options.history&&F("history",bs)},t.id="Breadcrumbs",t}();function _s(t){function e(r){var n,i=typeof t=="object"?t.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{n=r.event.target?Ye(r.event.target,i):Ye(r.event,i)}catch{n="<unknown>"}n.length!==0&&T().addBreadcrumb({category:"ui."+r.name,message:n},{event:r.event,name:r.name,global:r.global})}return e}function vs(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Fn(t.level),message:Lt(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message="Assertion failed: "+(Lt(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1);else return;T().addBreadcrumb(e,{input:t.args,level:t.level})}function ys(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},r=e.method,n=e.url,i=e.status_code,s=e.body;T().addBreadcrumb({category:"xhr",data:{method:r,url:n,status_code:i},type:"http"},{xhr:t.xhr,input:s});return}}function ws(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?T().addBreadcrumb({category:"fetch",data:t.fetchData,level:D.Error,type:"http"},{data:t.error,input:t.args}):T().addBreadcrumb({category:"fetch",data:f(f({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))}function bs(t){var e=v(),r=t.from,n=t.to,i=rt(e.location.href),s=rt(r),a=rt(n);s.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),T().addBreadcrumb({category:"navigation",data:{from:r,to:n}})}var Es="cause",Ss=5,Rs=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._key=e.key||Es,this._limit=e.limit||Ss}return t.prototype.setupOnce=function(){ot(function(e,r){var n=T().getIntegration(t);return n?Ts(n._key,n._limit,e,r):e})},t.id="LinkedErrors",t}();function Ts(t,e,r,n){if(!r.exception||!r.exception.values||!n||!M(n.originalException,Error))return r;var i=kr(e,n.originalException,t);return r.exception.values=y(i,r.exception.values),r}function kr(t,e,r,n){if(n===void 0&&(n=[]),!M(e[r],Error)||n.length+1>=t)return n;var i=yr(e[r]);return kr(t,e[r],r,y([i],n))}var K=v(),xs=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){ot(function(e){if(T().getIntegration(t)){if(!K.navigator&&!K.location&&!K.document)return e;var r=e.request&&e.request.url||K.location&&K.location.href,n=(K.document||{}).referrer,i=(K.navigator||{}).userAgent,s=f(f(f({},e.request&&e.request.headers),n&&{Referer:n}),i&&{"User-Agent":i}),a=f(f({},r&&{url:r}),{headers:s});return f(f({},e),{request:a})}return e})},t.id="UserAgent",t}(),ks=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,r){e(function(n){var i=r().getIntegration(t);if(i){try{if(Os(n,i._previousEvent))return k&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=n}return i._previousEvent=n}return n})},t.id="Dedupe",t}();function Os(t,e){return e?!!(Ns(t,e)||Is(t,e)):!1}function Ns(t,e){var r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!Nr(t,e)||!Or(t,e))}function Is(t,e){var r=Ir(e),n=Ir(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!Nr(t,e)||!Or(t,e))}function Or(t,e){var r=Pr(t),n=Pr(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(var i=0;i<n.length;i++){var s=n[i],a=r[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}function Nr(t,e){var r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function Ir(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Pr(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}else if(t.stacktrace)return t.stacktrace.frames}var Ps=function(t){ce(e,t);function e(r){r===void 0&&(r={});var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:gr}],version:gr},n=t.call(this,is,r)||this,n}return e.prototype.showReportDialog=function(r){r===void 0&&(r={});var n=v().document;if(n){if(!this._isEnabled()){k&&g.error("Trying to call showReportDialog with Sentry Client disabled");return}as(f(f({},r),{dsn:r.dsn||this.getDsn()}))}},e.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"javascript",t.prototype._prepareEvent.call(this,r,n,i)},e.prototype._sendEvent=function(r){var n=this.getIntegration(xr);n&&n.addSentryBreadcrumb(r),t.prototype._sendEvent.call(this,r)},e}(si),Ds=[new mi,new pi,new hs,new xr,new wt,new Rs,new ks,new xs];function As(t){if(t===void 0&&(t={}),t.defaultIntegrations===void 0&&(t.defaultIntegrations=Ds),t.release===void 0){var e=v();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0),di(Ps,t),t.autoSessionTracking&&Us()}function Dr(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function Us(){var t=v(),e=t.document;if(typeof e>"u"){k&&g.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var r=T();r.captureSession&&(Dr(r),F("history",function(n){var i=n.from,s=n.to;i===void 0||i===s||Dr(T())}))}try{self["workbox:core:5.1.3"]&&_()}catch{}const Ra=null,Ls=(t,...e)=>{let r=t;return e.length>0&&(r+=` :: ${JSON.stringify(e)}`),r};class O extends Error{constructor(e,r){const n=Ls(e,r);super(n),this.name=e,this.details=r}}const xa=null,Ar=new Set;function qs(t){Ar.add(t)}const A={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:typeof registration<"u"?registration.scope:""},bt=t=>[A.prefix,t,A.suffix].filter(e=>e&&e.length>0).join("-"),js=t=>{for(const e of Object.keys(A))t(e)},ie={updateDetails:t=>{js(e=>{typeof t[e]=="string"&&(A[e]=t[e])})},getGoogleAnalyticsName:t=>t||bt(A.googleAnalytics),getPrecacheName:t=>t||bt(A.precache),getPrefix:()=>A.prefix,getRuntimeName:t=>t||bt(A.runtime),getSuffix:()=>A.suffix};async function Ms(){for(const t of Ar)await t()}const Cs=t=>new URL(String(t),location.href).href.replace(new RegExp(`^${location.origin}`),""),Et={filter:(t,e)=>t.filter(r=>e in r)},Ur=async({request:t,mode:e,plugins:r=[]})=>{const n=Et.filter(r,"cacheKeyWillBeUsed");let i=t;for(const s of n)i=await s.cacheKeyWillBeUsed.call(s,{mode:e,request:i}),typeof i=="string"&&(i=new Request(i));return i},Fs=async({request:t,response:e,event:r,plugins:n=[]})=>{let i=e,s=!1;for(const a of n)if("cacheWillUpdate"in a&&(s=!0,i=await a.cacheWillUpdate.call(a,{request:t,response:i,event:r}),!i))break;return s||(i=i&&i.status===200?i:void 0),i||null},Lr=async({cacheName:t,request:e,event:r,matchOptions:n,plugins:i=[]})=>{const s=await self.caches.open(t),a=await Ur({plugins:i,request:e,mode:"read"});let o=await s.match(a,n);for(const u of i)"cachedResponseWillBeUsed"in u&&(o=await u.cachedResponseWillBeUsed.call(u,{cacheName:t,event:r,matchOptions:n,cachedResponse:o,request:a}));return o},se={put:async({cacheName:t,request:e,response:r,event:n,plugins:i=[],matchOptions:s})=>{const a=await Ur({plugins:i,request:e,mode:"write"});if(!r)throw new O("cache-put-with-no-response",{url:Cs(a.url)});const o=await Fs({event:n,plugins:i,response:r,request:a});if(!o)return;const u=await self.caches.open(t),c=Et.filter(i,"cacheDidUpdate"),d=c.length>0?await Lr({cacheName:t,matchOptions:s,request:a}):null;try{await u.put(a,o)}catch(l){throw l.name==="QuotaExceededError"&&await Ms(),l}for(const l of c)await l.cacheDidUpdate.call(l,{cacheName:t,event:n,oldResponse:d,newResponse:o,request:a})},match:Lr};function qr(t){t.then(()=>{})}class Le{constructor(e,r,{onupgradeneeded:n,onversionchange:i}={}){this._db=null,this._name=e,this._version=r,this._onupgradeneeded=n,this._onversionchange=i||(()=>this.close())}get db(){return this._db}async open(){if(!this._db)return this._db=await new Promise((e,r)=>{let n=!1;setTimeout(()=>{n=!0,r(new Error("The open request was blocked and timed out"))},this.OPEN_TIMEOUT);const i=indexedDB.open(this._name,this._version);i.onerror=()=>r(i.error),i.onupgradeneeded=s=>{n?(i.transaction.abort(),i.result.close()):typeof this._onupgradeneeded=="function"&&this._onupgradeneeded(s)},i.onsuccess=()=>{const s=i.result;n?s.close():(s.onversionchange=this._onversionchange.bind(this),e(s))}}),this}async getKey(e,r){return(await this.getAllKeys(e,r,1))[0]}async getAll(e,r,n){return await this.getAllMatching(e,{query:r,count:n})}async getAllKeys(e,r,n){return(await this.getAllMatching(e,{query:r,count:n,includeKeys:!0})).map(s=>s.key)}async getAllMatching(e,{index:r,query:n=null,direction:i="next",count:s,includeKeys:a=!1}={}){return await this.transaction([e],"readonly",(o,u)=>{const c=o.objectStore(e),d=r?c.index(r):c,l=[],h=d.openCursor(n,i);h.onsuccess=()=>{const p=h.result;p?(l.push(a?p:p.value),s&&l.length>=s?u(l):p.continue()):u(l)}})}async transaction(e,r,n){return await this.open(),await new Promise((i,s)=>{const a=this._db.transaction(e,r);a.onabort=()=>s(a.error),a.oncomplete=()=>i(),n(a,o=>i(o))})}async _call(e,r,n,...i){const s=(a,o)=>{const u=a.objectStore(r),c=u[e].apply(u,i);c.onsuccess=()=>o(c.result)};return await this.transaction([r],n,s)}close(){this._db&&(this._db.close(),this._db=null)}}Le.prototype.OPEN_TIMEOUT=2e3;const Bs={readonly:["get","count","getKey","getAll","getAllKeys"],readwrite:["add","put","clear","delete"]};for(const[t,e]of Object.entries(Bs))for(const r of e)r in IDBObjectStore.prototype&&(Le.prototype[r]=async function(n,...i){return await this._call(r,n,t,...i)});const Hs=async t=>{await new Promise((e,r)=>{const n=indexedDB.deleteDatabase(t);n.onerror=()=>{r(n.error)},n.onblocked=()=>{r(new Error("Delete blocked"))},n.onsuccess=()=>{e()}})},qe={fetch:async({request:t,fetchOptions:e,event:r,plugins:n=[]})=>{if(typeof t=="string"&&(t=new Request(t)),r instanceof FetchEvent&&r.preloadResponse){const o=await r.preloadResponse;if(o)return o}const i=Et.filter(n,"fetchDidFail"),s=i.length>0?t.clone():null;try{for(const o of n)if("requestWillFetch"in o){const u=o.requestWillFetch,c=t.clone();t=await u.call(o,{request:c,event:r})}}catch(o){throw new O("plugin-error-request-will-fetch",{thrownError:o})}const a=t.clone();try{let o;t.mode==="navigate"?o=await fetch(t):o=await fetch(t,e);for(const u of n)"fetchDidSucceed"in u&&(o=await u.fetchDidSucceed.call(u,{event:r,request:a,response:o}));return o}catch(o){for(const u of i)await u.fetchDidFail.call(u,{error:o,event:r,originalRequest:s.clone(),request:a.clone()});throw o}}};function Ws(){self.addEventListener("activate",()=>self.clients.claim())}function Gs(t){ie.updateDetails(t)}function zs(){self.addEventListener("install",()=>self.skipWaiting())}try{self["workbox:expiration:5.1.3"]&&_()}catch{}const $s="workbox-expiration",ae="cache-entries",jr=t=>{const e=new URL(t,location.href);return e.hash="",e.href};class Ys{constructor(e){this._cacheName=e,this._db=new Le($s,1,{onupgradeneeded:r=>this._handleUpgrade(r)})}_handleUpgrade(e){const n=e.target.result.createObjectStore(ae,{keyPath:"id"});n.createIndex("cacheName","cacheName",{unique:!1}),n.createIndex("timestamp","timestamp",{unique:!1}),Hs(this._cacheName)}async setTimestamp(e,r){e=jr(e);const n={url:e,timestamp:r,cacheName:this._cacheName,id:this._getId(e)};await this._db.put(ae,n)}async getTimestamp(e){return(await this._db.get(ae,this._getId(e))).timestamp}async expireEntries(e,r){const n=await this._db.transaction(ae,"readwrite",(s,a)=>{const u=s.objectStore(ae).index("timestamp").openCursor(null,"prev"),c=[];let d=0;u.onsuccess=()=>{const l=u.result;if(l){const h=l.value;h.cacheName===this._cacheName&&(e&&h.timestamp<e||r&&d>=r?c.push(l.value):d++),l.continue()}else a(c)}}),i=[];for(const s of n)await this._db.delete(ae,s.id),i.push(s.url);return i}_getId(e){return this._cacheName+"|"+jr(e)}}class Js{constructor(e,r={}){this._isRunning=!1,this._rerunRequested=!1,this._maxEntries=r.maxEntries,this._maxAgeSeconds=r.maxAgeSeconds,this._cacheName=e,this._timestampModel=new Ys(e)}async expireEntries(){if(this._isRunning){this._rerunRequested=!0;return}this._isRunning=!0;const e=this._maxAgeSeconds?Date.now()-this._maxAgeSeconds*1e3:0,r=await this._timestampModel.expireEntries(e,this._maxEntries),n=await self.caches.open(this._cacheName);for(const i of r)await n.delete(i);this._isRunning=!1,this._rerunRequested&&(this._rerunRequested=!1,qr(this.expireEntries()))}async updateTimestamp(e){await this._timestampModel.setTimestamp(e,Date.now())}async isURLExpired(e){if(this._maxAgeSeconds){const r=await this._timestampModel.getTimestamp(e),n=Date.now()-this._maxAgeSeconds*1e3;return r<n}else return!1}async delete(){this._rerunRequested=!1,await this._timestampModel.expireEntries(1/0)}}class W{constructor(e={}){this.cachedResponseWillBeUsed=async({event:r,request:n,cacheName:i,cachedResponse:s})=>{if(!s)return null;const a=this._isResponseDateFresh(s),o=this._getCacheExpiration(i);qr(o.expireEntries());const u=o.updateTimestamp(n.url);if(r)try{r.waitUntil(u)}catch{}return a?s:null},this.cacheDidUpdate=async({cacheName:r,request:n})=>{const i=this._getCacheExpiration(r);await i.updateTimestamp(n.url),await i.expireEntries()},this._config=e,this._maxAgeSeconds=e.maxAgeSeconds,this._cacheExpirations=new Map,e.purgeOnQuotaError&&qs(()=>this.deleteCacheAndMetadata())}_getCacheExpiration(e){if(e===ie.getRuntimeName())throw new O("expire-custom-caches-only");let r=this._cacheExpirations.get(e);return r||(r=new Js(e,this._config),this._cacheExpirations.set(e,r)),r}_isResponseDateFresh(e){if(!this._maxAgeSeconds)return!0;const r=this._getDateHeaderTimestamp(e);if(r===null)return!0;const n=Date.now();return r>=n-this._maxAgeSeconds*1e3}_getDateHeaderTimestamp(e){if(!e.headers.has("date"))return null;const r=e.headers.get("date"),i=new Date(r).getTime();return isNaN(i)?null:i}async deleteCacheAndMetadata(){for(const[e,r]of this._cacheExpirations)await self.caches.delete(e),await r.delete();this._cacheExpirations=new Map}}try{self["workbox:background-sync:5.1.3"]&&_()}catch{}const Mr=3,Xs="workbox-background-sync",U="requests",je="queueName";class Ks{constructor(e){this._queueName=e,this._db=new Le(Xs,Mr,{onupgradeneeded:this._upgradeDb})}async pushEntry(e){delete e.id,e.queueName=this._queueName,await this._db.add(U,e)}async unshiftEntry(e){const[r]=await this._db.getAllMatching(U,{count:1});r?e.id=r.id-1:delete e.id,e.queueName=this._queueName,await this._db.add(U,e)}async popEntry(){return this._removeEntry({direction:"prev"})}async shiftEntry(){return this._removeEntry({direction:"next"})}async getAll(){return await this._db.getAllMatching(U,{index:je,query:IDBKeyRange.only(this._queueName)})}async deleteEntry(e){await this._db.delete(U,e)}async _removeEntry({direction:e}){const[r]=await this._db.getAllMatching(U,{direction:e,index:je,query:IDBKeyRange.only(this._queueName),count:1});if(r)return await this.deleteEntry(r.id),r}_upgradeDb(e){const r=e.target.result;e.oldVersion>0&&e.oldVersion<Mr&&r.objectStoreNames.contains(U)&&r.deleteObjectStore(U),r.createObjectStore(U,{autoIncrement:!0,keyPath:"id"}).createIndex(je,je,{unique:!1})}}const Vs=["method","referrer","referrerPolicy","mode","credentials","cache","redirect","integrity","keepalive"];class me{constructor(e){e.mode==="navigate"&&(e.mode="same-origin"),this._requestData=e}static async fromRequest(e){const r={url:e.url,headers:{}};e.method!=="GET"&&(r.body=await e.clone().arrayBuffer());for(const[n,i]of e.headers.entries())r.headers[n]=i;for(const n of Vs)e[n]!==void 0&&(r[n]=e[n]);return new me(r)}toObject(){const e=Object.assign({},this._requestData);return e.headers=Object.assign({},this._requestData.headers),e.body&&(e.body=e.body.slice(0)),e}toRequest(){return new Request(this._requestData.url,this._requestData)}clone(){return new me(this.toObject())}}const Cr="workbox-background-sync",Qs=60*24*7,St=new Set,Fr=t=>{const e={request:new me(t.requestData).toRequest(),timestamp:t.timestamp};return t.metadata&&(e.metadata=t.metadata),e};class Zs{constructor(e,{onSync:r,maxRetentionTime:n}={}){if(this._syncInProgress=!1,this._requestsAddedDuringSync=!1,St.has(e))throw new O("duplicate-queue-name",{name:e});St.add(e),this._name=e,this._onSync=r||this.replayRequests,this._maxRetentionTime=n||Qs,this._queueStore=new Ks(this._name),this._addSyncListener()}get name(){return this._name}async pushRequest(e){await this._addRequest(e,"push")}async unshiftRequest(e){await this._addRequest(e,"unshift")}async popRequest(){return this._removeRequest("pop")}async shiftRequest(){return this._removeRequest("shift")}async getAll(){const e=await this._queueStore.getAll(),r=Date.now(),n=[];for(const i of e){const s=this._maxRetentionTime*60*1e3;r-i.timestamp>s?await this._queueStore.deleteEntry(i.id):n.push(Fr(i))}return n}async _addRequest({request:e,metadata:r,timestamp:n=Date.now()},i){const a={requestData:(await me.fromRequest(e.clone())).toObject(),timestamp:n};r&&(a.metadata=r),await this._queueStore[`${i}Entry`](a),this._syncInProgress?this._requestsAddedDuringSync=!0:await this.registerSync()}async _removeRequest(e){const r=Date.now(),n=await this._queueStore[`${e}Entry`]();if(n){const i=this._maxRetentionTime*60*1e3;return r-n.timestamp>i?this._removeRequest(e):Fr(n)}else return}async replayRequests(){let e;for(;e=await this.shiftRequest();)try{await fetch(e.request.clone())}catch{throw await this.unshiftRequest(e),new O("queue-replay-failed",{name:this._name})}}async registerSync(){if("sync"in self.registration)try{await self.registration.sync.register(`${Cr}:${this._name}`)}catch{}}_addSyncListener(){"sync"in self.registration?self.addEventListener("sync",e=>{if(e.tag===`${Cr}:${this._name}`){const r=async()=>{this._syncInProgress=!0;let n;try{await this._onSync({queue:this})}catch(i){throw n=i,n}finally{this._requestsAddedDuringSync&&!(n&&!e.lastChance)&&await this.registerSync(),this._syncInProgress=!1,this._requestsAddedDuringSync=!1}};e.waitUntil(r())}}):this._onSync({queue:this})}static get _queueNames(){return St}}class Me{constructor(e,r){this.fetchDidFail=async({request:n})=>{await this._queue.pushRequest({request:n})},this._queue=new Zs(e,r)}}try{self["workbox:cacheable-response:5.1.3"]&&_()}catch{}class ea{constructor(e={}){this._statuses=e.statuses,this._headers=e.headers}isResponseCacheable(e){let r=!0;return this._statuses&&(r=this._statuses.includes(e.status)),this._headers&&r&&(r=Object.keys(this._headers).some(n=>e.headers.get(n)===this._headers[n])),r}}class G{constructor(e){this.cacheWillUpdate=async({response:r})=>this._cacheableResponse.isResponseCacheable(r)?r:null,this._cacheableResponse=new ea(e)}}try{self["workbox:routing:5.1.3"]&&_()}catch{}const ta="GET",Rt=t=>t&&typeof t=="object"?t:{handle:t};class L{constructor(e,r,n=ta){this.handler=Rt(r),this.match=e,this.method=n}}class Br{constructor(){this._routes=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",e=>{const{request:r}=e,n=this.handleRequest({request:r,event:e});n&&e.respondWith(n)})}addCacheListener(){self.addEventListener("message",e=>{if(e.data&&e.data.type==="CACHE_URLS"){const{payload:r}=e.data,n=Promise.all(r.urlsToCache.map(i=>{typeof i=="string"&&(i=[i]);const s=new Request(...i);return this.handleRequest({request:s})}));e.waitUntil(n),e.ports&&e.ports[0]&&n.then(()=>e.ports[0].postMessage(!0))}})}handleRequest({request:e,event:r}){const n=new URL(e.url,location.href);if(!n.protocol.startsWith("http"))return;const{params:i,route:s}=this.findMatchingRoute({url:n,request:e,event:r});let a=s&&s.handler;if(!a&&this._defaultHandler&&(a=this._defaultHandler),!a)return;let o;try{o=a.handle({url:n,request:e,event:r,params:i})}catch(u){o=Promise.reject(u)}return o instanceof Promise&&this._catchHandler&&(o=o.catch(u=>this._catchHandler.handle({url:n,request:e,event:r}))),o}findMatchingRoute({url:e,request:r,event:n}){const i=this._routes.get(r.method)||[];for(const s of i){let a;const o=s.match({url:e,request:r,event:n});if(o)return a=o,(Array.isArray(o)&&o.length===0||o.constructor===Object&&Object.keys(o).length===0||typeof o=="boolean")&&(a=void 0),{route:s,params:a}}return{}}setDefaultHandler(e){this._defaultHandler=Rt(e)}setCatchHandler(e){this._catchHandler=Rt(e)}registerRoute(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}unregisterRoute(e){if(!this._routes.has(e.method))throw new O("unregister-route-but-not-found-with-method",{method:e.method});const r=this._routes.get(e.method).indexOf(e);if(r>-1)this._routes.get(e.method).splice(r,1);else throw new O("unregister-route-route-not-registered")}}try{self["workbox:strategies:5.1.3"]&&_()}catch{}const Ce={cacheWillUpdate:async({response:t})=>t.status===200||t.status===0?t:null};class Tt{constructor(e={}){if(this._cacheName=ie.getRuntimeName(e.cacheName),e.plugins){const r=e.plugins.some(n=>!!n.cacheWillUpdate);this._plugins=r?e.plugins:[Ce,...e.plugins]}else this._plugins=[Ce];this._networkTimeoutSeconds=e.networkTimeoutSeconds||0,this._fetchOptions=e.fetchOptions,this._matchOptions=e.matchOptions}async handle({event:e,request:r}){const n=[];typeof r=="string"&&(r=new Request(r));const i=[];let s;if(this._networkTimeoutSeconds){const{id:u,promise:c}=this._getTimeoutPromise({request:r,event:e,logs:n});s=u,i.push(c)}const a=this._getNetworkPromise({timeoutId:s,request:r,event:e,logs:n});i.push(a);let o=await Promise.race(i);if(o||(o=await a),!o)throw new O("no-response",{url:r.url});return o}_getTimeoutPromise({request:e,logs:r,event:n}){let i;return{promise:new Promise(a=>{i=setTimeout(async()=>{a(await this._respondFromCache({request:e,event:n}))},this._networkTimeoutSeconds*1e3)}),id:i}}async _getNetworkPromise({timeoutId:e,request:r,logs:n,event:i}){let s,a;try{a=await qe.fetch({request:r,event:i,fetchOptions:this._fetchOptions,plugins:this._plugins})}catch(o){s=o}if(e&&clearTimeout(e),s||!a)a=await this._respondFromCache({request:r,event:i});else{const o=a.clone(),u=se.put({cacheName:this._cacheName,request:r,response:o,event:i,plugins:this._plugins});if(i)try{i.waitUntil(u)}catch{}}return a}_respondFromCache({event:e,request:r}){return se.match({cacheName:this._cacheName,request:r,event:e,matchOptions:this._matchOptions,plugins:this._plugins})}}class Fe{constructor(e={}){this._plugins=e.plugins||[],this._fetchOptions=e.fetchOptions}async handle({event:e,request:r}){typeof r=="string"&&(r=new Request(r));let n,i;try{i=await qe.fetch({request:r,event:e,fetchOptions:this._fetchOptions,plugins:this._plugins})}catch(s){n=s}if(!i)throw new O("no-response",{url:r.url,error:n});return i}}try{self["workbox:google-analytics:5.1.3"]&&_()}catch{}const ra="workbox-google-analytics",na=60*48,Hr="www.google-analytics.com",Wr="www.googletagmanager.com",ia="/analytics.js",sa="/gtag/js",aa="/gtm.js",oa=/^\/(\w+\/)?collect/,ua=t=>async({queue:e})=>{let r;for(;r=await e.shiftRequest();){const{request:n,timestamp:i}=r,s=new URL(n.url);try{const a=n.method==="POST"?new URLSearchParams(await n.clone().text()):s.searchParams,o=i-(Number(a.get("qt"))||0),u=Date.now()-o;if(a.set("qt",String(u)),t.parameterOverrides)for(const c of Object.keys(t.parameterOverrides)){const d=t.parameterOverrides[c];a.set(c,d)}typeof t.hitFilter=="function"&&t.hitFilter.call(null,a),await fetch(new Request(s.origin+s.pathname,{body:a.toString(),method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"text/plain"}}))}catch(a){throw await e.unshiftRequest(r),a}}},ca=t=>{const e=({url:n})=>n.hostname===Hr&&oa.test(n.pathname),r=new Fe({plugins:[t]});return[new L(e,r,"GET"),new L(e,r,"POST")]},fa=t=>{const e=({url:n})=>n.hostname===Hr&&n.pathname===ia,r=new Tt({cacheName:t});return new L(e,r,"GET")},la=t=>{const e=({url:n})=>n.hostname===Wr&&n.pathname===sa,r=new Tt({cacheName:t});return new L(e,r,"GET")},da=t=>{const e=({url:n})=>n.hostname===Wr&&n.pathname===aa,r=new Tt({cacheName:t});return new L(e,r,"GET")},ha=(t={})=>{const e=ie.getGoogleAnalyticsName(t.cacheName),r=new Me(ra,{maxRetentionTime:na,onSync:ua(t)}),n=[da(e),fa(e),la(e),...ca(r)],i=new Br;for(const s of n)i.registerRoute(s);i.addFetchListener()};class pa extends L{constructor(e,r,n){const i=({url:s})=>{const a=e.exec(s.href);if(a&&!(s.origin!==location.origin&&a.index!==0))return a.slice(1)};super(i,r,n)}}let _e;const ga=()=>(_e||(_e=new Br,_e.addFetchListener(),_e.addCacheListener()),_e);function N(t,e,r){let n;if(typeof t=="string"){const s=new URL(t,location.href),a=({url:o})=>o.href===s.href;n=new L(a,e,r)}else if(t instanceof RegExp)n=new pa(t,e,r);else if(typeof t=="function")n=new L(t,e,r);else if(t instanceof L)n=t;else throw new O("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});return ga().registerRoute(n),n}class Gr{constructor(e={}){this._cacheName=ie.getRuntimeName(e.cacheName),this._plugins=e.plugins||[],this._fetchOptions=e.fetchOptions,this._matchOptions=e.matchOptions}async handle({event:e,request:r}){typeof r=="string"&&(r=new Request(r));let n=await se.match({cacheName:this._cacheName,request:r,event:e,matchOptions:this._matchOptions,plugins:this._plugins}),i;if(!n)try{n=await this._getFromNetwork(r,e)}catch(s){i=s}if(!n)throw new O("no-response",{url:r.url,error:i});return n}async _getFromNetwork(e,r){const n=await qe.fetch({request:e,event:r,fetchOptions:this._fetchOptions,plugins:this._plugins}),i=n.clone(),s=se.put({cacheName:this._cacheName,request:e,response:i,event:r,plugins:this._plugins});if(r)try{r.waitUntil(s)}catch{}return n}}class oe{constructor(e={}){if(this._cacheName=ie.getRuntimeName(e.cacheName),this._plugins=e.plugins||[],e.plugins){const r=e.plugins.some(n=>!!n.cacheWillUpdate);this._plugins=r?e.plugins:[Ce,...e.plugins]}else this._plugins=[Ce];this._fetchOptions=e.fetchOptions,this._matchOptions=e.matchOptions}async handle({event:e,request:r}){typeof r=="string"&&(r=new Request(r));const n=this._getFromNetwork({request:r,event:e});let i=await se.match({cacheName:this._cacheName,request:r,event:e,matchOptions:this._matchOptions,plugins:this._plugins}),s;if(i){if(e)try{e.waitUntil(n)}catch{}}else try{i=await n}catch(a){s=a}if(!i)throw new O("no-response",{url:r.url,error:s});return i}async _getFromNetwork({request:e,event:r}){const n=await qe.fetch({request:e,event:r,fetchOptions:this._fetchOptions,plugins:this._plugins}),i=se.put({cacheName:this._cacheName,request:e,response:n.clone(),event:r,plugins:this._plugins});if(r)try{r.waitUntil(i)}catch{}return n}}const ma=(t,e,r)=>{let{actions:n=[]}=e;try{const o=r["gcm.notification.actions"];n=JSON.parse(o)}catch{}const i="https://a.lmcdn.ru/static/permanent/",s=e.icon||`${i}icons/push-icon.png?v3`,a=e.badge||`${i}icons/push-badge.png?v2`;return t.showNotification(e.title,{requireInteraction:!0,...e,actions:n,badge:a,icon:s,data:{click_action:e.click_action,isLmda:!0}})},_a={desktop:"https://8ddb7c59cddd4becb87a4b92279a26ab:28a8c969a76240e98edcfde8803c9e25@sentry-js.lamoda.ru/2",mobile:"https://f1e39d86acc24f07a4192fe1e1383269:f2c6cd108af74b969f420bbfed0bc307@sentry-js.lamoda.ru/5"};self.__WB_DISABLE_DEV_LOGS=!0,As({dsn:_a.mobile,attachStacktrace:!0,environment:"service-worker"});const z=60*60,xt=z*24,zr=xt*7,ue=new URLSearchParams(self.location.search),va=ue.get("lid"),ya=ue.get("cid"),wa=ue.get("country"),ba=ue.get("device"),Ea=ue.get("enablePushes")==="1",kt=ue.get("lstatHost");if(zs(),Ws(),Gs({prefix:"lmda",precache:"precache",runtime:"runtime"}),Ea){const t=n=>{const i=new URL(n);return`${i.pathname}${i.search}`},e=async n=>{const i=await self.Pushwoosh.data.getTokens(),s=i&&i.fcmToken,a=new URL(`https://${kt}/${wa}/${ba}`);return a.searchParams.append("lid",va),a.searchParams.append("cid",ya),a.searchParams.append("token",s),Object.entries(n).forEach(([o,u])=>{a.searchParams.append(o,u)}),a.searchParams.delete("click_action"),fetch(a)},r=async n=>{await fetch("/api/v1/push/report_delivery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lm_link:n})}),await e({action:"notifications_shown",target:n})};self.addEventListener("push",n=>{let i;try{i=n.data.json()}catch{return!1}const{notification:s,data:a={}}=i;s&&(n.stopImmediatePropagation(),n.waitUntil(ma(self.registration,s,a).then(r(s.click_action))))}),self.addEventListener("notificationclick",n=>{const{notification:i,action:s}=n,{isLmda:a}=i.data;if(!a)return;n.stopImmediatePropagation();const o=t(s||i.data.click_action);i.close();const{clients:u}=self;n.waitUntil(Promise.all([u.matchAll({type:"window"}).then(c=>{for(let d=0;d<c.length;d+=1){const l=c[d];if(t(l.url)===o&&"focus"in l)return l.focus()}return u.openWindow?u.openWindow(o):c}),e({action:"notifications_click",target:o})]))}),self.addEventListener("notificationclose",n=>{const{notification:i,action:s}=n,{isLmda:a}=i.data&&i.data||{};if(!a)return;n.stopImmediatePropagation();const o=t(s||i.data.click_action);n.waitUntil(e({action:"notifications_close",target:o}))}),importScripts(`https://cdn.pushwoosh.com/webpush/v3/pushwoosh-service-worker.js${self.location.search}`)}try{ha()}catch{}N(/\.(?:|ico|svg|woff2)$/,new Gr({cacheName:"lmda-precache",plugins:[new W({maxAgeSeconds:zr}),new G({statuses:[200]})]})),N(/\.(?:png|gif|map|jpe?g?|webp|json)$/,new Gr({cacheName:"lmda-runtime",plugins:[new W({maxEntries:40,maxAgeSeconds:xt,purgeOnQuotaError:!0}),new G({statuses:[200]})]})),N(/\d+\.(js|css)$/,new oe({cacheName:"lmda-runtime",plugins:[new W({maxAgeSeconds:zr}),new G({statuses:[200]})]})),N(({url:t})=>new URL(t).hostname===kt&&t.searchParams.get("action")!=="pageopen",new Fe({plugins:[new Me("zLog",{maxRetentionTime:z})]})),N(/^https:\/\/www.(googletagmanager|gstatic|js-agent.newrelic|browser.sentry-cdn|api-maps.yandex|mc.yandex).(com|ru)/,new oe({cacheName:"lmda-scripts",plugins:[new W({maxAgeSeconds:xt}),new G({statuses:[200]})]})),N(/apix\/cms/,new oe({cacheName:"lmda-runtime",plugins:[new W({maxAgeSeconds:z}),new G({statuses:[200]})]})),N(/_blocks\/menu/,new oe({cacheName:"lmda-runtime",plugins:[new W({maxAgeSeconds:z}),new G({statuses:[200]})]})),N(/api\/v1\/wishes\/(add|delete)/,new Fe({plugins:[new Me("wishlist",{maxRetentionTime:z})]}),"POST"),N(({url:t})=>{var n;const e=/api\/v1\/pickups\/(list|map|suggest)/;return((n=t.href.match(e))==null?void 0:n.length)>0&&t.searchParams.get("ignore_cart")==="true"},new oe({cacheName:"lmda-runtime",plugins:[new W({maxAgeSeconds:z}),new G({statuses:[200]})]}),"GET"),N(/api\/v1\/(cities|houses|streets)/,new oe({cacheName:"lmda-runtime",plugins:[new W({maxAgeSeconds:z}),new G({statuses:[200]})]}),"GET"),N(({url:t})=>new URL(t).hostname==="sovetnik.market.yandex.ru",({event:t})=>fetch(`https://${kt}/site/log/?action=sovetnik`,{method:"GET",mode:t.request.mode,cache:"default"})),N(/likes\/set/,new Fe({plugins:[new Me("likes",{maxRetentionTime:z})]}),"POST")})();
