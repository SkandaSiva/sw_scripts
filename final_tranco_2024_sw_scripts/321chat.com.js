var CACHE_NAME='offline321Chat';var urlsToCache=['/offline.html'];self.addEventListener('install',function(event){event.waitUntil(caches.open(CACHE_NAME).then(function(cache){console.log('Opened cache');return cache.addAll(urlsToCache);}));});self.addEventListener('fetch',function(event){event.respondWith(caches.match(event.request).then(function(response){return response||fetch(event.request);}).catch(function(){return caches.match('/offline.html');}));});self.addEventListener('activate',function(event){const cacheWhitelist=['offline321Chat'];event.waitUntil(caches.keys().then(function(cacheNames){return Promise.all(cacheNames.map(function(cacheName){if(cacheWhitelist.indexOf(cacheName)===-1){return caches.delete(cacheName);}}));}));});