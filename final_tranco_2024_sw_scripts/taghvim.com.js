const cacheName="taghvim-v3.5";const dynamicCacheName="taghvim-dynamic-v3.5";const filesToCache=["/static/css/7c4ea36bbb34.css","/static/fonts/glyphicons-halflings-regular.woff2?448c34a56d69"];const offlinePage="https://www.taghvim.com";const neverCacheUrls=["https://www.taghvim.com/","https://www.taghvim.com/norooz/","https://www.taghvim.com/admin/","https://www.taghvim.com/converter/"];self.addEventListener("install",function(e){e.waitUntil(caches.open(cacheName).then(function(cache){return cache.addAll(filesToCache).catch(function(reason){return console.log("SW: "+String(reason));});}));});self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(keyList){return Promise.all(keyList.map(function(key){if(key!==cacheName&&key!==dynamicCacheName){console.log("key deleted :: ",key);return caches.delete(key);}}));}));return self.clients.claim();});self.addEventListener("fetch",function(e){if(e.request.url.indexOf("/admin/")!==-1){return;}
if(!neverCacheUrls.every(checkNeverCacheList,e.request.url)){return;}
if(!e.request.url.match(/^(http|https):\/\//i))return;if(new URL(e.request.url).origin!==location.origin)return e.request;e.respondWith(caches.match(e.request).then(function(response){if(response){return response;}else{return fetch(e.request).then(function(res){return caches.open(dynamicCacheName).then(function(cache){cache.put(e.request.url,res.clone());return res;});});}}).catch(function(err){return caches.open(cacheName).then(function(cache){return cache.match(offlinePage);});}));});function checkNeverCacheList(url){if(this.match(url)){return false;}
return true;}