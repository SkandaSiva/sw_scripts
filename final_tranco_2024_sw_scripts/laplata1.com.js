self.addEventListener("fetch",function(event){console.log(`start server worker`)});self.addEventListener('push',e=>{const data=JSON.parse(e.data.text());const title=data.titulo;const options={body:data.cuerpo,icon:'https://www.laplata1.com/iconx/pwa-192x192.png',badge:'https://www.laplata1.com/iconx/android-192x192.png',image:data.imagen,data:{id:data.id,openUrl:data.openUrl}};e.waitUntil(self.registration.showNotification(title,options));});self.addEventListener('notificationclose',e=>{console.log('noficicacion cerrada');});self.addEventListener('notificationclick',function(event){event.notification.close();fetch('https://www.laplata1.com/push_view?id='+event.notification.data.id+'&nocache='+Math.random()*1000);if(clients.openWindow){return clients.openWindow(event.notification.data.openUrl);}});