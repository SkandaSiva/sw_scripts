"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function n(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,c,"next",e)}function c(e){t(o,i,a,s,c,"throw",e)}s(void 0)}))}}function r(e,t,n){return t=u(t),function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return a=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},a.apply(null,arguments)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function f(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function b(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}function y(e){var t="function"==typeof Map?new Map:void 0;return y=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)},y(e)}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function w(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var S=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,p=(15&s)<<2|u>>6,h=63&u;c||(h=64,o||(p=64)),r.push(n[l],n[f],n[p],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(S(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],c=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&c)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==c)throw new I;var u=a<<2|o>>4;if(r.push(u),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==c){var f=s<<6&192|c;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},I=function(){function e(){var t;return i(this,e),(t=r(this,e,arguments)).name="DecodeBase64StringError",t}return l(e,y(Error)),e}(),_=function(e){return function(e){var t=S(e);return k.encodeByteArray(t,!0)}(e).replace(/\./g,"")};var E=function(){return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},O=function(){if("undefined"!=typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}var t=e&&function(e){try{return k.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(e[1]);return t&&JSON.parse(t)}},C=function(){try{return E()||function(){if("undefined"!=typeof process&&void 0!==process.env){var e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||O()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},T=function(){var e;return null===(e=C())||void 0===e?void 0:e.config},D=function(){function e(){var t=this;i(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return s(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function A(){try{return"object"===("undefined"==typeof indexedDB?"undefined":g(indexedDB))}catch(e){return!1}}function j(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}var P=function(){function e(t,n,a){var o;return i(this,e),(o=r(this,e,[n])).code=t,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,N.prototype.create),o}return l(e,y(Error)),e}(),N=function(){function e(t,n,r){i(this,e),this.service=t,this.serviceName=n,this.errors=r}return s(e,[{key:"create",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0]||{},a="".concat(this.service,"/").concat(e),o=this.errors[e],s=o?function(e,t){return e.replace(M,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(o,i):"Error",c="".concat(this.serviceName,": ").concat(s," (").concat(a,").");return new P(a,c,i)}}]),e}();var M=/\{\$([^}]+)}/g;function B(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t),i=!0,a=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;if(!r.includes(u))return!1;var l=e[u],f=t[u];if(L(l)&&L(f)){if(!B(l,f))return!1}else if(l!==f)return!1}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var p=!0,h=!1,d=void 0;try{for(var v,g=r[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var b=v.value;if(!n.includes(b))return!1}}catch(e){h=!0,d=e}finally{try{p||null==g.return||g.return()}finally{if(h)throw d}}return!0}function L(e){return null!==e&&"object"===(void 0===e?"undefined":g(e))}function x(e){return e&&e._delegate?e._delegate:e}var R=function(){function e(t,n,r){i(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return s(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),F="[DEFAULT]",K=function(){function e(t,n){i(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return s(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new D;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:F})}catch(e){}var t=!0,n=!1,r=void 0;try{for(var i,a=this.instancesDeferred.entries()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=d(i.value,2),s=o[0],c=o[1],u=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(e){}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=this;return n((function(){var t;return w(this,(function(n){switch(n.label){case 0:return t=Array.from(e.instances.values()),[4,Promise.all(v(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))).concat(v(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return n.sent(),[2]}}))}))()}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=!0,o=!1,s=void 0;try{for(var c,u=this.instancesDeferred.entries()[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=d(c.value,2),f=l[0],p=l[1];r===this.normalizeInstanceIdentifier(f)&&p.resolve(i)}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return i}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;try{c(e,t)}catch(e){}}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===F?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(e){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return this.component?this.component.multipleInstances?e:F:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var H,V,U=function(){function e(t){i(this,e),this.name=t,this.providers=new Map}return s(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new K(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}();(V=H||(H={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT";var W,z,q,$={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},G=H.INFO,J=(c(W={},H.DEBUG,"log"),c(W,H.VERBOSE,"log"),c(W,H.INFO,"info"),c(W,H.WARN,"warn"),c(W,H.ERROR,"error"),W),Y=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!(t<e.logLevel)){var a,o=(new Date).toISOString(),s=J[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));(a=console)[s].apply(a,["[".concat(o,"]  ").concat(e.name,":")].concat(v(r)))}},Q=function(){function e(t){i(this,e),this.name=t,this._logLevel=G,this._logHandler=Y,this._userLogHandler=null}return s(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in H))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?$[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,H.DEBUG].concat(v(t))),this._logHandler.apply(this,[this,H.DEBUG].concat(v(t)))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,H.VERBOSE].concat(v(t))),this._logHandler.apply(this,[this,H.VERBOSE].concat(v(t)))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,H.INFO].concat(v(t))),this._logHandler.apply(this,[this,H.INFO].concat(v(t)))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,H.WARN].concat(v(t))),this._logHandler.apply(this,[this,H.WARN].concat(v(t)))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,H.ERROR].concat(v(t))),this._logHandler.apply(this,[this,H.ERROR].concat(v(t)))}}]),e}();var X=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap;var re={get:function(e,t,n){if(f(e,IDBTransaction)){if("done"===t)return Z.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ee.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oe(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return!(!f(e,IDBTransaction)||"done"!==t&&"store"!==t)||t in e}};function ie(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(se(this),n),oe(X.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oe(e.apply(se(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=(a=e).call.apply(a,[se(this),t].concat(v(r)));return ee.set(o,t.sort?t.sort():[t]),oe(o)}}function ae(e){return"function"==typeof e?ie(e):(f(e,IDBTransaction)&&function(e){if(!Z.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Z.set(e,t)}}(e),t=e,(z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return f(t,e)}))?new Proxy(e,re):e);var t}function oe(e){if(f(e,IDBRequest))return t=e,(n=new Promise((function(e,n){var r=function(){t.removeEventListener("success",i),t.removeEventListener("error",a)},i=function(){e(oe(t.result)),r()},a=function(){n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)}))).then((function(e){f(e,IDBCursor)&&X.set(e,t)})).catch((function(){})),ne.set(n,t),n;var t,n;if(te.has(e))return te.get(e);var r=ae(e);return r!==e&&(te.set(e,r),ne.set(r,e)),r}var se=function(e){return ne.get(e)};function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),c=oe(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(oe(s.result),e.oldVersion,e.newVersion,oe(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),c.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),c}function ue(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(function(e){return t(e.oldVersion,e)})),oe(n).then((function(){}))}var le,fe=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],he=new Map;function de(e,t){if(f(e,IDBDatabase)&&!(t in e)&&"string"==typeof t){if(he.get(t))return he.get(t);var r=t.replace(/FromIndex$/,""),i=t!==r,a=pe.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(a||fe.includes(r))){var o=function(){var e=n((function(e){var t,n,o,s,c,u,l=arguments;return w(this,(function(f){switch(f.label){case 0:for(t=l.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=l[o];return c=this.transaction(e,a?"readwrite":"readonly"),u=c.store,i&&(u=u.index(n.shift())),[4,Promise.all([(s=u)[r].apply(s,v(n)),a&&c.done])];case 1:return[2,f.sent()[0]]}}))}));return function(t){return e.apply(this,arguments)}}();return he.set(t,o),o}}}le=function(e){return p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({},e),{get:function(t,n,r){return de(t,n)||e.get(t,n,r)},has:function(t,n){return!!de(t,n)||e.has(t,n)}})},re=le(re);var ve=function(){function e(t){i(this,e),this.container=t}return s(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ge,be,ye="@firebase/app",me="0.10.15",we=new Q("@firebase/app"),Se="[DEFAULT]",ke=(c(ge={},ye,"fire-core"),c(ge,"@firebase/app-compat","fire-core-compat"),c(ge,"@firebase/analytics","fire-analytics"),c(ge,"@firebase/analytics-compat","fire-analytics-compat"),c(ge,"@firebase/app-check","fire-app-check"),c(ge,"@firebase/app-check-compat","fire-app-check-compat"),c(ge,"@firebase/auth","fire-auth"),c(ge,"@firebase/auth-compat","fire-auth-compat"),c(ge,"@firebase/database","fire-rtdb"),c(ge,"@firebase/data-connect","fire-data-connect"),c(ge,"@firebase/database-compat","fire-rtdb-compat"),c(ge,"@firebase/functions","fire-fn"),c(ge,"@firebase/functions-compat","fire-fn-compat"),c(ge,"@firebase/installations","fire-iid"),c(ge,"@firebase/installations-compat","fire-iid-compat"),c(ge,"@firebase/messaging","fire-fcm"),c(ge,"@firebase/messaging-compat","fire-fcm-compat"),c(ge,"@firebase/performance","fire-perf"),c(ge,"@firebase/performance-compat","fire-perf-compat"),c(ge,"@firebase/remote-config","fire-rc"),c(ge,"@firebase/remote-config-compat","fire-rc-compat"),c(ge,"@firebase/storage","fire-gcs"),c(ge,"@firebase/storage-compat","fire-gcs-compat"),c(ge,"@firebase/firestore","fire-fst"),c(ge,"@firebase/firestore-compat","fire-fst-compat"),c(ge,"@firebase/vertexai","fire-vertex"),c(ge,"fire-js","fire-js"),c(ge,"firebase","fire-js-all"),ge),Ie=new Map,_e=new Map,Ee=new Map;function Oe(e,t){try{e.container.addComponent(t)}catch(n){we.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ce(e){var t=e.name;if(Ee.has(t))return we.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ee.set(t,e);var n=!0,r=!1,i=void 0;try{for(var a,o=Ie.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){Oe(a.value,e)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var s=!0,c=!1,u=void 0;try{for(var l,f=_e.values()[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){Oe(l.value,e)}}catch(e){c=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}return!0}function Te(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var De=(c(be={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),c(be,"bad-app-name","Illegal App name: '{$appName}'"),c(be,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),c(be,"app-deleted","Firebase App named '{$appName}' already deleted"),c(be,"server-app-deleted","Firebase Server App has been deleted"),c(be,"no-options","Need to provide options, when not being deployed to hosting via source."),c(be,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),c(be,"invalid-log-argument","First argument to `onLog` must be null or a function."),c(be,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),c(be,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),c(be,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),c(be,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),c(be,"finalization-registry-not-supported","FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry."),c(be,"invalid-server-app-environment","FirebaseServerApp is not for use in browser environments."),be),Ae=new N("app","Firebase",De),je=function(){function e(t,n,r){var a=this;i(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new R("app",(function(){return a}),"PUBLIC"))}return s(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ae.create("app-deleted",{appName:this._name})}}]),e}();function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==(void 0===t?"undefined":g(t))&&(t={name:t});var r=Object.assign({name:Se,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Ae.create("bad-app-name",{appName:String(i)});if(n||(n=T()),!n)throw Ae.create("no-options");var a=Ie.get(i);if(a){if(B(n,a.options)&&B(r,a.config))return a;throw Ae.create("duplicate-app",{appName:i})}var o=new U(i),s=!0,c=!1,u=void 0;try{for(var l,f=Ee.values()[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var p=l.value;o.addComponent(p)}}catch(e){c=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}var h=new je(n,r,o);return Ie.set(i,h),h}function Ne(e,t,n){var r,i=null!==(r=ke[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void we.warn(s.join(" "))}Ce(new R("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Me="firebase-heartbeat-store",Be=null;function Le(){return Be||(Be=ce("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(Me)}catch(e){console.warn(e)}}}).catch((function(e){throw Ae.create("idb-open",{originalErrorMessage:e.message})}))),Be}function xe(e){return Re.apply(this,arguments)}function Re(){return(Re=n((function(e){var t,n,r,i,a;return w(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,Le()];case 1:return t=o.sent(),[4,(n=t.transaction(Me)).objectStore(Me).get(He(e))];case 2:return r=o.sent(),[4,n.done];case 3:return o.sent(),[2,r];case 4:return f(i=o.sent(),P)?we.warn(i.message):(a=Ae.create("idb-get",{originalErrorMessage:null==i?void 0:i.message}),we.warn(a.message)),[3,5];case 5:return[2]}}))}))).apply(this,arguments)}function Fe(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=n((function(e,t){var n,r,i,a;return w(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,Le()];case 1:return n=o.sent(),r=n.transaction(Me,"readwrite"),[4,r.objectStore(Me).put(t,He(e))];case 2:return o.sent(),[4,r.done];case 3:return o.sent(),[3,5];case 4:return f(i=o.sent(),P)?we.warn(i.message):(a=Ae.create("idb-set",{originalErrorMessage:null==i?void 0:i.message}),we.warn(a.message)),[3,5];case 5:return[2]}}))}))).apply(this,arguments)}function He(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ve=function(){function e(t){var n=this;i(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ze(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return s(e,[{key:"triggerHeartbeat",value:function(){var e=this;return n((function(){var t,n,r,i,a,o;return w(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),r=e.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=Ue(),null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)?[3,2]:[4,e._heartbeatsCachePromise];case 1:if(e._heartbeatsCache=s.sent(),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats))return[2];s.label=2;case 2:return e._heartbeatsCache.lastSentHeartbeatDate===a||e._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))?[2]:(e._heartbeatsCache.heartbeats.push({date:a,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),[2,e._storage.overwrite(e._heartbeatsCache)]);case 3:return o=s.sent(),we.warn(o),[3,4];case 4:return[2]}}))}))()}},{key:"getHeartbeatsHeader",value:function(){var e=this;return n((function(){var t,n,r,i,a,o,s;return w(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),null!==e._heartbeatsCache?[3,2]:[4,e._heartbeatsCachePromise];case 1:c.sent(),c.label=2;case 2:return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length?[2,""]:(n=Ue(),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=[],r=e.slice(),i=!0,a=!1,o=void 0;try{for(var s,c=function(){var e=s.value,i=n.find((function(t){return t.agent===e.agent}));if(i){if(i.dates.push(e.date),qe(n)>t)return i.dates.pop(),"break"}else if(n.push({agent:e.agent,dates:[e.date]}),qe(n)>t)return n.pop(),"break";r=r.slice(1)},u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){if("break"===c())break}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=_(JSON.stringify({version:2,heartbeats:i})),e._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(e._heartbeatsCache.heartbeats=a,[4,e._storage.overwrite(e._heartbeatsCache)]):[3,4]);case 3:return c.sent(),[3,5];case 4:e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache),c.label=5;case 5:return[2,o];case 6:return s=c.sent(),we.warn(s),[2,""];case 7:return[2]}}))}))()}}]),e}();function Ue(){return(new Date).toISOString().substring(0,10)}var We,ze=function(){function e(t){i(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return s(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){return n((function(){return w(this,(function(e){return A()?[2,j().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))()}},{key:"read",value:function(){var e=this;return n((function(){var t;return w(this,(function(n){switch(n.label){case 0:return[4,e._canUseIndexedDBPromise];case 1:return n.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,xe(e.app)];case 3:return(null==(t=n.sent())?void 0:t.heartbeats)?[2,t]:[2,{heartbeats:[]}];case 4:return[2]}}))}))()}},{key:"overwrite",value:function(e){var t=this;return n((function(){var n,r;return w(this,(function(i){switch(i.label){case 0:return[4,t._canUseIndexedDBPromise];case 1:return i.sent()?[3,2]:[2];case 2:return[4,t.read()];case 3:return r=i.sent(),[2,Fe(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})];case 4:return[2]}}))}))()}},{key:"add",value:function(e){var t=this;return n((function(){var n,r;return w(this,(function(i){switch(i.label){case 0:return[4,t._canUseIndexedDBPromise];case 1:return i.sent()?[3,2]:[2];case 2:return[4,t.read()];case 3:return r=i.sent(),[2,Fe(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:v(r.heartbeats).concat(v(e.heartbeats))})];case 4:return[2]}}))}))()}}]),e}();function qe(e){return _(JSON.stringify({version:2,heartbeats:e})).length}We="",Ce(new R("platform-logger",(function(e){return new ve(e)}),"PRIVATE")),Ce(new R("heartbeat",(function(e){return new Ve(e)}),"PRIVATE")),Ne(ye,me,We),Ne(ye,me,"esm2017"),Ne("fire-js","");Ne("firebase","11.0.1","app");var $e,Ge="@firebase/installations",Je="0.6.10",Ye=1e4,Qe="w:".concat(Je),Xe="FIS_v2",Ze=36e5,et=(c($e={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),c($e,"not-registered","Firebase Installation is not registered."),c($e,"installation-not-found","Firebase Installation not found."),c($e,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),c($e,"app-offline","Could not process request. Application offline."),c($e,"delete-pending-registration","Can't delete installation while there is a pending registration request."),$e),tt=new N("installations","Installations",et);function nt(e){return f(e,P)&&e.code.includes("request-failed")}function rt(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function it(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function at(e,t){return ot.apply(this,arguments)}function ot(){return(ot=n((function(e,t){var n,r;return w(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,tt.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))).apply(this,arguments)}function st(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ct(e,t){var n=t.refreshToken,r=st(e);return r.append("Authorization",function(e){return"".concat(Xe," ").concat(e)}(n)),r}function ut(e){return lt.apply(this,arguments)}function lt(){return(lt=n((function(e){var t;return w(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))).apply(this,arguments)}function ft(e,t){return pt.apply(this,arguments)}function pt(){return(pt=n((function(e,t){var n,r,i,a,o,s,c,u,l,f,p;return w(this,(function(h){switch(h.label){case 0:return n=e.appConfig,r=e.heartbeatServiceProvider,i=t.fid,a=rt(n),o=st(n),(s=r.getImmediate({optional:!0}))?[4,s.getHeartbeatsHeader()]:[3,2];case 1:(c=h.sent())&&o.append("x-firebase-client",c),h.label=2;case 2:return u={fid:i,authVersion:Xe,appId:n.appId,sdkVersion:Qe},l={method:"POST",headers:o,body:JSON.stringify(u)},[4,ut((function(){return fetch(a,l)}))];case 3:return(f=h.sent()).ok?[4,f.json()]:[3,5];case 4:return p=h.sent(),[2,{fid:p.fid||i,registrationStatus:2,refreshToken:p.refreshToken,authToken:it(p.authToken)}];case 5:return[4,at("Create Installation",f)];case 6:throw h.sent();case 7:return[2]}}))}))).apply(this,arguments)}function ht(e){return new Promise((function(t){setTimeout(t,e)}))}var dt=/^[cdef][\w-]{21}$/;function vt(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa((r=String).fromCharCode.apply(r,v(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n,r;return t.substr(0,22)}(e);return dt.test(t)?t:""}catch(e){return""}}function gt(e){return"".concat(e.appName,"!").concat(e.appId)}var bt=new Map;function yt(e,t){var n=gt(e);mt(n,t),function(e,t){var n=function(){!wt&&"BroadcastChannel"in self&&((wt=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){mt(e.data.key,e.data.fid)});return wt}();n&&n.postMessage({key:e,fid:t});0===bt.size&&wt&&(wt.close(),wt=null)}(n,t)}function mt(e,t){var n=bt.get(e);if(n){var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){(0,o.value)(t)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}}var wt=null;var St="firebase-installations-store",kt=null;function It(){return kt||(kt=ce("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(St)}})),kt}function _t(e,t){return Et.apply(this,arguments)}function Et(){return(Et=n((function(e,t){var n,r,i,a,o;return w(this,(function(s){switch(s.label){case 0:return n=gt(e),[4,It()];case 1:return r=s.sent(),i=r.transaction(St,"readwrite"),[4,(a=i.objectStore(St)).get(n)];case 2:return o=s.sent(),[4,a.put(t,n)];case 3:return s.sent(),[4,i.done];case 4:return s.sent(),o&&o.fid===t.fid||yt(e,t.fid),[2,t]}}))}))).apply(this,arguments)}function Ot(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=n((function(e){var t,n,r;return w(this,(function(i){switch(i.label){case 0:return t=gt(e),[4,It()];case 1:return n=i.sent(),[4,(r=n.transaction(St,"readwrite")).objectStore(St).delete(t)];case 2:return i.sent(),[4,r.done];case 3:return i.sent(),[2]}}))}))).apply(this,arguments)}function Tt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=n((function(e,t){var n,r,i,a,o,s;return w(this,(function(c){switch(c.label){case 0:return n=gt(e),[4,It()];case 1:return r=c.sent(),i=r.transaction(St,"readwrite"),[4,(a=i.objectStore(St)).get(n)];case 2:return o=c.sent(),void 0!==(s=t(o))?[3,4]:[4,a.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,a.put(s,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.done];case 7:return c.sent(),!s||o&&o.fid===s.fid||yt(e,s.fid),[2,s]}}))}))).apply(this,arguments)}function At(e){return jt.apply(this,arguments)}function jt(){return jt=n((function(e){var t,n,r;return w(this,(function(i){switch(i.label){case 0:return[4,Tt(e.appConfig,(function(n){var r=function(e){var t=e||{fid:vt(),registrationStatus:0};return Lt(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(tt.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Pt.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Nt(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))})),jt.apply(this,arguments)}function Pt(){return(Pt=n((function(e,t){var n,r;return w(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,ft(e,t)];case 1:return n=i.sent(),[2,_t(e.appConfig,n)];case 2:return nt(r=i.sent())&&409===r.customData.serverCode?[4,Ot(e.appConfig)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,_t(e.appConfig,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))).apply(this,arguments)}function Nt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=n((function(e){var t,n,r,i;return w(this,(function(a){switch(a.label){case 0:return[4,Bt(e.appConfig)];case 1:t=a.sent(),a.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,ht(100)];case 3:return a.sent(),[4,Bt(e.appConfig)];case 4:return t=a.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,At(e)];case 6:return n=a.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))).apply(this,arguments)}function Bt(e){return Tt(e,(function(e){if(!e)throw tt.create("installation-not-found");return Lt(e)}))}function Lt(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ye<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function xt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=n((function(e,t){var n,r,i,a,o,s,c,u,l,f;return w(this,(function(p){switch(p.label){case 0:return n=e.appConfig,r=e.heartbeatServiceProvider,i=function(e,t){var n=t.fid;return"".concat(rt(e),"/").concat(n,"/authTokens:generate")}(n,t),a=ct(n,t),(o=r.getImmediate({optional:!0}))?[4,o.getHeartbeatsHeader()]:[3,2];case 1:(s=p.sent())&&a.append("x-firebase-client",s),p.label=2;case 2:return c={installation:{sdkVersion:Qe,appId:n.appId}},u={method:"POST",headers:a,body:JSON.stringify(c)},[4,ut((function(){return fetch(i,u)}))];case 3:return(l=p.sent()).ok?[4,l.json()]:[3,5];case 4:return f=p.sent(),[2,it(f)];case 5:return[4,at("Generate Auth Token",l)];case 6:throw p.sent();case 7:return[2]}}))}))).apply(this,arguments)}function Ft(e){return Kt.apply(this,arguments)}function Kt(){return Kt=n((function(e){var t,n,r,i,a=arguments;return w(this,(function(o){switch(o.label){case 0:return t=a.length>1&&void 0!==a[1]&&a[1],[4,Tt(e.appConfig,(function(r){if(!Wt(r))throw tt.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ze}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Ht.apply(this,arguments)}(e,t),r;if(!navigator.onLine)throw tt.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=function(e,t){return Ut.apply(this,arguments)}(e,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))})),Kt.apply(this,arguments)}function Ht(){return(Ht=n((function(e,t){var n,r;return w(this,(function(i){switch(i.label){case 0:return[4,Vt(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,ht(100)];case 3:return i.sent(),[4,Vt(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Ft(e,t)]:[2,r]}}))}))).apply(this,arguments)}function Vt(e){return Tt(e,(function(e){if(!Wt(e))throw tt.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Ye<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Ut(){return(Ut=n((function(e,t){var n,r,i,a;return w(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,xt(e,t)];case 1:return n=o.sent(),r=Object.assign(Object.assign({},t),{authToken:n}),[4,_t(e.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return!nt(i=o.sent())||401!==i.customData.serverCode&&404!==i.customData.serverCode?[3,5]:[4,Ot(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}),[4,_t(e.appConfig,a)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}}))}))).apply(this,arguments)}function Wt(e){return void 0!==e&&2===e.registrationStatus}function zt(){return(zt=n((function(e){var t,n,r,i;return w(this,(function(a){switch(a.label){case 0:return[4,At(t=e)];case 1:return n=a.sent(),r=n.installationEntry,(i=n.registrationPromise)?i.catch(console.error):Ft(t).catch(console.error),[2,r.fid]}}))}))).apply(this,arguments)}function qt(){return qt=n((function(e){var t,n,r=arguments;return w(this,(function(i){switch(i.label){case 0:return t=r.length>1&&void 0!==r[1]&&r[1],[4,$t(n=e)];case 1:return i.sent(),[4,Ft(n,t)];case 2:return[2,i.sent().token]}}))})),qt.apply(this,arguments)}function $t(e){return Gt.apply(this,arguments)}function Gt(){return(Gt=n((function(e){var t;return w(this,(function(n){switch(n.label){case 0:return[4,At(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))).apply(this,arguments)}function Jt(e){return tt.create("missing-app-config-values",{valueName:e})}var Yt="installations",Qt=function(e){var t=Te(e.getProvider("app").getImmediate(),Yt).getImmediate(),n={getId:function(){return function(e){return zt.apply(this,arguments)}(t)},getToken:function(e){return function(e){return qt.apply(this,arguments)}(t,e)}};return n};Ce(new R(Yt,(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Jt("App Configuration");if(!e.name)throw Jt("App Name");var t=!0,n=!1,r=void 0;try{for(var i,a=["projectId","apiKey","appId"][Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(!e.options[o])throw Jt(o)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Te(t,"heartbeat"),_delete:function(){return Promise.resolve()}}}),"PUBLIC")),Ce(new R("installations-internal",Qt,"PRIVATE")),Ne(Ge,Je),Ne(Ge,Je,"esm2017");var Xt,Zt,en,tn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nn="google.c.a.c_id";function rn(e){var t,n=new Uint8Array(e);return btoa((t=String).fromCharCode.apply(t,v(n))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function an(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}(Zt=Xt||(Xt={}))[Zt.DATA_MESSAGE=1]="DATA_MESSAGE",Zt[Zt.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(en||(en={}));var on="fcm_token_details_db",sn="fcm_token_object_Store";function cn(e){return un.apply(this,arguments)}function un(){return un=n((function(e){var t,r;return w(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes(on))return[2,null];i.label=2;case 2:return r=null,[4,ce(on,5,{upgrade:function(){var t=n((function(t,n,i,a){var o,s,c,u,l,f;return w(this,(function(i){switch(i.label){case 0:return n<2?[2]:t.objectStoreNames.contains(sn)?[4,(s=a.objectStore(sn)).index("fcmSenderId").get(e)]:[2];case 1:return c=i.sent(),[4,s.clear()];case 2:if(i.sent(),!c)return[2];if(2===n){if(!(u=c).auth||!u.p256dh||!u.endpoint)return[2];r={token:u.fcmToken,createTime:null!==(o=u.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:rn(u.vapidKey)}}}else 3===n?r={token:(l=c).fcmToken,createTime:l.createTime,subscriptionOptions:{auth:rn(l.auth),p256dh:rn(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:rn(l.vapidKey)}}:4===n&&(r={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:rn(f.auth),p256dh:rn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:rn(f.vapidKey)}});return[2]}}))}));return function(e,n,r,i){return t.apply(this,arguments)}}()})];case 3:return i.sent().close(),[4,ue(on)];case 4:return i.sent(),[4,ue("fcm_vapid_details_db")];case 5:return i.sent(),[4,ue("undefined")];case 6:return i.sent(),[2,ln(r)?r:null]}}))})),un.apply(this,arguments)}function ln(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var fn,pn="firebase-messaging-store",hn=null;function dn(){return hn||(hn=ce("firebase-messaging-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(pn)}})),hn}function vn(e){return gn.apply(this,arguments)}function gn(){return(gn=n((function(e){var t,n,r;return w(this,(function(i){switch(i.label){case 0:return t=mn(e),[4,dn()];case 1:return[4,i.sent().transaction(pn).objectStore(pn).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,cn(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,bn(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))).apply(this,arguments)}function bn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=n((function(e,t){var n,r,i;return w(this,(function(a){switch(a.label){case 0:return n=mn(e),[4,dn()];case 1:return r=a.sent(),[4,(i=r.transaction(pn,"readwrite")).objectStore(pn).put(t,n)];case 2:return a.sent(),[4,i.done];case 3:return a.sent(),[2,t]}}))}))).apply(this,arguments)}function mn(e){return e.appConfig.appId}var wn=(c(fn={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),c(fn,"only-available-in-window","This method is available in a Window context."),c(fn,"only-available-in-sw","This method is available in a service worker context."),c(fn,"permission-default","The notification permission was not granted and dismissed instead."),c(fn,"permission-blocked","The notification permission was not granted and blocked instead."),c(fn,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),c(fn,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),c(fn,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),c(fn,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),c(fn,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),c(fn,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),c(fn,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),c(fn,"token-update-no-token","FCM returned no token when updating the user to push."),c(fn,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),c(fn,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),c(fn,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),c(fn,"invalid-vapid-key","The public VAPID key must be a string."),c(fn,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),fn),Sn=new N("messaging","Messaging",wn);function kn(e,t){return In.apply(this,arguments)}function In(){return(In=n((function(e,t){var n,r,i,a,o,s;return w(this,(function(c){switch(c.label){case 0:return[4,Dn(e)];case 1:n=c.sent(),r=jn(t),i={method:"POST",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(Tn(e.appConfig),i)];case 3:return[4,c.sent().json()];case 4:return a=c.sent(),[3,6];case 5:throw o=c.sent(),Sn.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()});case 6:if(a.error)throw s=a.error.message,Sn.create("token-subscribe-failed",{errorInfo:s});if(!a.token)throw Sn.create("token-subscribe-no-token");return[2,a.token]}}))}))).apply(this,arguments)}function _n(e,t){return En.apply(this,arguments)}function En(){return(En=n((function(e,t){var n,r,i,a,o,s;return w(this,(function(c){switch(c.label){case 0:return[4,Dn(e)];case 1:n=c.sent(),r=jn(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch("".concat(Tn(e.appConfig),"/").concat(t.token),i)];case 3:return[4,c.sent().json()];case 4:return a=c.sent(),[3,6];case 5:throw o=c.sent(),Sn.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()});case 6:if(a.error)throw s=a.error.message,Sn.create("token-update-failed",{errorInfo:s});if(!a.token)throw Sn.create("token-update-no-token");return[2,a.token]}}))}))).apply(this,arguments)}function On(e,t){return Cn.apply(this,arguments)}function Cn(){return(Cn=n((function(e,t){var n,r,i,a,o;return w(this,(function(s){switch(s.label){case 0:return[4,Dn(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch("".concat(Tn(e.appConfig),"/").concat(t),r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw a=i.error.message,Sn.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw o=s.sent(),Sn.create("token-unsubscribe-failed",{errorInfo:null==o?void 0:o.toString()});case 6:return[2]}}))}))).apply(this,arguments)}function Tn(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function Dn(e){return An.apply(this,arguments)}function An(){return(An=n((function(e){var t,n;return w(this,(function(r){switch(r.label){case 0:return t=e.appConfig,[4,e.installations.getToken()];case 1:return n=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(n)})]}}))}))).apply(this,arguments)}function jn(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==tn&&(a.web.applicationPubKey=i),a}function Pn(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=n((function(e){var t,n,r,i;return w(this,(function(a){switch(a.label){case 0:return[4,Rn(e.swRegistration,e.vapidKey)];case 1:return t=a.sent(),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:rn(t.getKey("auth")),p256dh:rn(t.getKey("p256dh"))},[4,vn(e.firebaseDependencies)];case 2:return(r=a.sent())?[3,3]:[2,Ln(e.firebaseDependencies,n)];case 3:if(o=r.subscriptionOptions,c=(s=n).vapidKey===o.vapidKey,u=s.endpoint===o.endpoint,l=s.auth===o.auth,f=s.p256dh===o.p256dh,c&&u&&l&&f)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,On(e.firebaseDependencies,r.token)];case 5:return a.sent(),[3,7];case 6:return i=a.sent(),console.warn(i),[3,7];case 7:return[2,Ln(e.firebaseDependencies,n)];case 8:return Date.now()>=r.createTime+6048e5?[2,Mn(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n})]:[2,r.token];case 9:return[2]}var o,s,c,u,l,f}))}))).apply(this,arguments)}function Mn(e,t){return Bn.apply(this,arguments)}function Bn(){return(Bn=n((function(e,t){var n,r;return w(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,_n(e.firebaseDependencies,t)];case 1:return n=i.sent(),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()}),[4,bn(e.firebaseDependencies,r)];case 2:return i.sent(),[2,n];case 3:throw i.sent();case 4:return[2]}}))}))).apply(this,arguments)}function Ln(e,t){return xn.apply(this,arguments)}function xn(){return(xn=n((function(e,t){var n,r;return w(this,(function(i){switch(i.label){case 0:return[4,kn(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,bn(e,r)];case 2:return i.sent(),[2,r.token]}}))}))).apply(this,arguments)}function Rn(e,t){return Fn.apply(this,arguments)}function Fn(){return(Fn=n((function(e,t){var n;return w(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:an(t)})]}}))}))).apply(this,arguments)}function Kn(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);var c=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function Hn(e){return Sn.create("missing-app-config-values",{valueName:e})}var Vn=function(){function e(t,n,r){i(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var a=function(e){if(!e||!e.options)throw Hn("App Configuration Object");if(!e.name)throw Hn("App Name");var t=e.options,n=!0,r=!1,i=void 0;try{for(var a,o=["projectId","apiKey","appId","messagingSenderId"][Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(!t[s])throw Hn(s)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:a,installations:n,analyticsProvider:r}}return s(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function Un(e){return Wn.apply(this,arguments)}function Wn(){return(Wn=n((function(e){var t;return w(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),e.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Sn.create("failed-service-worker-registration",{browserErrorMessage:null==t?void 0:t.message});case 3:return[2]}}))}))).apply(this,arguments)}function zn(e,t){return qn.apply(this,arguments)}function qn(){return(qn=n((function(e,t){return w(this,(function(n){switch(n.label){case 0:return t||e.swRegistration?[3,2]:[4,Un(e)];case 1:n.sent(),n.label=2;case 2:if(!t&&e.swRegistration)return[2];if(!f(t,ServiceWorkerRegistration))throw Sn.create("invalid-sw-registration");return e.swRegistration=t,[2]}}))}))).apply(this,arguments)}function $n(e,t){return Gn.apply(this,arguments)}function Gn(){return(Gn=n((function(e,t){return w(this,(function(n){return t?e.vapidKey=t:e.vapidKey||(e.vapidKey=tn),[2]}))}))).apply(this,arguments)}function Jn(e,t){return Yn.apply(this,arguments)}function Yn(){return(Yn=n((function(e,t){return w(this,(function(n){switch(n.label){case 0:if(!navigator)throw Sn.create("only-available-in-window");return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if("granted"!==Notification.permission)throw Sn.create("permission-blocked");return[4,$n(e,null==t?void 0:t.vapidKey)];case 3:return n.sent(),[4,zn(e,null==t?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,Pn(e)]}}))}))).apply(this,arguments)}function Qn(e,t,n){return Xn.apply(this,arguments)}function Xn(){return(Xn=n((function(e,t,n){var r;return w(this,(function(i){switch(i.label){case 0:return r=function(e){switch(e){case en.NOTIFICATION_CLICKED:return"notification_open";case en.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,e.firebaseDependencies.analyticsProvider.get()];case 1:return i.sent().logEvent(r,{message_id:n[nn],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))).apply(this,arguments)}function Zn(){return(Zn=n((function(e,t){var n,r;return w(this,(function(i){switch(i.label){case 0:return(n=t.data).isFirebaseMessaging?(e.onMessageHandler&&n.messageType===en.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Kn(n)):e.onMessageHandler.next(Kn(n))),r=n.data,"object"===(void 0===(a=r)?"undefined":g(a))&&a&&nn in a&&"1"===r["google.c.a.e"]?[4,Qn(e,n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}var a}))}))).apply(this,arguments)}var er="@firebase/messaging",tr="0.12.13",nr=function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return Jn(t,e)}}};function rr(e,t){return ir.apply(this,arguments)}function ir(){return(ir=n((function(e,t){return w(this,(function(n){return[2,Jn(e=x(e),t)]}))}))).apply(this,arguments)}Ce(new R("messaging",(function(e){var t=new Vn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return Zn.apply(this,arguments)}(t,e)})),t}),"PUBLIC")),Ce(new R("messaging-internal",nr,"PRIVATE")),Ne(er,tr),Ne(er,tr,"esm2017");var ar,or,sr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cr="FCM_MSG";function ur(e){var t,n=new Uint8Array(e);return btoa((t=String).fromCharCode.apply(t,v(n))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lr(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(ar||(ar={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(or||(or={}));var fr="fcm_token_details_db",pr="fcm_token_object_Store";function hr(e){return dr.apply(this,arguments)}function dr(){return dr=n((function(e){var t,r;return w(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes(fr))return[2,null];i.label=2;case 2:return r=null,[4,ce(fr,5,{upgrade:function(){var t=n((function(t,n,i,a){var o,s,c,u,l,f;return w(this,(function(i){switch(i.label){case 0:return n<2?[2]:t.objectStoreNames.contains(pr)?[4,(s=a.objectStore(pr)).index("fcmSenderId").get(e)]:[2];case 1:return c=i.sent(),[4,s.clear()];case 2:if(i.sent(),!c)return[2];if(2===n){if(!(u=c).auth||!u.p256dh||!u.endpoint)return[2];r={token:u.fcmToken,createTime:null!==(o=u.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:ur(u.vapidKey)}}}else 3===n?r={token:(l=c).fcmToken,createTime:l.createTime,subscriptionOptions:{auth:ur(l.auth),p256dh:ur(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:ur(l.vapidKey)}}:4===n&&(r={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ur(f.auth),p256dh:ur(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ur(f.vapidKey)}});return[2]}}))}));return function(e,n,r,i){return t.apply(this,arguments)}}()})];case 3:return i.sent().close(),[4,ue(fr)];case 4:return i.sent(),[4,ue("fcm_vapid_details_db")];case 5:return i.sent(),[4,ue("undefined")];case 6:return i.sent(),[2,vr(r)?r:null]}}))})),dr.apply(this,arguments)}function vr(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var gr,br="firebase-messaging-store",yr=null;function mr(){return yr||(yr=ce("firebase-messaging-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(br)}})),yr}function wr(e){return Sr.apply(this,arguments)}function Sr(){return(Sr=n((function(e){var t,n,r;return w(this,(function(i){switch(i.label){case 0:return t=Or(e),[4,mr()];case 1:return[4,i.sent().transaction(br).objectStore(br).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,hr(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,kr(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))).apply(this,arguments)}function kr(e,t){return Ir.apply(this,arguments)}function Ir(){return(Ir=n((function(e,t){var n,r,i;return w(this,(function(a){switch(a.label){case 0:return n=Or(e),[4,mr()];case 1:return r=a.sent(),[4,(i=r.transaction(br,"readwrite")).objectStore(br).put(t,n)];case 2:return a.sent(),[4,i.done];case 3:return a.sent(),[2,t]}}))}))).apply(this,arguments)}function _r(e){return Er.apply(this,arguments)}function Er(){return(Er=n((function(e){var t,n,r;return w(this,(function(i){switch(i.label){case 0:return t=Or(e),[4,mr()];case 1:return n=i.sent(),[4,(r=n.transaction(br,"readwrite")).objectStore(br).delete(t)];case 2:return i.sent(),[4,r.done];case 3:return i.sent(),[2]}}))}))).apply(this,arguments)}function Or(e){return e.appConfig.appId}var Cr=(c(gr={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),c(gr,"only-available-in-window","This method is available in a Window context."),c(gr,"only-available-in-sw","This method is available in a service worker context."),c(gr,"permission-default","The notification permission was not granted and dismissed instead."),c(gr,"permission-blocked","The notification permission was not granted and blocked instead."),c(gr,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),c(gr,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),c(gr,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),c(gr,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),c(gr,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),c(gr,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),c(gr,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),c(gr,"token-update-no-token","FCM returned no token when updating the user to push."),c(gr,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),c(gr,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),c(gr,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),c(gr,"invalid-vapid-key","The public VAPID key must be a string."),c(gr,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),gr),Tr=new N("messaging","Messaging",Cr);function Dr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=n((function(e,t){var n,r,i,a,o,s;return w(this,(function(c){switch(c.label){case 0:return[4,Lr(e)];case 1:n=c.sent(),r=Rr(t),i={method:"POST",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(Br(e.appConfig),i)];case 3:return[4,c.sent().json()];case 4:return a=c.sent(),[3,6];case 5:throw o=c.sent(),Tr.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()});case 6:if(a.error)throw s=a.error.message,Tr.create("token-subscribe-failed",{errorInfo:s});if(!a.token)throw Tr.create("token-subscribe-no-token");return[2,a.token]}}))}))).apply(this,arguments)}function jr(e,t){return Pr.apply(this,arguments)}function Pr(){return(Pr=n((function(e,t){var n,r,i,a,o,s;return w(this,(function(c){switch(c.label){case 0:return[4,Lr(e)];case 1:n=c.sent(),r=Rr(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch("".concat(Br(e.appConfig),"/").concat(t.token),i)];case 3:return[4,c.sent().json()];case 4:return a=c.sent(),[3,6];case 5:throw o=c.sent(),Tr.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()});case 6:if(a.error)throw s=a.error.message,Tr.create("token-update-failed",{errorInfo:s});if(!a.token)throw Tr.create("token-update-no-token");return[2,a.token]}}))}))).apply(this,arguments)}function Nr(e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=n((function(e,t){var n,r,i,a,o;return w(this,(function(s){switch(s.label){case 0:return[4,Lr(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch("".concat(Br(e.appConfig),"/").concat(t),r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw a=i.error.message,Tr.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw o=s.sent(),Tr.create("token-unsubscribe-failed",{errorInfo:null==o?void 0:o.toString()});case 6:return[2]}}))}))).apply(this,arguments)}function Br(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function Lr(e){return xr.apply(this,arguments)}function xr(){return(xr=n((function(e){var t,n;return w(this,(function(r){switch(r.label){case 0:return t=e.appConfig,[4,e.installations.getToken()];case 1:return n=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(n)})]}}))}))).apply(this,arguments)}function Rr(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==sr&&(a.web.applicationPubKey=i),a}function Fr(e){return Kr.apply(this,arguments)}function Kr(){return(Kr=n((function(e){var t,n,r,i;return w(this,(function(a){switch(a.label){case 0:return[4,$r(e.swRegistration,e.vapidKey)];case 1:return t=a.sent(),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ur(t.getKey("auth")),p256dh:ur(t.getKey("p256dh"))},[4,wr(e.firebaseDependencies)];case 2:return(r=a.sent())?[3,3]:[2,zr(e.firebaseDependencies,n)];case 3:if(o=r.subscriptionOptions,c=(s=n).vapidKey===o.vapidKey,u=s.endpoint===o.endpoint,l=s.auth===o.auth,f=s.p256dh===o.p256dh,c&&u&&l&&f)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,Nr(e.firebaseDependencies,r.token)];case 5:return a.sent(),[3,7];case 6:return i=a.sent(),console.warn(i),[3,7];case 7:return[2,zr(e.firebaseDependencies,n)];case 8:return Date.now()>=r.createTime+6048e5?[2,Ur(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n})]:[2,r.token];case 9:return[2]}var o,s,c,u,l,f}))}))).apply(this,arguments)}function Hr(e){return Vr.apply(this,arguments)}function Vr(){return(Vr=n((function(e){var t,n;return w(this,(function(r){switch(r.label){case 0:return[4,wr(e.firebaseDependencies)];case 1:return(t=r.sent())?[4,Nr(e.firebaseDependencies,t.token)]:[3,4];case 2:return r.sent(),[4,_r(e.firebaseDependencies)];case 3:r.sent(),r.label=4;case 4:return[4,e.swRegistration.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))).apply(this,arguments)}function Ur(e,t){return Wr.apply(this,arguments)}function Wr(){return(Wr=n((function(e,t){var n,r;return w(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,jr(e.firebaseDependencies,t)];case 1:return n=i.sent(),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()}),[4,kr(e.firebaseDependencies,r)];case 2:return i.sent(),[2,n];case 3:throw i.sent();case 4:return[2]}}))}))).apply(this,arguments)}function zr(e,t){return qr.apply(this,arguments)}function qr(){return(qr=n((function(e,t){var n,r;return w(this,(function(i){switch(i.label){case 0:return[4,Dr(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,kr(e,r)];case 2:return i.sent(),[2,r.token]}}))}))).apply(this,arguments)}function $r(e,t){return Gr.apply(this,arguments)}function Gr(){return(Gr=n((function(e,t){var n;return w(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lr(t)})]}}))}))).apply(this,arguments)}function Jr(e,t){return Yr.apply(this,arguments)}function Yr(){return(Yr=n((function(e,t){var n,r;return w(this,(function(i){switch(i.label){case 0:return r=[t],[4,e.firebaseDependencies.installations.getId()];case 1:return n=Qr.apply(void 0,r.concat([i.sent()])),function(e,t,n){var r={};r.event_time_ms=Math.floor(Date.now()).toString(),r.source_extension_json_proto3=JSON.stringify({messaging_client_event:t}),!n||(r.compliance_data=function(e){var t={privacy_context:{prequest:{origin_associated_product_id:e}}};return t}(n));e.logEvents.push(r)}(e,n,t.productId),[2]}}))}))).apply(this,arguments)}function Qr(e,t){var n,r,i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,e.notification?i.message_type=ar.DISPLAY_NOTIFICATION.toString():i.message_type=ar.DATA_MESSAGE.toString(),i.sdk_platform=3..toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=1..toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}function Xr(){return(Xr=n((function(e,t){var n,r,i;return w(this,(function(a){switch(a.label){case 0:return e.newSubscription?[3,2]:[4,Hr(t)];case 1:case 5:return a.sent(),[2];case 2:return[4,wr(t.firebaseDependencies)];case 3:return i=a.sent(),[4,Hr(t)];case 4:return a.sent(),t.vapidKey=null!==(r=null===(n=null==i?void 0:i.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==r?r:sr,[4,Fr(t)]}}))}))).apply(this,arguments)}function Zr(){return(Zr=n((function(e,t){var n,r,i;return w(this,(function(a){switch(a.label){case 0:return(n=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?t.deliveryMetricsExportedToBigQueryEnabled?[4,Jr(t,n)]:[3,2]:[2];case 1:a.sent(),a.label=2;case 2:return[4,ai()];case 3:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(r=a.sent())?[2,ii(r,n)]:n.notification?[4,oi(ti(n))]:[3,5];case 4:a.sent(),a.label=5;case 5:return t?t.onBackgroundMessageHandler?(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,r,i,a,o;if(t.fcmOptions||(null===(n=t.notification)||void 0===n?void 0:n.click_action)){e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);var c=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}}(t,e),t}(n),"function"!=typeof t.onBackgroundMessageHandler?[3,7]:[4,t.onBackgroundMessageHandler(i)]):[3,8]:[2];case 6:return a.sent(),[3,8];case 7:t.onBackgroundMessageHandler.next(i),a.label=8;case 8:return[2]}}))}))).apply(this,arguments)}function ei(){return(ei=n((function(e){var t,n,r,i,a,o,s;return w(this,(function(c){switch(c.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[cr])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return a=e.data,"object"===(void 0===a?"undefined":g(a))&&a&&"google.c.a.c_id"in a?self.location.origin:null;var a}(r),i?(a=new URL(i,self.location.href),o=new URL(self.location.origin),a.host!==o.host?[2]:[4,ni(a)]):[2]):[2];case 1:return(s=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=c.sent(),[4,(u=3e3,new Promise((function(e){setTimeout(e,u)})))];case 3:return c.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=c.sent(),c.label=6;case 6:return s?(r.messageType=or.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}var u}))}))).apply(this,arguments)}function ti(e){var t=Object.assign({},e.notification);return t.data=c({},cr,e),t}function ni(e){return ri.apply(this,arguments)}function ri(){return(ri=n((function(e){var t,n,r,i,a,o,s,c;return w(this,(function(u){switch(u.label){case 0:return[4,ai()];case 1:t=u.sent(),n=!0,r=!1,i=void 0;try{for(a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)if(s=o.value,c=new URL(s.url,self.location.href),e.host===c.host)return[2,s]}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return[2,null]}}))}))).apply(this,arguments)}function ii(e,t){t.isFirebaseMessaging=!0,t.messageType=or.PUSH_RECEIVED;var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){a.value.postMessage(t)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}function ai(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function oi(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function si(e){return Tr.create("missing-app-config-values",{valueName:e})}var ci=function(){function e(t,n,r){i(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var a=function(e){if(!e||!e.options)throw si("App Configuration Object");if(!e.name)throw si("App Name");var t=e.options,n=!0,r=!1,i=void 0;try{for(var a,o=["projectId","apiKey","appId","messagingSenderId"][Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(!t[s])throw si(s)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:a,installations:n,analyticsProvider:r}}return s(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function ui(){return(ui=n((function(){var e;return w(this,(function(t){switch(t.label){case 0:return(e=A())?[4,j()]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return[2,e&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")]}}))}))).apply(this,arguments)}function li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=Ie.get(e);if(!t&&e===Se&&T())return Pe();if(!t)throw Ae.create("no-app",{appName:e});return t}();return function(){return ui.apply(this,arguments)}().then((function(e){if(!e)throw Tr.create("unsupported-browser")}),(function(e){throw Tr.create("indexed-db-unsupported")})),Te(x(e),"messaging-sw").getImmediate()}Ce(new R("messaging-sw",(function(e){var t=new ci(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return Zr.apply(this,arguments)}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){return Xr.apply(this,arguments)}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(function(e){return ei.apply(this,arguments)}(e))})),t}),"PUBLIC"));var fi,pi={apiKey:"AIzaSyDnPL-MBm7OhPyulUFqqqbqQsDHv2G_vC8",authDomain:"biblebox-81f3d.firebaseapp.com",projectId:"biblebox-81f3d",storageBucket:"biblebox-81f3d.appspot.com",messagingSenderId:"560289941938",appId:"1:560289941938:web:5617c6e143a444ec457cab",measurementId:"G-CJP2NRS7MT"},hi=Pe(pi);function di(){return(di=n((function(){return w(this,(function(e){return console.log("registred"),gi(),[2]}))}))).apply(this,arguments)}self.__WB_DISABLE_DEV_LOGS=!0,self.addEventListener("install",n((function(){return w(this,(function(e){return console.log("service worker install"),self.skipWaiting(),[2]}))}))),self.addEventListener("activate",n((function(){return w(this,(function(e){return console.log("service worker activate"),gi(),[2]}))}))),self.addEventListener("message",(function(e){var t;if(e){var n;if("event"===(null===(t=e.data)||void 0===t?void 0:t.type))switch(null===(n=e.data)||void 0===n?void 0:n.event){case"sw:registered":return function(){return di.apply(this,arguments)}();case"push:subscribed":return yi()}console.log(e.data)}})),self.addEventListener("push",(function(e){if(console.log("sw:push",e),e&&Notification&&"granted"===Notification.permission){var t,n=null!==(t=e.data.json().data)&&void 0!==t?t:{type:"NONE"};if("NONE"!==n.type&&n.payload){var r=JSON.parse(n.payload);if(console.log("sw:push","payload received",n.type,r),"DISPLAY_NOTIFICATION"===n.type)console.log("will display notification"),e.waitUntil(self.registration.showNotification(r.notification.title,{body:r.notification.body,icon:r.notification.icon,data:r.action}))}}})),self.addEventListener("notificationclick",(function(e){if(e){var t=e.notification.data;console.log("sw:notificationclick",t),e.notification.close(),e.waitUntil(self.clients.openWindow(t.url))}}));var vi=!1;function gi(){return bi.apply(this,arguments)}function bi(){return(bi=n((function(){return w(this,(function(e){return vi||(vi=!0,yi()),[2]}))}))).apply(this,arguments)}function yi(){return mi.apply(this,arguments)}function mi(){return(mi=n((function(){var e,t,n,r,i;return w(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),fi=li(hi),Notification&&"granted"===Notification.permission?[4,rr(fi,{serviceWorkerRegistration:self.registration})]:[2];case 1:return e=a.sent(),[4,fetch("https://us-east1-".concat(pi.projectId,".cloudfunctions.net/registerToken"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})];case 2:return t=a.sent(),n=console.log,r=[t.ok,t.status,t.statusText],[4,t.json()];case 3:return n.apply(console,r.concat([a.sent()])),[3,5];case 4:return i=a.sent(),console.log("registerToken","error",i),[3,5];case 5:return[2]}}))}))).apply(this,arguments)}