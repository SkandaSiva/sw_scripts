(()=>{"use strict";function n(n,t,e,i,o,r,a){try{var s=n[r](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(i,o)}function t(t){return function(){var e=this,i=arguments;return new Promise((function(o,r){var a=t.apply(e,i);function s(t){n(a,o,r,s,c,"next",t)}function c(t){n(a,o,r,s,c,"throw",t)}s(void 0)}))}}function e(n){return i.apply(this,arguments)}function i(){return(i=t((function*(n){var t=yield caches.open("v1");yield t.addAll(n)}))).apply(this,arguments)}function o(){return(o=t((function*(n,t){var e=yield caches.open("v1");yield e.put(n,t)}))).apply(this,arguments)}function r(){return a.apply(this,arguments)}function a(){return(a=t((function*(){try{var n,t=yield(yield fetch("/manifest.json")).json();yield e((null===(n=t.icons)||void 0===n?void 0:n.map((n=>n.src)))||[])}catch(n){console.error(n)}}))).apply(this,arguments)}self.addEventListener("install",(n=>{n.waitUntil(Promise.all([e(["/"]),r()]))}));var s=["/client.bundle.css","/client.bundle.js","/manifest.json","/fonts","/images"];function c(){return c=t((function*(n){var t=new URL(n.url).pathname;try{var e=yield fetch(n);return(s.some((t=>n.url.includes(t)))||"/"===t)&&function(n,t){o.apply(this,arguments)}(n,e.clone()),e}catch(t){var i=yield caches.match(n);if(i)return i}return"document"!==n.destination||t.startsWith("/api")?new Response("Network error happened",{status:408,headers:{"Content-Type":"text/plain"}}):new Response("Found",{status:302,headers:{Location:"/"}})})),c.apply(this,arguments)}self.addEventListener("fetch",(n=>{n.respondWith(function(n){return c.apply(this,arguments)}(n.request))})),self.addEventListener("push",(n=>{var t,e=null===(t=n.data)||void 0===t?void 0:t.json();if(e){var i=self.registration.showNotification(e.text,{body:e.body,icon:e.icon,data:e}).catch(console.error);n.waitUntil(i)}})),self.addEventListener("notificationclick",(n=>{n.notification.close();var t=n.notification.data;t.link&&self.clients.openWindow(t.link),n.waitUntil(Promise.resolve())}))})();