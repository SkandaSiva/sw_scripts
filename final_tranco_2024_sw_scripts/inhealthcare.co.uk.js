"use strict";var version="v2::",offlineFundamentals=[""];self.addEventListener("install",function(e){e.waitUntil(caches.open(version+"fundamentals").then(function(e){return e.addAll(offlineFundamentals)}).then(function(){}))}),self.addEventListener("fetch",function(a){"GET"===a.request.method&&a.respondWith(caches.match(a.request).then(function(e){var n=fetch(a.request).then(function(e){var n=e.clone();return caches.open(version+"pages").then(function(e){e.put(a.request,n)}).then(function(){}),e},t).catch(t);return e||n;function t(){return new Response("<h1>Service Unavailable</h1>",{status:503,statusText:"Service Unavailable",headers:new Headers({"Content-Type":"text/html"})})}}))}),self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return!e.startsWith(version)}).map(function(e){return caches.delete(e)}))}).then(function(){}))});