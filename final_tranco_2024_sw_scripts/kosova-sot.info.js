self.addEventListener('notificationclick',function(event){console.log(event);console.log('On notification click: ',event.notification.tag);event.notification.close();event.waitUntil(clients.matchAll({type:"window"}).then(function(clientList){for(var i=0;i<clientList.length;i++){var client=clientList[i];if(client.url=='/'&&'focus'in client)
return client.focus();}
if(clients.openWindow){return clients.openWindow('https://www.kosova-sot.info'+event.notification.tag);}}));});importScripts('https://www.gstatic.com/firebasejs/6.0.2/firebase-app.js');importScripts('https://www.gstatic.com/firebasejs/6.0.2/firebase-messaging.js');firebase.initializeApp({'messagingSenderId':'83763916334'});const messaging=firebase.messaging();messaging.setBackgroundMessageHandler(function(payload){console.log('[firebase-messaging-sw.js] Received background message ',payload);var notificationTitle=payload.notification.title;var notificationOptions={body:payload.notification.body,icon:'/public/kosova-sot/images/logo-fb.png',vibrate:[0,300,100,50,100,50,100,50,100,50,100,50,100,50,150,150,150,450,100,50,100,50,150,150,150,450,100,50,100,50,150,150,150,450,150,150],badge:'/public/kosova-sot/repository/android-chrome-192x192.png',data:{clickUrl:payload.notification.click_action},};return self.registration.showNotification(notificationTitle,notificationOptions);});