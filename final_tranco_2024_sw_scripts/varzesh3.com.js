"use strict";self.addEventListener("install",(function(t){self.skipWaiting()})),self.addEventListener("activate",(function(t){t.waitUntil(clients.claim())})),self.addEventListener("push",(function(t){if(t.data){const{title:i,lang:n="en",body:e,tag:a,timestamp:o,requireInteraction:l,actions:s,image:c,icon:d,badge:r,data:f}=t.data.json(),u=self.registration.showNotification(i,{lang:n,body:e,requireInteraction:l,tag:a||void 0,timestamp:o?Date.parse(o):void 0,actions:s||void 0,image:c||void 0,badge:r||void 0,icon:d||void 0,data:f||{}});t.waitUntil(u)}})),self.addEventListener("notificationclick",(function(t){const i=t.notification.data||{},n=i.url||i.Url||"/";t.notification.close(),t.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(t){if(t.length>0){let i=t[0];for(let n=0;n<t.length;n++)t[n].focused&&(i=t[n]);if(n.toLowerCase()==i.url)return i.focus()}return clients.openWindow(n)})))}));