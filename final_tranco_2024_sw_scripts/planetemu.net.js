self.addEventListener('install',function(event){event.waitUntil(caches.open('v1').then(function(cache){return cache.addAll(['/favicon.ico','/interface/html5shiv.js','/interface/jquery-1.9.1.min.js','/interface/jquery-migrate-1.2.1.min.js','/interface/script.js','/interface/css/interface.css','/interface/css/mobile.css','/interface/offline.html']);}));});self.addEventListener('fetch',function(event){let url=new URL(event.request.url);if(!event.request.url.startsWith(self.location.origin)){return fetch(event.request);}
if(url.pathname.startsWith('/interface')){event.respondWith(caches.match(event.request).then(function(resp){return resp||fetch(event.request).then(function(response){let responseClone=response.clone();caches.open('v1').then(function(cache){cache.put(event.request,responseClone);});return response;});}).catch(function(){return fetch(event.request);}));}
else{event.respondWith(fetch(event.request).then(function(response){return response;}).catch(function(){return caches.match('/interface/offline.html').then(function(response){return response;}).catch(function(){console.log("No cache of offline page.");});}));}});