const config={cacheName:"v34",preCachingItems:["offline.html"],offlinePage:"offline.html"};self.addEventListener("install",e=>{e.waitUntil(caches.open(config.cacheName).then(e=>e.addAll(config.preCachingItems)))}),self.addEventListener("activate",e=>{let t=[config.cacheName];e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if(-1===t.indexOf(e))return caches.delete(e)}))))}),self.addEventListener("fetch",e=>{const t=e.request,c=t.url,n=self.location.origin;let a=!1;if(t.headers&&null!==t.headers.get("Accept")&&t.headers.get("Accept").includes("text/html")&&(a=!0),"GET"!==t.method||0===c.indexOf("http://")||!c.startsWith(n)||!a)return!1;e.respondWith(fetch(t).catch(()=>caches.match(config.offlinePage)))});