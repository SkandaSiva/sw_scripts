"use strict";importScripts("https://s3-eu-west-1.amazonaws.com/static.wizrocket.com/js/sw_webpush.js");let version="0.0.3",CACHE_NAME="fancode-shop-".concat(version),OFFLINE_URL="/fc-web-shop/offline.html",MANIFEST_URL="/fc-web-shop/manifest.json",DEBUG=!1,urlsToCache=[MANIFEST_URL,OFFLINE_URL];self.addEventListener("install",(function(e){e.waitUntil(caches.open(CACHE_NAME).then((function(e){return e.addAll(urlsToCache).then((function(){return self.skipWaiting()}))})))})),self.addEventListener("activate",(function(e){e.waitUntil(self.clients.claim())})),self.addEventListener("fetch",(function(e){let n=e.request;if("GET"!==n.method)return void(DEBUG&&console.log("[SW] Ignore non GET request ".concat(n.method)));let t=new URL(n.url);if(t.origin===location.origin)if("GET"!==n.method||!t.pathname.match(/\/graphql/)&&!t.pathname.match(/\/shopgql/)){var o=caches.match(n).then((function(e){return e?(DEBUG&&console.log("[SW] fetch URL ".concat(t.href," from cache")),e):fetch(n).catch((function(e){return console.log("Fetch failed; returning offline page instead.",e),caches.match(OFFLINE_URL).then((function(e){return e}))}))}));e.respondWith(Promise.resolve(o))}else DEBUG&&console.log("[SW] Ignore graphql calls ".concat(t.pathname));else DEBUG&&console.log("[SW] Ignore difference origin ".concat(t.origin))}));