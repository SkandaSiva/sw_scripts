var client;(()=>{var e={4095:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ServiceWorkerActionName:()=>n,ServiceWorkerActionTypes:()=>o});var n="cw-service-worker-message",o={SELECT_TAPP:0}}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,i),a.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{var e=i(4095),t=e.ServiceWorkerActionName,n=e.ServiceWorkerActionTypes,o={preferOnline:!1},a=new URL(location).searchParams,r=a.get("locationId");a.has("sw")&&importScripts(a.get("sw")),self.addEventListener("install",(function(e){e.waitUntil(self.skipWaiting())})),self.addEventListener("message",(function(e){var t=e.data,i=t.action,n=t.data;"preferOnline"===i&&(o.preferOnline=n)})),self.addEventListener("push",(function(e){if(e.data){var t=e.data.json();t.ln&&e.waitUntil(self.registration.showNotification(t.ln,{body:t.alert,data:{notificationData:t},icon:"https://sub60.tobit.com/l/".concat(r,"?size=45")}))}})),self.addEventListener("notificationclick",(function(e){var i=e.notification.data.notificationData;if(i){var o,a,r=i.tp1.t,c=location.origin;i.tp1.u&&(a=new URL(i.tp1.u).searchParams),e.waitUntil(clients.matchAll({includeUncontrolled:!0}).then((function(e){for(var s=0,l=e.length;s<l;++s){var p=e[s];if(p.url.indexOf(c)>-1){if((o=p).focus(),i.tp1.u&&(!a.has("openWithSelectTapp")||!r))return void o.openWindow(i.tp1.u);var d;if(r)o.postMessage({msg:t,action:n.SELECT_TAPP,value:{id:r,params:null===(d=a)||void 0===d?void 0:d.toString()}});break}}o||clients.openWindow(i.tp1.u||c+(r?"/tapp/index/".concat(r):"")).then((function(e){o=e,r&&!i.tp1.u&&o.postMessage({msg:t,action:n.SELECT_TAPP,value:{id:r}})}))}))),e.notification.close()}}))})(),client={}})();