let c,f;function k(){return caches.open("NB7").then(function(b){c=b;f=!0;console.log("Worker: open_cache NB7")}).catch(function(){f=!1;console.log("Worker: error_opening_cache")})}
const l={"cifra.b-cdn.net":[[/^\/(?:a|playlist|user)\//,"https://bananaimg.b-cdn.net/public/img/banana.png","no-cache"],[/^\/(?:chordapi|relatedapi|searchapi|js|dist|public)\//],[/\.(?:jpg|png|jpeg|woff2|ttf|js|css|gif|ico|html|txt|json)$/i]],"bananaimg.b-cdn.net":[[/^\/(?:a|playlist|user)\//,"https://bananaimg.b-cdn.net/public/img/banana.png","no-cache"],[/^\/(?:searchapi)\//]],"bananacifras.com":[[/^\/(?:(?:js|dist|public|\.well-known)\/|favicon\.ico$|manifest\.webmanifest$)/],[/^\/(?:simplificada|cifra|cavaquinho|ukulele|teclado)(\/|$)/,
"https://bananaimg.b-cdn.net/public/error/offline.html"],[/^\/(?:$|account\/|config\/|playlist\/)/,"https://bananaimg.b-cdn.net/public/error/offline.html"],[/^\/(?:chordfinder|history|menu|premium|terms|tuner|playlists|account|config|chat)$/,"https://bananaimg.b-cdn.net/public/error/offline.html"]],"fonts.gstatic.com":[[/^\/s\//]],"fonts.googleapis.com":[[/^\/css2$/]]};
function p(b){const d=b.request;if("GET"===d.method){var g=new URL(d.url),e=g.hostname.replace(/^[a-z]{2,3}\./,"");if(e=l[e]||!1){g=g.pathname;let m,h,n;for(let a=0;a<e.length;a++)if(e[a][0].test(g)){m=!0;h=e[a][1]||!1;n="no-cache"!==e[a][2];break}m&&(f||b.waitUntil(k()),f&&b.respondWith(fetch(d).then(function(a){n&&a&&(200===a.status||"opaque"===a.type?c.put(d.url,a.clone()):console.log(d.url,a));return a}).catch(function(){return c.match(d.url).then(function(a){if(a)return a;if(h)return c.match(h)})})))}}}
self.addEventListener("install",function(b){self.skipWaiting();console.log("Worker: install_start");f||b.waitUntil(k());f&&c.addAll(["https://bananaimg.b-cdn.net/public/error/offline.html","https://bananaimg.b-cdn.net/public/img/banana.png"]).then(function(){console.log("Worker: install_finish")}).catch(function(){console.log("Worker: offline_cache_error")})});self.addEventListener("activate",function(b){b.waitUntil(self.clients.claim())});self.removeEventListener("fetch",p);
self.addEventListener("fetch",p);
