(function(){self.getServiceWorkerGlobalClientConfigData=function(){try{return JSON.parse(decodeURIComponent("%7B%22customerProperties%22:%7B%22currencyOfPreference%22:%22USD%22,%22languageOfPreference%22:%22en-US%22,%22sessionId%22:%22143-2811600-9759648%22%7D,%22deviceProperties%22:%7B%22appType%22:%22web%22,%22deviceType%22:%22desktop%22%7D,%22marketplaceProperties%22:%7B%22countryCode%22:%22us%22,%22marketplaceName%22:%22Amazon.com%22,%22obfuscatedMarketplaceId%22:%22ATVPDKIKX0DER%22%7D,%22namespaces%22:%7B%22in-latency%22:%7B%22lightsaber-web%22:%7B%22data%22:%7B%22clientEnabled%22:true%7D%7D,%22lightsaber-mshop%22:%7B%22data%22:%7B%22clientEnabled%22:true%7D%7D%7D,%22lightsaber-rule-levers%22:%7B%22bazaar-gateway-mshop-web%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22buyagain-mshop-android%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22cart-mobile-web%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22browsepage-mobile-web%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22search-mshop-android%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22detail-mobile-web%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22detail-mshop-android%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22homepage-mobile-web%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22checkout-mshop-android%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22browsepage-mshop-android%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22cart-mshop-android%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22buyagain-mobile-web%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22amazonpayhome-mshop-android%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22checkout-mobile-web%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22homepage-mshop-android%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22bazaar-gateway-mshop-android%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22amazonpayhome-mobile-web%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D,%22search-mobile-web%22:%7B%22data%22:%7B%22ruleEnabled%22:true%7D%7D%7D%7D%7D"))}catch(e){}}})();
;;;
var AUI_JS_DEBUG=!1;
(function(){var n=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])};return a(b,d)};return function(b,d){function e(){this.constructor=b}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");a(b,d);b.prototype=null===d?Object.create(d):(e.prototype=d.prototype,
new e)}}(),k=function(a){function b(b,e,c,f){e=a.call(this,e||b)||this;e.name="RuntimeConfig".concat(b,"Error");e.attribution=c||"AmazonServiceWorkerRuntimeConfigClientLib";e.logLevel=f;return e}n(b,a);return b}(Error),l=[],f,m=function(a){self.$TM&&"function"===typeof self.$TM.error?self.$TM.error(a):(l.push(a),f||(f=setInterval(function(){self.$TM&&"function"===typeof self.$TM.error&&(l.forEach(function(a){self.$TM.error(a)}),clearInterval(f),f=void 0)},50)))},c=function(a,b){for(var d=0;d<b.length;d++){var e=
b[d];if("object"===typeof a&&null!==a&&void 0!==a[e])a=a[e];else return}return a},p=function(a){a=c(a,["namespaces"]);if(!a||"object"!==typeof a)return!1;for(var b in a){var d=c(a,[b]);if(!d||"object"!==typeof d)return!1;for(var e in d){var h=c(d,[e]);if(!h||"object"!==typeof h)return!1}}return!0},q={android:/^\d+(\.\d+){3}$/,ios:/^\d+(\.\d+){2}$/},g=function(a,b){return a&&"string"===typeof a&&b&&"string"===typeof b&&(b=q[b.toLowerCase()])&&b.test(a)?!0:!1},r=function(a,b){if("mshop"===b){a=c(a,
["mshopProperties"]);if(!a||"object"!==typeof a)return!1;b=c(a,["appStage"]);if(!b||"string"!==typeof b)return!1;b=c(a,["appVersion"]);if(!b||"string"!==typeof b)return!1;a=c(a,["osName"]);if(!a||"string"!==typeof a||!g(b,a))return!1}return!0},t=function(a){a=c(a,["marketplaceProperties"]);if(!a||"object"!==typeof a)return!1;var b=c(a,["obfuscatedMarketplaceId"]);if(!b||"string"!==typeof b)return!1;b=c(a,["marketplaceName"]);if(!b||"string"!==typeof b)return!1;a=c(a,["countryCode"]);return!!a&&"string"===
typeof a},u=function(a){a=c(a,["customerProperties"]);if(!a||"object"!==typeof a)return!1;var b=c(a,["sessionId"]);if(!b||"string"!==typeof b)return!1;b=c(a,["languageOfPreference"]);if(!b||"string"!==typeof b)return!1;b=c(a,["currencyOfPreference"]);if(!b||"string"!==typeof b)return!1;b=c(a,["directedCustomerId"]);a=c(a,["directedCustomerIdVersion"]);return!!b&&"string"===typeof b&&!!a&&"string"===typeof a||!b&&!a},v=function(){function a(a){this._mShopPropertiesData=a}a.prototype.getAppStage=function(){return this._mShopPropertiesData.appStage};
a.prototype.getAppVersion=function(){return this._mShopPropertiesData.appVersion};a.prototype.getOsName=function(){return this._mShopPropertiesData.osName};a.prototype.compareVersion=function(a){var b=this.getAppVersion(),e=this.getOsName();a:{if(!g(b,e)||!g(a,e))throw b=new k("InvalidAppVersionComparison","Error: version [".concat(b,"] or [").concat(a,"] for OS [").concat(e,"] is invalid")),m(b),b;b=b.split(".").map(Number).slice(0,3);a=a.split(".").map(Number).slice(0,3);for(e=0;3>e;e++){var c=
b[e]-a[e];if(0!==c){b=c;break a}}b=0}return b};return a}(),w=function(){function a(a){this._devicePropertiesData=a;this._mShopProperties=this._createMShopProperties()}a.prototype.getAppType=function(){return this._devicePropertiesData.appType};a.prototype.getDeviceType=function(){return this._devicePropertiesData.deviceType};a.prototype.getMShopProperties=function(){return this._mShopProperties};a.prototype._createMShopProperties=function(){if("mshop"===this.getAppType()){var a=this._devicePropertiesData.mshopProperties;
return a?new v(a):void 0}};return a}(),x=function(){function a(a){this.featurePropertiesConfig=a}a.prototype.getData=function(){return this.featurePropertiesConfig.data};return a}(),y=function(){function a(a){this._marketplacePropertiesData=a}a.prototype.getCountryCode=function(){return this._marketplacePropertiesData.countryCode};a.prototype.getMarketplaceId=function(){return this._marketplacePropertiesData.obfuscatedMarketplaceId};a.prototype.getMarketplaceName=function(){return this._marketplacePropertiesData.marketplaceName};
return a}(),z=function(){function a(a){this._customerPropertiesData=a}a.prototype.getSessionId=function(){return this._customerPropertiesData.sessionId};a.prototype.getLanguageOfPreference=function(){return this._customerPropertiesData.languageOfPreference};a.prototype.getCurrencyOfPreference=function(){return this._customerPropertiesData.currencyOfPreference};a.prototype.getDirectedCustomerId=function(){return this._customerPropertiesData.directedCustomerId};a.prototype.getDirectedCustomerIdVersion=
function(){return this._customerPropertiesData.directedCustomerIdVersion};return a}(),A=function(){function a(a){this.deviceProperties=new w(a.deviceProperties);this.marketplaceProperties=new y(a.marketplaceProperties);this.customerProperties=new z(a.customerProperties);this.namespacesData=a.namespaces}a.prototype.getDeviceProperties=function(){return this.deviceProperties};a.prototype.getMarketplaceProperties=function(){return this.marketplaceProperties};a.prototype.getCustomerProperties=function(){return this.customerProperties};
a.prototype.getFeatureProperties=function(a,d){var b,c;return(a=null===(c=null===(b=this.namespacesData)||void 0===b?void 0:b[a])||void 0===c?void 0:c[d])?new x(a):void 0};return a}();self.$RuntimeConfig=new A(function(){if(self.getServiceWorkerGlobalClientConfigData&&"function"===typeof self.getServiceWorkerGlobalClientConfigData){var a=self.getServiceWorkerGlobalClientConfigData(),b;if(b=!!a)if((b=c(a,["deviceProperties"]))&&"object"===typeof b){var d=c(b,["appType"]);if(d&&"string"===typeof d){var e=
c(b,["deviceType"]);b=e&&"string"===typeof e?r(b,d):!1}else b=!1}else b=!1;if(b&&t(a)&&u(a)&&p(a))return a}a=new k("InvalidConfigDataReceived","Missing runtime config data");m(a);throw a;}())})();var AUI_JS_DEBUG=!1;(function(){var c=[],f=0,d=function(a){return function(){var b=f++;c.push([a,[].slice.call(arguments,0),b,{time:Date.now()}]);return d(b)}},e=function(a,b){a=d(a);b&&(a=a("instance",b));return a};e._s=c;this.csa=e})();var AUI_JS_DEBUG=!1;
(function(){var a=this&&this.__assign||function(){a=Object.assign||function(e){for(var b,c=1,a=arguments.length;c<a;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d])}return e};return a.apply(this,arguments)},g=a(a({},{Application:"RetailServiceWorker"}),{"Events.SushiEndpoint":"https://unagi.amazon.com/1/events/com.amazon.csm.csa.prod"}),f=this&&this.__assign||function(){f=Object.assign||function(e){for(var b,c=1,a=arguments.length;c<a;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,
d)&&(e[d]=b[d])}return e};return f.apply(this,arguments)};(function(){if(!g)throw Error("Could not initialize CSA config");var a=self.$RuntimeConfig.getMarketplaceProperties().getMarketplaceId();csa("Config",f(f({},g),{ObfuscatedMarketplaceId:a}))})()})();var AUI_JS_DEBUG=!1;
(function(){var F=self;(function(a){function b(a,e){return q(a,e)}function c(a,e){var g=d[a]||{};t(g,e);d[a]=g;x++;f(w,0)}function h(a,e,d){var g=!0;e=k(e);d&&d.buffered&&(g=(y[a]||[]).every(function(a){return!1!==e(a)}));return g?(A[a]||(A[a]=[]),A[a].push(e),function(){var d=A[a];d&&d.splice(d.indexOf(e),1)}):E}function l(a,e){e=k(e);return a in G?(e(G[a]),E):h(a,function(a){e(a);return!1})}function r(a,e){q("Errors")("logError",a);if(v.DEBUG)throw e||a;}function m(){return Math.abs(4294967295*Math.random()|
0).toString(36)}function k(a,e){return function(){try{return a.apply(this,arguments)}catch(C){r(C.message||C,C)}}}function f(e,d){return a.setTimeout(k(e),d)}function w(){for(var a=0;a<n.length;){var b=n[a],f=b[0]in d;if(!f&&!z){g=n.length;return}f?(g=a,n.splice(a,1),u(b)):a++}e=x}function u(a){var e=d[a[0]],g=a[1],b=g[0];if(!e||!e[b])return r("Undefined function: "+e+"/"+b);D=a[3];d[a[2]]=e[b].apply(e,g.slice(1))||{};D=0}function p(){z=1;w()}function t(a,e){B(e).forEach(function(d){a[d]=e[d]})}var q=
a.csa,v={},d={},n=a.csa._s,g=0,x=0,e=-1,D,z,A={},G={},y={},B=Object.keys,E=function(){};l("$beforeunload",p);c("Config",{instance:function(a){t(v,a)}});q.plugin=k(function(a){a(b)});b.config=v;b.register=c;b.on=h;b.once=l;b.blank=E;b.emit=function(a,e,d){for(var g=A[a]||[],b=0;b<g.length;)!1===g[b](e)?g.splice(b,1):b++;G[a]=e||{};d&&d.buffered&&(y[a]||(y[a]=[]),100<=y[a].length&&y[a].shift(),y[a].push(e||{}))};b.UUID=function(){return[m(),m(),m(),m()].join("-")};b.time=function(a){var e=D?new Date(D.time):
new Date;return"ISO"===a?e.toISOString():e.getTime()};b.error=r;b.warn=function(a,e){q("Errors")("logWarn",a);if(v.DEBUG)throw e||a;};b.exec=k;b.timeout=f;b.interval=function(e,d){return a.setInterval(k(e),d)};b.global=a;a.csa._s.push=function(a){a[0]in d&&(!n.length||z)?(u(a),n.length&&e!==x&&w()):n.splice(g++,0,a)};w();f(function(){f(p,v.SkipMissingPluginsTimeout||5E3)},1)})("undefined"!==typeof F?F:global);csa.plugin(function(a){var b=a.exec,c=a.global,h=a.on;a.raf=function(a){if(c.requestAnimationFrame)return c.requestAnimationFrame(b(a))};
a.on=function(b,c,m,k){if(b&&"function"===typeof b.addEventListener){var f=a.exec(m);b.addEventListener(c,f,k);return function(){b.removeEventListener(c,f,k)}}return"string"===typeof b?h(b,c,m,k):a.blank}});csa.plugin(function(a){function b(b,f){try{var c=a.global[b];r[f]=!!c;c=c||{}}catch(u){c={},r[f]=!1}return c}function c(){h||(h=b("localStorage","local"));l||(l=b("sessionStorage","session"))}var h,l,r={},m=a.exec;a.store=m(function(a,b,m){c();m=m&&m.session?l:h;if(!a)return Object.keys(m);if(!b)return m[a];
m[a]=b});a.storageSupport=m(function(){c();return r});a.deleteStored=m(function(a,b){c();b=b&&b.session?l:h;if("function"===typeof a)for(var f in b)b.hasOwnProperty(f)&&a(f,b[f])&&delete b[f];else delete b[a]})});csa.plugin(function(a){a.types={ovl:function(a){var b=[];if(a)for(var h in a)a.hasOwnProperty(h)&&b.push(a[h]);return b}}});csa.plugin(function(a){function b(b){return function(c){a("Metrics",{producerId:"csa",dimensions:{message:c}})("recordMetric",b,1)}}function c(b){function c(c){k=a.UUID();
f={messageId:k,schemaId:b.schemaId||"\x3cns\x3e.Error.6",errorMessage:c.m||null,attribution:c.attribution||null,logLevel:"FATAL",url:null,file:null,line:null,column:null,stack:c.s||[],context:c.cinfo||{},metadata:{}};c.logLevel&&(f.logLevel=""+c.logLevel);u.forEach(function(a){c[a]&&(f.metadata[a]=c[a])});"fcsmln"in c&&(f.metadata.fcsmln=c.fcsmln+"");if("INFO"===c.logLevel)return f;Object.keys(p).forEach(function(a){if("number"===typeof c[p[a]]||"string"===typeof c[p[a]])f[a]=""+c[p[a]]});return f}
var k,f,r=a("Events",{producerId:b.producerId,lob:h.lob||"0"}),u=["name","type","csm","adb"],p={url:"pageURL",file:"f",line:"l",column:"c"};this.log=function(a){var f;if(!(f=l))a:{if(a)for(var h in a){f=!1;break a}f=!0}f||(f=b.logOptions||{ent:{page:["pageType","subPageType","requestId"]}},r("log",c(a),f))}}var h=a.config,l=h["KillSwitch.Errors"];a.register("Errors",{instance:function(a){return new c(a||{})},logError:b("jsError"),logWarn:b("jsWarn")})});csa.plugin(function(a){function b(b,f,g){v(f,
function(d){var e="all"===g||(g||{})[d];d in b||(b[d]={version:1,id:f[d].id||a.UUID()});c(b[d],f[d],e)})}function c(b,c,g){v(c,function(d){var e="string"!==typeof c[d]&&"version"!==d?a.error("Attribute is not of type string: "+d):!0===g||1===g?!0:"id"===d||-1!==(g||[]).indexOf(d);e&&(b[d]=c[d])})}function h(a,b,g){v(b,function(b){b=a[b];if(b.schemaId){var e={},d={};e.id=b.id;e.producerId=b.producerId||g.producerId;e.schemaId=b.schemaId;e.version=b.version++;e.attributes=d;l(e,g);c(d,b,1);r(d);t("log",
e)}})}function l(b,c){var d=b.timestamp;"number"===typeof d&&(d=(new Date(d)).toISOString());d=d||a.time("ISO");b.timestamp=d;b.messageId=b.messageId||a.UUID();b.application=u;b.obfuscatedMarketplaceId=k.ObfuscatedMarketplaceId||"UNKNOWN";b.schemaId=b.schemaId.replace("\x3cns\x3e",w);c&&c.lob&&(b.lob=c.lob)}function r(a){delete a.version;delete a.schemaId;delete a.producerId}function m(d){var c={};this.log=function(g,f){var e={},h=(f||{}).ent;if(!g)return a.error("The event cannot be undefined");
if("string"!==typeof g.schemaId)return a.error("A valid schema id is required for the event");l(g,d);b(e,q,h);b(e,c,h);b(e,g.entities||{},h);v(e,function(a){r(e[a])});g.producerId=d.producerId;g.entities=e;f&&f.lob&&(g.lob=f.lob);t("log",g,f)};this.setEntity=function(a){p&&delete a.session;b(c,a,"all");h(c,a,d)}}var k=a.config,f=(a.global.location||{}).host,w=k["Events.Namespace"]||"csa_other",u=k.Application||"Other"+(f?":"+f:""),p=k["Transport.AnonymizeRequests"]||!1,t=a("Transport"),q={},v=function(a,
b){Object.keys(a).forEach(b)};k["KillSwitch.Events"]||a.register("Events",{setEntity:function(d){p&&delete d.session;a.emit("$entities.set",d,{buffered:1});b(q,d,"all");h(q,d,{producerId:"csa",lob:k.lob||"0"})},removeEntity:function(a){delete q[a]},instance:function(a){return new m(a)}})});csa.plugin(function(a){function b(a){return"function"===typeof a}function c(a){return a&&"object"===typeof a}function h(a){return"string"===typeof a||a instanceof String}function l(a,c,d,h){var e=g&&g[k[a]||"log"];
f&&f.TRACE&&b(e)&&e("[CSA:ServiceWorker] "+c,d,h);"le"===a?x("logError",c+" "+d+" "+h):"lw"===a&&x("logWarn",c+" "+d+" "+h)}function r(a,c,d){var e=a.clientId||(a.source||{}).id,f;l("i","Got fetch-check message from clientId: ",e);e&&n.clients&&(f=n.clients.get(e).then(function(a){a&&b(a.postMessage)&&(l("i","Sending fetch-check success message back to clientId: ",e),a.postMessage({client:e,message:{_messageType:d,success:!0}}))}));return f}function m(a){var e=a.body&&(h(a.body)?a.body:JSON.stringify(a.body)),
d=a.url,f=a.headers||v||{"Content-Type":a.type||q||"application/json; charset\x3dUTF-8"};l("i","Got fetch message: ",d,e);if(e&&d&&b(n.fetch)){if(w)try{var g=JSON.parse(e);g.events&&g.events.length&&b(g.events.forEach)&&g.events.forEach(function(a){c(a)&&c(a.data)&&(a=a.data,"entities"in a&&c(a.entities)?a.entities.transport={type:"ServiceWorker"}:"attributes"in a&&c(a.attributes)&&(a.attributes.transportType="ServiceWorker"))});e=JSON.stringify(g)}catch(B){l("e","Failed to tag entities for fetch request payload: ",
B)}a={method:a.httpMethod||u||"POST",body:e,headers:f,credentials:a.credentials||p||"include",mode:a.mode||t||"cors"};var k=n.fetch(d,a).catch(function(a){l("e","Failed to send fetch request: ",a)});l("i","Sending fetch message: ",d,a)}return k}var k={e:"error",le:"error",w:"warn",lw:"warn",i:"log"},f=a.config||{},w=f["ServiceWorker.Entities.Tag"],u=f["ServiceWorker.HTTP.Method"],p=f["ServiceWorker.HTTP.Credentials"],t=f["ServiceWorker.HTTP.Mode"],q=f["ServiceWorker.HTTP.Content-Type"],v=f["ServiceWorker.HTTP.AllHeaders"],
d=a.global||{},n=d.self,g=d.console;d=a.on;var x=a("Errors");n&&(a.isSW=!0,d(n,"message",function(a){if(a){var d=a.data||{},c=d._messageType;if("fetch"===c)var e=m(d);else if("fetch-check"===c)e=r(a,d,c);else if("config"===c){c=d.config;d=d.replace;if(c){if(d)f=c;else for(var g in c)c.hasOwnProperty(g)&&(f[g]=c[g]);l("i","Config updated: ",f)}e=void 0}else c&&l("le","Unknown event type:",c);e&&b(a.waitUntil)&&a.waitUntil(e)}}),d(n,"install",function(a){a&&b(a.waitUntil)&&b(n.skipWaiting)&&a.waitUntil(n.skipWaiting)}),
d(n,"activate",function(a){a&&b(a.waitUntil)&&n.clients&&b(n.clients.claim)&&a.waitUntil(n.clients.claim())}),a.register("ServiceWorker",{fetch:m}))});csa.plugin(function(a){function b(a){J=function(b,c,e){if(b.post&&(b=b.post(c))){b._messageType="fetch";if(d)n("fetch",b);else if(a)a.postMessage(b);else return 0;e();return 1}return 0}}function c(a,c){B(a,"message",function(a){(a=((a||{}).data||{}).message)&&"fetch-check"===a._messageType&&a.success&&b(c)});c.postMessage({_messageType:"fetch-check"})}
function h(){var a=A&&A.serviceWorker;if(a){var b=a.controller;b?c(a,b):(B(a,"controllerchange",function(){var b=a.controller;b&&c(a,b)}),q&&a.register(q))}}function l(b){(a.store()||[]).forEach(function(c){if(0===c.indexOf("csa.cajun."))try{var d=a.store(c);a.deleteStored(c);JSON.parse(d).forEach(b)}catch(M){a.error(M)}})}function r(b){if(864E5<a.time()-+new Date(b.timestamp))return a.warn("Event is too old: "+b);x<p&&(b.messageId in g||(g[b.messageId]=b,x++),"function"===typeof b.__merge&&b.__merge(g[b.messageId]),
!H&&u&&(b=C,C=Math.min(b*K,L),H=y(m,b)))}function m(){e.forEach(function(a){var b=[];F(g).forEach(function(c){c=g[c];a.accepts(c)&&b.push(c)});b.length&&(a.chunks?a.chunks(b).forEach(function(b){k(a,b)}):k(a,b))});g={};H=0}function k(b,c){var d=a.UUID(),e=function(){a.deleteStored("csa.cajun."+d)};a.store("csa.cajun."+d,JSON.stringify(c));[J,f,w].some(function(a){try{return a(b,c,e)}catch(N){}})}function f(a,b,c){var d=z.navigator||{},e=z.cordova||{};if(!d.sendBeacon||!a.post)return 0;a.preflight&&
e&&"ios"===e.platformId&&!D&&((new Image).src=a.preflight().url,D=1);a=a.post(b);if(!a.type&&d.sendBeacon(a.url,a.body))return c(),1}function w(b,c,d){function e(a,b,c){k.open("POST",a);k.withCredentials=!0;c&&k.setRequestHeader("Content-Type",c);k.send(b)}if(!b.post)return 0;b=b.post(c);var g=b.url,f=b.body,h=b.type,k=new XMLHttpRequest,l=0;k.onload=function(){299>k.status?d():a.config["Transport.XHRRetries"]&&3>l&&(l++,y(function(){e(g,f,h)},l*t))};e(g,f,h);return 1}var u=0,p=a.config["Transport.BufferSize"]||
2E3,t=a.config["Transport.RetryDelay"]||1500,q=a.config["Transport.ServiceWorker.JSCodePath"],v=a.config["Transport.ServiceWorker.Enabled"],d=a.isSW,n=a("ServiceWorker"),g={},x=0,e=[],D,z=a.global,A=z.navigator,G=z.document,y=a.timeout,B=a.on,E=a.once,F=z.Object.keys,I=a.config["Transport.FlushInterval"]||5E3,C=I,K=a.config["Transport.FlushInterval.BackoffFactor"]||1,L=a.config["Transport.FlushInterval.BackoffLimit"]||3E4,H=0,J=a.blank;F&&(d?b():v&&h(),E("$afterload",function(){u=1;l(r);B(G,"visibilitychange",
m,!1);m()}),E("$afterunload",function(){u=1;m()}),B("$afterPageTransition",function(){x=0;C=I}),a.register("Transport",{log:r,register:function(a){e.push(a)}}))});csa.plugin(function(a){var b=a.config["Events.SushiEndpoint"];a("Transport")("register",{accepts:function(a){return a.schemaId},post:function(a){a=a.map(function(a){return{data:a}});return{url:b,body:JSON.stringify({events:a})}},preflight:function(){var a=/\/\/(.*?)\//.exec(b),h;a&&a[1]&&(h="https://"+a[1]+"/ping");return{url:h}},chunks:function(a){for(var b=
[];500<a.length;)b.push(a.splice(0,500));b.push(a);return b}})});csa.plugin(function(a){function b(b){function l(){u=a.UUID();p=a.UUID();t={}}var m=b.producerId,k=b.logger,f=k||a("Events",{producerId:m,lob:c.lob||"0"}),w=(b||{}).dimensions||{},u,p,t={},q=-1;if(!m&&!k)return a.error("Either a producer id or custom logger must be defined");this.recordMetric=function(a,c){var d=b.logOptions||{ent:{page:["pageType","subPageType","requestId"]}};d.debugMetric=b.debugMetric;q!==h&&(l(),q=h);f("log",{messageId:u,
schemaId:b.schemaId||"\x3cns\x3e.Metric.4",metrics:{},dimensions:w,__merge:function(b){b.metrics[a]=c}},d)};this.recordCounter=function(c,d){var k=b.logOptions||{ent:{page:["pageType","subPageType","requestId"]}};if("string"!=typeof c||"number"!=typeof d||!isFinite(d))return a.error("Invalid type given for counter name or counter value: "+c+"/"+d);q!==h&&(l(),q=h);c in t||(t[c]={});var g=t[c];"f"in g||(g.f=d);g.c=(g.c||0)+1;g.s=(g.s||0)+d;g.l=d;f("log",{messageId:p,schemaId:b.schemaId||"\x3cns\x3e.InternalCounters.3",
c:{},__merge:function(a){c in a.c||(a.c[c]={});g.fs||(g.fs=1,a.c[c].f=g.f);1<g.c&&(a.c[c].s=g.s,a.c[c].l=g.l,a.c[c].c=g.c)}},k)}}var c=a.config,h=0;c["KillSwitch.Metrics"]||((new b({producerId:"csa"})).recordMetric("baselineMetricEvent",1),a.on("$beforePageTransition",function(){h++}),a.register("Metrics",{instance:function(a){return new b(a||{})}}))});csa.plugin(function(a){function b(){m+=1}function c(b){b=b||{};var c=a.UUID(),k=m,l=b.producerId,p=b.logger,t=p||a("Events",{producerId:l,lob:h.lob||
"0"});if(!l&&!p)return a.error("Either a producer id or custom logger must be defined");this.mark=function(f,h){var d=("undefined"===typeof h?a.time():h)-r;k!==m&&(k=m,c=a.UUID());t("log",{messageId:c,schemaId:b.schemaId||"\x3cns\x3e.Timer.1",markers:{},__merge:function(a){a.markers[f]=d}},b.logOptions)}}var h=a.config,l=(a.global.performance||{}).timing,r=(l||{}).navigationStart||a.time(),m=0;l&&(b(),a.on("$beforePageTransition",b),a.register("Timers",{instance:function(a){return new c(a||{})}}))});
csa.plugin(function(a){a.emit("$afterload")})})();var AUI_JS_DEBUG=!1;
(function(I){var J=this&&this.__spreadArray||function(d,b,a){if(a||2===arguments.length)for(var c=0,e=b.length,h;c<e;c++)!h&&c in b||(h||(h=Array.prototype.slice.call(b,0,c)),h[c]=b[c]);return d.concat(h||Array.prototype.slice.call(b))},K=function(d,b,a){for(var c=[],e=3;e<arguments.length;e++)c[e-3]=arguments[e];A.isDebugVerbose&&console.debug.apply(console,J(["%cServiceWorkerMetric%c%c".concat(d,"%c%c").concat(b,"%c ").concat(a),"background-color: #3333ff; color: #FFFFFF; padding: 5px","color: auto",
"background-color: #77ACA2; color: #FFFFFF; padding: 5px","color: auto","background-color: #F5F3BB; padding: 5px","color: auto"],c,!1))},L=Date.now(),l=function(d){setTimeout(d,0)},x=function(d,b,a,c){d.push(b);b="function"===typeof c;for(a=Math.max(a,0);d.length>a;){var e=d.shift();b&&c(e)}},v;(function(d){d.format=function(b){return"".concat("Telemetry",":SW:").concat(b).toLowerCase()}})(v||(v={}));var m;(function(d){d.isObject=function(b){return!!b&&"object"===typeof b&&!Array.isArray(b)};d.isNonEmptyString=
function(b){return"string"===typeof b&&0<b.length};d.matchesPattern=function(b,a){return"string"===typeof b&&a.test(b)};d.isAsciiString=function(b){return"string"===typeof b&&/^[\x00-\x7F]*$/.test(b)}})(m||(m={}));var M=this&&this.__spreadArray||function(d,b,a){if(a||2===arguments.length)for(var c=0,e=b.length,h;c<e;c++)!h&&c in b||(h||(h=Array.prototype.slice.call(b,0,c)),h[c]=b[c]);return d.concat(h||Array.prototype.slice.call(b))},n=function(){function d(){}d.prototype.print=function(b,a){for(var c=
[],e=2;e<arguments.length;e++)c[e-2]=arguments[e];K.apply(void 0,M([this.constructor.name,b,a],c,!1))};d.prototype.printCtor=function(b){this.print("constructor","\x3c\x3c\x3c %o",b)};return d}(),A;(function(d){d.isDebug=AUI_JS_DEBUG;d.isDebugVerbose=d.isDebug&&!1})(A||(A={}));var N=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=
b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),D=function(d){function b(a,b,e,h){b=d.call(this,b||a)||this;b.name="Telemetry".concat(a,"Error");b.attribution=e||"AmazonServiceWorkerTelemetryClientLib";b.logLevel=h;return b}N(b,d);return b}(Error),r;(function(d){d.create=
function(b,a,c,e){return new D(b.toString(),a,c,e)}})(r||(r={}));var z;(function(d){d.USER_DENIED_PERMISSION=/The user denied permission to use Service Worker/i;d.SERVICE_WORKER_FETCH_API_FAILED=/^Failed to fetch$/i;d.NETWORK_ERROR=/network error/i})(z||(z={}));var B;(function(d){d.isNonCustomerImpactingError=function(b){var a;if(a=b instanceof Error||b instanceof ErrorEvent)b=b.message,a=m.matchesPattern(b,z.USER_DENIED_PERMISSION)||m.matchesPattern(b,z.SERVICE_WORKER_FETCH_API_FAILED)||m.matchesPattern(b,
z.NETWORK_ERROR);return a}})(B||(B={}));var O=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):
(c.prototype=a.prototype,new c)}}(),E=function(d){function b(a,b,e){var c=d.call(this)||this;c._swGlobal=a;c._messageCommand=b;c._clientMessageHandler=e;c._addClientMessageListener();return c}O(b,d);b.prototype._addClientMessageListener=function(){var a=this;this._swGlobal.addEventListener("message",function(b){a._onMessageReceived(b)})};b.prototype._onMessageReceived=function(a){if(a.origin===this._swGlobal.location.origin){var b=a.source;b instanceof WindowClient&&(a=a.data,m.isObject(a)&&"retail_service_worker_messaging"===
a.feature&&a.command===this._messageCommand&&this._clientMessageHandler(a,b))}};return b}(n),P=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),Q=function(d){function b(a){var b=d.call(this)||this;b._clientDataList=[];new E(a,"page_loaded",b._onClientLoaded.bind(b));return b}P(b,d);b.prototype.getRequestIDForClient=function(a){return(a=this.getClientDataForClient(a))?a.requestID:void 0};b.prototype.getSessionIDForClient=function(a){return(a=this.getClientDataForClient(a))?a.sessionID:void 0};b.prototype.getForesterURLForClient=function(a){return(a=this.getClientDataForClient(a))?
a.foresterURL:void 0};b.prototype.getClientDataForClient=function(a){for(var b,e=0;e<this._clientDataList.length;e++){var h=this._clientDataList[e];if(h.clientID===a){b=h;break}}return b};b.prototype._onClientLoaded=function(a,b){if(!a.data||!m.isNonEmptyString(a.data.rid))throw r.create("InvalidPostbackDataOnPageLoad","Incorrect postback data received on page load",void 0,"ERROR");this.print("processMessage","Page loaded message received from client ".concat(b.id),a);this._saveClientData(a.data,
b.id)};b.prototype._saveClientData=function(a,c){x(this._clientDataList,{clientID:c,requestID:a.rid,sessionID:a.sid,marketplaceID:a.mid,foresterURL:a.furl,pageType:a.pty,subPageType:a.spty},b._MAX_CLIENTS)};b._MAX_CLIENTS=50;return b}(n),R=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=
b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),t=this&&this.__awaiter||function(d,b,a,c){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,g){function h(a){try{p(c.next(a))}catch(q){g(q)}}function k(a){try{p(c["throw"](a))}catch(q){g(q)}}function p(b){b.done?a(b.value):e(b.value).then(h,k)}p((c=
c.apply(d,b||[])).next())})},u=this&&this.__generator||function(d,b){function a(a){return function(b){return c([a,b])}}function c(a){if(h)throw new TypeError("Generator is already executing.");for(;e;)try{if(h=1,g&&(f=a[0]&2?g["return"]:a[0]?g["throw"]||((f=g["return"])&&f.call(g),0):g.next)&&!(f=f.call(g,a[1])).done)return f;if(g=0,f)a=[a[0]&2,f.value];switch(a[0]){case 0:case 1:f=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++;g=a[1];a=[0];continue;case 7:a=e.ops.pop();e.trys.pop();
continue;default:if(!(f=e.trys,f=0<f.length&&f[f.length-1])&&(6===a[0]||2===a[0])){e=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3]))e.label=a[1];else if(6===a[0]&&e.label<f[1])e.label=f[1],f=a;else if(f&&e.label<f[2])e.label=f[2],e.ops.push(a);else{f[2]&&e.ops.pop();e.trys.pop();continue}}a=b.call(d,e)}catch(w){a=[6,w],g=0}finally{h=f=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},h,g,f,k;return k=
{next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},S=function(d){function b(a){var c=d.call(this)||this;c._swGlobal=a;c._clientReadyList=[];c._bufferedCounters=[];c._bufferedTags=[];c._bufferedWeblabTriggers=[];c._bufferedInternalCounters=[];new E(a,b._POSTBACK_MESSAGE_COMMAND,c._onClientReady.bind(c));return c}R(b,d);b.prototype.count=function(a,c,e){var h=this;void 0===c&&(c=1);l(function(){return t(h,void 0,void 0,function(){var h,
d;return u(this,function(f){switch(f.label){case 0:return e?[3,2]:[4,this._logCounterWithoutClient(a,c)];case 1:return f.sent(),[2];case 2:if(!this._isClientReady(e))return this._bufferCounter({clientID:e,name:a,value:c}),[2];f.label=3;case 3:return f.trys.push([3,5,,6]),[4,this._getClient(e)];case 4:return h=f.sent(),this._postMessage(h,{feature:b._POSTBACK_MESSAGE_FEATURE,command:b._MESSAGING_COMMAND_COUNTER,data:{name:a,value:c}}),[3,6];case 5:return d=f.sent(),this.countInternal(v.format(b._CLIENT_UNAVAILABLE_COUNTER)),
this.print("counter",d.message),[3,6];case 6:return[2]}})})})};b.prototype.countInternal=function(a,c){var e=this;void 0===c&&(c=1);l(function(){return t(e,void 0,void 0,function(){var e;return u(this,function(h){switch(h.label){case 0:return[4,this._getLastAvailableClient()];case 1:if(e=h.sent())return this._postMessage(e,{feature:b._POSTBACK_MESSAGE_FEATURE,command:b._MESSAGING_COMMAND_COUNTER,data:{name:a,value:c}}),[2];x(this._bufferedInternalCounters,{name:a,value:c},b._MAX_INTERNAL_COUNTERS);
return[2]}})})})};b.prototype.tag=function(a,c){var e=this;l(function(){return t(e,void 0,void 0,function(){var e,d;return u(this,function(h){switch(h.label){case 0:if(!this._isClientReady(c))return this._bufferTag({clientID:c,name:a}),[2];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this._getClient(c)];case 2:return e=h.sent(),this._postMessage(e,{feature:b._POSTBACK_MESSAGE_FEATURE,command:b._MESSAGING_COMMAND_TAG,data:{tag:a}}),[3,4];case 3:return d=h.sent(),this.countInternal(v.format(b._CLIENT_UNAVAILABLE_COUNTER),
1),this.print("tag",d.message),[3,4];case 4:return[2]}})})})};b.prototype.weblabTrigger=function(a,c,e){var h=this;l(function(){return t(h,void 0,void 0,function(){var h,d;return u(this,function(f){switch(f.label){case 0:if(!this._isClientReady(e))return this._bufferWeblabTrigger({clientID:e,name:a,treatment:c}),[2];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this._getClient(e)];case 2:return h=f.sent(),this._postMessage(h,{feature:b._POSTBACK_MESSAGE_FEATURE,command:b._MESSAGING_COMMAND_WEBLAB_TRIGGER,
data:{weblab:a,treatment:c}}),[3,4];case 3:return d=f.sent(),this.countInternal(v.format(b._CLIENT_UNAVAILABLE_COUNTER)),this.print("weblabtrigger",d.message),[3,4];case 4:return[2]}})})})};b.prototype._isClientReady=function(a){return-1!==this._clientReadyList.indexOf(a)};b.prototype._onClientReady=function(a,c){this.print("processMessage","message ready event received from ".concat(c.id));x(this._clientReadyList,c.id,b._MAX_CLIENTS);this._flushMetricForClient(c)};b.prototype._flushMetricForClient=
function(a){var b=this;l(function(){b._drainBufferedCounter(a)});l(function(){b._drainBufferedTags(a)});l(function(){b._drainBufferedWeblabTriggers(a)});l(function(){b._drainBufferedInternalCounter(a)})};b.prototype._drainBufferedCounter=function(a){for(var c=this,e=[],h=a.id,d=function(d){var g=f._bufferedCounters[d];if(g.clientID&&h!==g.clientID)return e.push(g),"continue";l(function(){return t(c,void 0,void 0,function(){return u(this,function(c){this._postMessage(a,{feature:b._POSTBACK_MESSAGE_FEATURE,
command:b._MESSAGING_COMMAND_COUNTER,data:{name:g.name,value:g.value}});return[2]})})})},f=this,k=0;k<this._bufferedCounters.length;k++)d(k);this._bufferedCounters=e};b.prototype._drainBufferedTags=function(a){for(var c=this,e=[],h=a.id,d=function(d){var g=f._bufferedTags[d];if(h!==g.clientID)return e.push(g),"continue";l(function(){return t(c,void 0,void 0,function(){return u(this,function(c){this._postMessage(a,{feature:b._POSTBACK_MESSAGE_FEATURE,command:b._MESSAGING_COMMAND_TAG,data:{tag:g.name}});
return[2]})})})},f=this,k=0;k<this._bufferedTags.length;k++)d(k);this._bufferedTags=e};b.prototype._drainBufferedWeblabTriggers=function(a){for(var c=this,e=[],h=a.id,d=function(d){var g=f._bufferedWeblabTriggers[d];if(h!==g.clientID)return e.push(g),"continue";l(function(){return t(c,void 0,void 0,function(){return u(this,function(c){this._postMessage(a,{feature:b._POSTBACK_MESSAGE_FEATURE,command:b._MESSAGING_COMMAND_WEBLAB_TRIGGER,data:{weblab:g.name,treatment:g.treatment}});return[2]})})})},f=
this,k=0;k<this._bufferedWeblabTriggers.length;k++)d(k);this._bufferedWeblabTriggers=e};b.prototype._drainBufferedInternalCounter=function(a){for(var c=this,e=function(e){var d=h._bufferedInternalCounters[e];l(function(){return t(c,void 0,void 0,function(){return u(this,function(c){this._postMessage(a,{feature:b._POSTBACK_MESSAGE_FEATURE,command:b._MESSAGING_COMMAND_COUNTER,data:{name:d.name,value:d.value}});return[2]})})})},h=this,d=0;d<this._bufferedInternalCounters.length;d++)e(d);this._bufferedInternalCounters=
[]};b.prototype._bufferCounter=function(a){var c=this;x(this._bufferedCounters,a,b._MAX_COUNTERS,function(){c.countInternal(v.format("counter:buffer:overflow"))})};b.prototype._bufferTag=function(a){var c=this;x(this._bufferedTags,a,b._MAX_TAGS,function(){c.countInternal(v.format("tag:buffer:overflow"))})};b.prototype._bufferWeblabTrigger=function(a){var c=this;x(this._bufferedWeblabTriggers,a,b._MAX_WEBLAB_TRIGGERS,function(){c.countInternal(v.format("weblabTrigger:buffer:overflow"))})};b.prototype._postMessage=
function(a,b){a.postMessage(b)};b.prototype._logCounterWithoutClient=function(a,c){return t(this,void 0,void 0,function(){var e;return u(this,function(d){switch(d.label){case 0:return[4,this._getLastAvailableClient()];case 1:if(e=d.sent())return this._postMessage(e,{feature:b._POSTBACK_MESSAGE_FEATURE,command:b._MESSAGING_COMMAND_COUNTER,data:{name:a,value:c}}),[2];this._bufferCounter({clientID:void 0,name:a,value:c});return[2]}})})};b.prototype._getLastAvailableClient=function(){return t(this,void 0,
void 0,function(){var a,b,e,d;return u(this,function(c){switch(c.label){case 0:b=a=this._clientReadyList.length-1,c.label=1;case 1:if(!(0<=b))return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this._getClient(this._clientReadyList[b])];case 3:return(e=c.sent())?[2,e]:[3,5];case 4:return d=c.sent(),this.print("Looking for last available client",d.message),[3,5];case 5:return b--,[3,1];case 6:return[2]}})})};b.prototype._getClient=function(a){return t(this,void 0,void 0,function(){var b;return u(this,
function(c){switch(c.label){case 0:return[4,this._swGlobal.clients.get(a)];case 1:if(b=c.sent())return[2,b];throw r.create("ClientNotFound","Client ".concat(a," not found"));}})})};b._MAX_CLIENTS=50;b._MAX_COUNTERS=400;b._MAX_TAGS=100;b._MAX_WEBLAB_TRIGGERS=100;b._MAX_INTERNAL_COUNTERS=50;b._POSTBACK_MESSAGE_FEATURE="retail_service_worker_messaging";b._POSTBACK_MESSAGE_COMMAND="client_messaging_ready";b._MESSAGING_COMMAND_COUNTER="log_counter";b._MESSAGING_COMMAND_TAG="log_tag";b._MESSAGING_COMMAND_WEBLAB_TRIGGER=
"log_weblab_trigger";b._CLIENT_UNAVAILABLE_COUNTER="client:unavailable";return b}(n),T=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),U=function(d){function b(a){var b=d.call(this)||this;b._clientPostback=new S(a);b._clientDataProvider=new Q(a);return b}T(b,d);b.prototype.getClientPostback=function(){return this._clientPostback};b.prototype.getClientDataProvider=function(){return this._clientDataProvider};return b}(n),V=function(){function d(){this._timingFilterSignatures=[":arrived:",":flushed:",":pageshellstaleness","respond:before","respond:after"]}
d.prototype.getFilterSignatures=function(){return this._timingFilterSignatures};return d}(),W=function(){function d(){this._filterSignatures=[]}d.prototype.addFilter=function(b){var a;(a=this._filterSignatures).push.apply(a,b.getFilterSignatures())};d.prototype.filter=function(b){return this._filterSignatures.some(function(a){return-1!==b.indexOf(a)})};return d}(),y;(function(d){d.Mshop="mshop";d.Mweb="mweb";d.Desktop="desktop"})(y||(y={}));var C;(C||(C={})).INLatency="in-latency";var X=function(){function d(b,
a,c){this._swGlobal=b;this._clientConfig=a;this._metricFilter=c;this._deviceType=this._resolveDeviceType();this._configureMetricFilter()}d.prototype.count=function(b,a){this._metricFilter.filter(b)||(b={schemaId:this._clientConfig.counterConfig.schemaId,deviceType:this._deviceType,counterName:b,counterValue:a.toString()},csa("Events",{producerId:this._clientConfig.counterConfig.producerId})("log",b))};d.prototype._resolveDeviceType=function(){if(!this._swGlobal.$RuntimeConfig)return y.Desktop;var b=
this._swGlobal.$RuntimeConfig.getDeviceProperties();return"mshop"===b.getAppType()?y.Mshop:"desktop"!==b.getDeviceType()?y.Mweb:y.Desktop};d.prototype._configureMetricFilter=function(){this._metricFilter.addFilter(new V)};return d}(),Y={counterConfig:{producerId:C.INLatency,schemaId:"ServiceWorkerTelemetry.Counter.3"}},Z=function(){csa.plugin(function(d){var b=d.config;d=["Application","Events.SushiEndpoint","ObfuscatedMarketplaceId"];if(!b||"object"!==typeof b||!d.every(function(a){return!!b[a]}))throw r.create("InvalidCSAConfiguration");
})},aa=/\(?([^\s]*):(\d+):(\d+)\)?/,ba=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=
a.prototype,new c)}}(),ca=function(d){function b(a){var b=d.call(this)||this;b.printCtor(arguments);b._defaultAttribution=a;return b}ba(b,d);b.prototype.generateErrorRecord=function(a,b,e,d){var c=this._getError(a),h=this._generateStackFrames(c);b={m:this._getErrorMessage(c),name:c.name,logLevel:this._getErrorLogLevel(c,b),attribution:this._getErrorAttribution(c,e),s:h,t:Date.now()-L};if(a=a instanceof ErrorEvent?this._getErrorLocationFromErrorEvent(a):this._getErrorLocationFromStackFrames(h))b.f=
a.fileName,b.l=a.lineNumber,b.c=a.colNumber;d&&(b.cinfo=d);return b};b.prototype._getError=function(a){return a instanceof ErrorEvent?a.error:a};b.prototype._generateStackFrames=function(a){var c=[];a=a.stack?a.stack.trim():"";if(!a)return c;a=a.split("\n");for(var e,d=0;d<a.length&&c.length<b.MAX_STACK_DEPTH;)(e=a[d++].trim())&&c.push(e);return c};b.prototype._getErrorMessage=function(a){return(a=a.message.trim())?a:"Unknown Error"};b.prototype._getErrorLogLevel=function(a,b){return b||a.logLevel||
"FATAL"};b.prototype._getErrorAttribution=function(a,b){return b||a.attribution||this._defaultAttribution};b.prototype._getErrorLocationFromErrorEvent=function(a){return{fileName:a.filename,lineNumber:String(a.lineno),colNumber:String(a.colno)}};b.prototype._getErrorLocationFromStackFrames=function(a){if((a=(1<a.length?a[1]:"").match(aa))&&4===a.length)return{fileName:a[1],lineNumber:a[2],colNumber:a[3]}};b.MAX_STACK_DEPTH=20;return b}(n),da=this&&this.__extends||function(){var d=function(b,a){d=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),ea=function(d){function b(a,b,e,h){var c=d.call(this)||this;c._errorCount=
0;c.printCtor(arguments);c._swGlobal=a;c._foresterClient=e;c._foresterErrorRecordGenerator=new ca(b);c._clientDataProvider=h.getClientDataProvider();c._addGlobalErrorListener();c._startErrorCountResetTimer();return c}da(b,d);b.prototype.record=function(a,b,e,d,g){this._isNotError(a)||this._hasErrorCountThresholdBreached()?this.print("record","ERROR NOT LOGGED. Received error is not valid or error threshold is breached."):(this._errorCount++,!b&&B.isNonCustomerImpactingError(a)&&(b="ERROR"),this._recordErrorForClient(a,
b,e,d,g),this._logThresholdReached())};b.prototype._addGlobalErrorListener=function(){var a=this;this._swGlobal.addEventListener("error",function(b){l(function(){a.print("globalErrorListener","error event captured",b);a.record(b)})});this._swGlobal.addEventListener("unhandledrejection",function(b){l(function(){b.reason instanceof Error&&(a.print("globalErrorListener","promise rejection error captured",b),a.record(b.reason))})})};b.prototype._startErrorCountResetTimer=function(){var a=this;setInterval(function(){a._errorCount=
0},1E3*b.RESET_ERROR_COUNT_SECONDS)};b.prototype._recordErrorForClient=function(a,b,e,d,g){if(g&&(g.clientID||g.requestID)){var c;g.clientID&&(c=this._clientDataProvider.getClientDataForClient(g.clientID));g.requestID&&(c?c.requestID=g.requestID:c={clientID:g.clientID||"",requestID:g.requestID});this._recordError(a,b,e,d,c)}else this._recordError(a,b,e,d)};b.prototype._recordError=function(a,b,e,d,g){a=this._foresterErrorRecordGenerator.generateErrorRecord(a,b,e,d);this.print("recordError","Generated error record",
a);this._foresterClient.log(a,g);this._logToConsole(a)};b.prototype._logThresholdReached=function(){this._errorCount===b.MAX_ERROR_COUNT&&this._recordError(r.create("ErrorRecordThresholdReached"))};b.prototype._isNotError=function(a){return!(a instanceof Error||a instanceof ErrorEvent)};b.prototype._hasErrorCountThresholdBreached=function(){return this._errorCount>=b.MAX_ERROR_COUNT};b.prototype._logToConsole=function(a){console.error("SW Telemetry trapped error %o",a)};b.MAX_ERROR_COUNT=50;b.RESET_ERROR_COUNT_SECONDS=
60;return b}(n),fa=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,
new c)}}(),ha=this&&this.__awaiter||function(d,b,a,c){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,g){function h(a){try{p(c.next(a))}catch(q){g(q)}}function k(a){try{p(c["throw"](a))}catch(q){g(q)}}function p(b){b.done?a(b.value):e(b.value).then(h,k)}p((c=c.apply(d,b||[])).next())})},ia=this&&this.__generator||function(d,b){function a(a){return function(b){return c([a,b])}}function c(a){if(h)throw new TypeError("Generator is already executing.");
for(;e;)try{if(h=1,g&&(f=a[0]&2?g["return"]:a[0]?g["throw"]||((f=g["return"])&&f.call(g),0):g.next)&&!(f=f.call(g,a[1])).done)return f;if(g=0,f)a=[a[0]&2,f.value];switch(a[0]){case 0:case 1:f=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++;g=a[1];a=[0];continue;case 7:a=e.ops.pop();e.trys.pop();continue;default:if(!(f=e.trys,f=0<f.length&&f[f.length-1])&&(6===a[0]||2===a[0])){e=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3]))e.label=a[1];else if(6===a[0]&&e.label<f[1])e.label=
f[1],f=a;else if(f&&e.label<f[2])e.label=f[2],e.ops.push(a);else{f[2]&&e.ops.pop();e.trys.pop();continue}}a=b.call(d,e)}catch(w){a=[6,w],g=0}finally{h=f=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},h,g,f,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},ja=function(d){function b(a,b,e){var c=d.call(this)||this;c._logQueue=[];
c._retryCount=0;c.printCtor(arguments);c._config=a;c._requestContextProvider=b;c._foresterRequest=e;return c}fa(b,d);b.prototype.log=function(a,b){var c=this._requestContextProvider.getRequestID(b),d=this._requestContextProvider.getSessionID(b);a={r:c,s:d,m:this._config.marketplaceID,sn:this._config.siteName,c:this._config.channel,data:a};this.print("log","Forester log created",a);this._send([a],b)};b.prototype._send=function(a,b){var c=this,d=this._groupLogs(a);Object.keys(d).forEach(function(a){c.print("send",
"Sending data for group ".concat(a));void c._sendGroupedLog(d[a],b)})};b.prototype._groupLogs=function(a){var b={};a.forEach(function(a){var c=a.r+a.s+a.m;b[c]||(b[c]=[]);b[c].push(a)});return b};b.prototype._sendGroupedLog=function(a,b){return ha(this,void 0,void 0,function(){var c,d,g,f;return ia(this,function(e){switch(e.label){case 0:c=this._createPayload(a),d=this._requestContextProvider.getForesterEndpoint(b),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._foresterRequest.postLogs(d,
c)];case 2:return e.sent(),this._clearLogQueue(),[3,4];case 3:return g=e.sent(),this.print("sendGroupLog","error log posting failed",g),(f=this._logQueue).push.apply(f,a),void 0===this._flushTimeoutID&&this._scheduleRetry(),[3,4];case 4:return[2]}})})};b.prototype._createPayload=function(a){a=this._buildPostBodyLog(a);try{var b=JSON.stringify(a);if(a.reqs){var e={csmCount:{counter:"foresterPayloadSize",t:0,value:b.length}};e.csmCount.value+=JSON.stringify(e).length;a.reqs.push(e);this.print("createPayload",
"Payload generated",b);b=JSON.stringify(a)}return b}catch(h){throw new D("ForesterPayloadConversion","Error while converting forester log to payload: ".concat(h));}};b.prototype._buildPostBodyLog=function(a){var b=[],e=a[0];a.forEach(function(a){var c={};c[a.c]=a.data;b.push(c)});return{rid:e.r,sid:e.s,mid:e.m,sn:e.sn,reqs:b}};b.prototype._clearLogQueue=function(){this._logQueue.length&&this._flushLogs();this._retryCount=0;this._clearFlushTimeout()};b.prototype._scheduleRetry=function(){var a=this;
this._retryCount>=b.MAX_RETRY_COUNT||(this._flushTimeoutID=setTimeout(function(){a._flushLogs();a._clearFlushTimeout()},b.DEFAULT_FLUSH_TIMEOUT_MS*Math.pow(2,this._retryCount)),this._retryCount++)};b.prototype._flushLogs=function(){var a=this;l(function(){a._logQueue.length&&a._send(a._logQueue.splice(0))})};b.prototype._clearFlushTimeout=function(){"number"===typeof this._flushTimeoutID&&clearTimeout(this._flushTimeoutID);this._flushTimeoutID=void 0};b.MAX_RETRY_COUNT=5;b.DEFAULT_FLUSH_TIMEOUT_MS=
1E3;return b}(n),ka=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,
new c)}}(),F=this&&this.__awaiter||function(d,b,a,c){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,g){function h(a){try{p(c.next(a))}catch(q){g(q)}}function k(a){try{p(c["throw"](a))}catch(q){g(q)}}function p(b){b.done?a(b.value):e(b.value).then(h,k)}p((c=c.apply(d,b||[])).next())})},G=this&&this.__generator||function(d,b){function a(a){return function(b){return c([a,b])}}function c(a){if(h)throw new TypeError("Generator is already executing.");
for(;e;)try{if(h=1,g&&(f=a[0]&2?g["return"]:a[0]?g["throw"]||((f=g["return"])&&f.call(g),0):g.next)&&!(f=f.call(g,a[1])).done)return f;if(g=0,f)a=[a[0]&2,f.value];switch(a[0]){case 0:case 1:f=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++;g=a[1];a=[0];continue;case 7:a=e.ops.pop();e.trys.pop();continue;default:if(!(f=e.trys,f=0<f.length&&f[f.length-1])&&(6===a[0]||2===a[0])){e=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3]))e.label=a[1];else if(6===a[0]&&e.label<f[1])e.label=
f[1],f=a;else if(f&&e.label<f[2])e.label=f[2],e.ops.push(a);else{f[2]&&e.ops.pop();e.trys.pop();continue}}a=b.call(d,e)}catch(w){a=[6,w],g=0}finally{h=f=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},h,g,f,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},la=function(d){function b(){var a=d.call(this)||this;a.printCtor(arguments);
return a}ka(b,d);b.prototype.triggerWeblab=function(a){return F(this,void 0,void 0,function(){var b,e;return G(this,function(c){switch(c.label){case 0:b=this._getWeblabTriggerOptions(),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,fetch(a,b)];case 2:return c.sent(),this.print("triggerWeblab","Weblab triggered successfully"),[3,4];case 3:throw e=c.sent(),this.print("triggerWeblab","Weblab trigger failed",e),e;case 4:return[2]}})})};b.prototype.postLogs=function(a,b){return F(this,void 0,void 0,
function(){var c,d,g;return G(this,function(e){switch(e.label){case 0:c=this._getPostbackURL(a),d=this._getRequestOptions(b),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(c,d)];case 2:return e.sent(),this.print("postLogs","Forester logs posted successfully"),[3,4];case 3:throw g=e.sent(),this.print("postMetrics","Forester log request failed",g),g;case 4:return[2]}})})};b.prototype._getPostbackURL=function(a){return b.URL_ENDPOINT.replace("{{endpoint}}",a)};b.prototype._getRequestOptions=
function(a){return{method:"POST",mode:"no-cors",credentials:"include",body:a}};b.prototype._getWeblabTriggerOptions=function(){return{method:"GET",mode:"no-cors",credentials:"include"}};b.URL_ENDPOINT="//{{endpoint}}/1/batch/1/OE/";return b}(n),ma=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,
a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),na=function(d){function b(){var a=d.call(this)||this;a._syntheticRequestID=b._generateRequestID();return a}ma(b,d);b._generateRequestID=function(){for(var a="RSW";20>a.length;)a+=Math.floor(9007199254740991*Math.random()).toString();return a.substring(0,20)};b.prototype.getSyntheticRequestID=
function(){return this._syntheticRequestID};return b}(n),oa=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?
Object.create(a):(c.prototype=a.prototype,new c)}}(),pa=this&&this.__awaiter||function(d,b,a,c){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,g){function f(a){try{p(c.next(a))}catch(q){g(q)}}function h(a){try{p(c["throw"](a))}catch(q){g(q)}}function p(b){b.done?a(b.value):e(b.value).then(f,h)}p((c=c.apply(d,b||[])).next())})},qa=this&&this.__generator||function(d,b){function a(a){return function(b){return c([a,b])}}function c(a){if(h)throw new TypeError("Generator is already executing.");
for(;e;)try{if(h=1,g&&(f=a[0]&2?g["return"]:a[0]?g["throw"]||((f=g["return"])&&f.call(g),0):g.next)&&!(f=f.call(g,a[1])).done)return f;if(g=0,f)a=[a[0]&2,f.value];switch(a[0]){case 0:case 1:f=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++;g=a[1];a=[0];continue;case 7:a=e.ops.pop();e.trys.pop();continue;default:if(!(f=e.trys,f=0<f.length&&f[f.length-1])&&(6===a[0]||2===a[0])){e=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3]))e.label=a[1];else if(6===a[0]&&e.label<f[1])e.label=
f[1],f=a;else if(f&&e.label<f[2])e.label=f[2],e.ops.push(a);else{f[2]&&e.ops.pop();e.trys.pop();continue}}a=b.call(d,e)}catch(w){a=[6,w],g=0}finally{h=f=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var e={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},h,g,f,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},ra=function(d){function b(a){var c=d.call(this)||this;c.printCtor(arguments);
c._swGlobal=a;void c._retrieveSessionIDFromCookieStore();c._syntheticSessionID=b._generateSyntheticSessionID();return c}oa(b,d);b._generateSyntheticSessionID=function(){for(var a="";14>a.length;)a+=Math.floor(9007199254740991*Math.random()).toString();return"000-".concat(a.substring(0,7),"-").concat(a.substring(7,14))};b.prototype.getSessionID=function(){return this._cachedSessionID||this._syntheticSessionID};b.prototype._retrieveSessionIDFromCookieStore=function(){return pa(this,void 0,void 0,function(){var a,
b;return qa(this,function(c){switch(c.label){case 0:if(!("cookieStore"in this._swGlobal&&"get"in this._swGlobal.cookieStore))return[2];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._swGlobal.cookieStore.get("session-id")];case 2:return(a=c.sent())&&a.value&&(this._cacheSessionID(a.value),this.print("retrieveSessionIDFromCookieStore","Retrieved session id from cookie store ".concat(this._cachedSessionID))),[3,4];case 3:return b=c.sent(),this.print("retrieveSessionIDFromCookieStore","Failed to retrieve cookie from cookie store",
b),[3,4];case 4:return[2]}})})};b.prototype._cacheSessionID=function(a){a&&(this._cachedSessionID=a)};return b}(n),sa=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),ta=function(d){function b(a,b){var c=d.call(this)||this;c.printCtor(arguments);c._swGlobal=a;c._config=b;c._requestIDGenerator=new na;c._sessionIDProvider=new ra(c._swGlobal);return c}sa(b,d);b.prototype.getRequestID=function(a){return a&&a.requestID?a.requestID:this._requestIDGenerator.getSyntheticRequestID()};b.prototype.getSessionID=function(a){return a&&a.sessionID?a.sessionID:this._sessionIDProvider.getSessionID()};
b.prototype.getForesterEndpoint=function(a){return a&&a.foresterURL?a.foresterURL:this._config.foresterEndpoint};return b}(n),ua=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+
" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),va=function(d){function b(a,b,e,h){var c=d.call(this)||this;c._callCount=0;c.printCtor(arguments);c._swGlobal=a;c._config=b;c._requestContextProvider=e;c._foresterRequest=h;c._startCallCounterResetTimer();return c}ua(b,d);b.prototype.trigger=function(a,c){a=this._getValidWeblab(a);!a.length||this._callCount>=b.MAX_CALLS_COUNT||(this._callCount++,this._recordTrigger(a,c),this._logThresholdReached())};
b.prototype._logThresholdReached=function(){this._callCount===b.MAX_CALLS_COUNT&&this._swGlobal.$TM.error(r.create("WeblabTriggerThresholdReached"))};b.prototype._recordTrigger=function(a,c){var d=this,h="",g="";a.forEach(function(a){g+=d._encodeTrigger(a);h=d._getForesterWeblabEndpoint(g,c);h.length>b.MAX_FORESTER_URL_LENGTH&&(d._flush(h),h=g="")});h&&this._flush(h)};b.prototype._flush=function(a){try{this._foresterRequest.triggerWeblab(a),this._swGlobal.$TM.count(v.format("".concat(b.FORESTER_CLIENT_MODULE,
":SUCCESS")))}catch(c){this._swGlobal.$TM.count(v.format("".concat(b.FORESTER_CLIENT_MODULE,":FAILED")))}};b.prototype._getValidWeblab=function(a){return a.filter(function(a){var b=a.treatment;return m.isNonEmptyString(a.name)&&m.isNonEmptyString(b)})};b.prototype._startCallCounterResetTimer=function(){var a=this;setInterval(function(){a._callCount=0},1E3*b.RESET_CALL_COUNT_SECONDS)};b.prototype._encodeTrigger=function(a){var b=a.treatment;return encodeURIComponent(",wl\x3d".concat(a.name,"/").concat(b))};
b.prototype._getForesterWeblabEndpoint=function(a,c){var d=this._config.foresterEndpoint,h=this._config.marketplaceID,g=this._requestContextProvider.getSessionID();return"//".concat(d,"/1/remote-weblab-triggers/1/OE/")+"".concat(h,":").concat(g,":").concat(c,"$s:")+"wl-client-id\x3d".concat(b.FORESTER_CLIENT_ID)+"".concat(a,":1234")};b.MAX_CALLS_COUNT=200;b.RESET_CALL_COUNT_SECONDS=60;b.MAX_FORESTER_URL_LENGTH=2E3;b.FORESTER_CLIENT_ID="CSMTrigger";b.FORESTER_CLIENT_MODULE="FORESTER-WEBLAB";return b}(n),
wa=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),xa=
function(d){function b(a,b){var c=d.call(this)||this;c.printCtor(arguments);var h=new ta(a,b),g=new la;c._foresterLogClient=new ja(b,h,g);c._foresterWeblabClient=new va(a,b,h,g);return c}wa(b,d);b.prototype.log=function(a,b){this._foresterLogClient.log(a,b)};b.prototype.trigger=function(a,b){this._foresterWeblabClient.trigger(a,b)};return b}(n),ya=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),za=function(d){function b(a,b,e){var c=d.call(this)||this;c._clientPostback=a.getClientPostback();c._csaClient=b;c._foresterClient=e;return c}ya(b,d);b.prototype.count=
function(a,b,d){void 0===b&&(b=1);this._clientPostback.count(a,b,d);this._csaClient.count(a,b)};b.prototype.tag=function(a,b){this._clientPostback.tag(a,b)};b.prototype.mark=function(a,b,d){var c=performance.now();this.count(a,c-b,d)};b.prototype.triggerWeblab=function(a,b){var c=this;if(!m.isNonEmptyString(b))throw r.create("ClientIDMissing","Client id missing for triggering weblab via page");a.forEach(function(a){c._clientPostback.weblabTrigger(a.name,a.treatment,b)})};b.prototype.triggerWeblabFromWorker=
function(a,b){if(!m.isNonEmptyString(b))throw r.create("RequestIDMissing","Request id missing for triggering weblab via page");this._foresterClient.trigger(a,b)};return b}(n),Aa=this&&this.__extends||function(){var d=function(b,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return d(b,a)};return function(b,a){function c(){this.constructor=b}if("function"!==typeof a&&null!==
a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");d(b,a);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),Ba=function(d){function b(a,b,e){var c=d.call(this)||this;c.printCtor(arguments);c._swGlobal=a;c._errorRecorder=b;c._metricRecorder=e;c._attachTelemetryToGlobalContext();return c}Aa(b,d);b.prototype.count=function(a,b,d){var c=this;if(!m.isAsciiString(a))throw r.create("NonASCIICharacters","Counter name contains non-ASCII characters ".concat(a));
l(function(){var e=d&&m.isNonEmptyString(d.clientID)?d.clientID:void 0;c._metricRecorder.count(a,b,e)})};b.prototype.tag=function(a,b){var c=this;if(!b||!m.isNonEmptyString(b.clientID))throw r.create("ClientIDMissing","Client id missing for tag ".concat(a));l(function(){c._metricRecorder.tag(a,b.clientID)})};b.prototype.trigger=function(a,b){var c=this;l(function(){var d=Array.isArray(a)?a:[a];b.requestID?c._metricRecorder.triggerWeblabFromWorker(d,b.requestID):c._metricRecorder.triggerWeblab(d,b.clientID)})};
b.prototype.mark=function(a,b,d){var c=this;l(function(){var e=d&&m.isNonEmptyString(d.clientID)?d.clientID:void 0;c._metricRecorder.mark(a,b,e)})};b.prototype.error=function(a,b,d,h,g){var c=this;l(function(){c._errorRecorder.record(a,b,d,h,g)})};b.prototype._attachTelemetryToGlobalContext=function(){this._swGlobal.$TM=this};return b}(n),H=!1,Ca=function(d){if(!d||"object"!==typeof d)throw r.create("InvalidForesterConfiguration");["channel","foresterEndpoint","marketplaceID","siteName","attribution"].forEach(function(b){b=
d[b];if("string"!==typeof b||!b.length)throw r.create("InvalidForesterConfiguration");})};I.init=function(d){if(H)throw r.create("DuplicateLibraryInitialization");Ca(d.foresterConfig);Z();var b=d.swGlobal||self,a=d.foresterConfig;d=new xa(b,a);var c=new U(b);a=new ea(b,a.attribution,d,c);var e=new W;e=new X(b,Y,e);d=new za(c,e,d);new Ba(b,a,d);H=!0}})(this.ServiceWorkerTelemetry=this.ServiceWorkerTelemetry||{});var AUI_JS_DEBUG=!1;
(function(c){var a=this&&this.__assign||function(){a=Object.assign||function(a){for(var b,d=1,c=arguments.length;d<c;d++){b=arguments[d];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)},f=a({marketplaceID:"ATVPDKIKX0DER",foresterEndpoint:"fls-na.amazon.com"},{channel:"jserr-rw",attribution:"RetailServiceWorker",siteName:self.location.hostname});c.foresterConfig=f})(this.ServiceWorkerTelemetryConfiguration=this.ServiceWorkerTelemetryConfiguration||{});(function(){(function(Pc){function Qc(f,b,a){if(T.isDebugVerbose){var e=a.value;a.value=function(){for(var a=[],g=0;g<arguments.length;g++)a[g]=arguments[g];g=this.constructor.name===f.constructor.name?this.constructor.name:"".concat(this.constructor.name," (").concat(f.constructor.name,")");M.print(g,b,"".concat("\x3c\x3c\x3c"," %o"),a);M.rightShift();a=e.apply(this,a);M.leftShift();M.print(g,b,"".concat("\x3e\x3e\x3e"," %o"),a);return a};return a}}function k(){for(var f=[],b=0;b<arguments.length;b++)f[b]=
arguments[b];switch(f.length){case 3:if("number"!==typeof f[2])return Qc(f[0],f[1],f[2]);default:throw r.create("UnsupportedLogDecorator");}}var fa;(function(f){f.getMarketplaceProperties=function(b){var a;if("function"===typeof(null===(a=b.$RuntimeConfig)||void 0===a?void 0:a.getMarketplaceProperties))return b.$RuntimeConfig.getMarketplaceProperties()};f.getFeaturePropertiesData=function(b,a,e){var c;if("function"===typeof(null===(c=b.$RuntimeConfig)||void 0===c?void 0:c.getFeatureProperties)&&(b=
b.$RuntimeConfig.getFeatureProperties(a,e),"function"===typeof(null===b||void 0===b?void 0:b.getData)))return b.getData()};f.getDeviceProperties=function(b){var a;if("function"===typeof(null===(a=b.$RuntimeConfig)||void 0===a?void 0:a.getDeviceProperties))return b.$RuntimeConfig.getDeviceProperties()};f.getCustomerProperties=function(b){var a;if("function"===typeof(null===(a=b.$RuntimeConfig)||void 0===a?void 0:a.getCustomerProperties))return b.$RuntimeConfig.getCustomerProperties()}})(fa||(fa={}));
var ha;(function(f){f.getAppType=function(b){var a,e;return null!==(e=null===(a=fa.getDeviceProperties(b))||void 0===a?void 0:a.getAppType())&&void 0!==e?e:"web"};f.isMShop=function(b){return"mshop"===f.getAppType(b)};f.getCountryCode=function(b){b=fa.getMarketplaceProperties(b);if("function"===typeof(null===b||void 0===b?void 0:b.getCountryCode))return b.getCountryCode()};f.isClientEnabled=function(b){b=fa.getFeaturePropertiesData(b,"in-latency","".concat("lightsaber","-").concat(f.getAppType(b)));
return null===b||void 0===b?void 0:b.clientEnabled};f.getAppVersion=function(b){var a;b=fa.getDeviceProperties(b);return null===(a=null===b||void 0===b?void 0:b.getMShopProperties())||void 0===a?void 0:a.getAppVersion()}})(ha||(ha={}));var Rc=this&&this.__read||function(f,b){var a="function"===typeof Symbol&&f[Symbol.iterator];if(!a)return f;f=a.call(f);var e,c=[];try{for(;(void 0===b||0<b--)&&!(e=f.next()).done;)c.push(e.value)}catch(h){var g={error:h}}finally{try{e&&!e.done&&(a=f["return"])&&a.call(f)}finally{if(g)throw g.error;
}}return c},v;(function(f){var b=(b="AmazonLightsaberServiceWorkerClientLib-1.0.1762.0".match(/^([^\-]+)\-((\w+\.\w+)(?:\.\w+)*)$/))&&b[1]&&b[2]&&b[3]?b.slice(1):["unknown","unknown","unknown"];var a=Rc(b,3);b=a[0];var e=a[1];a=a[2];f.NAMESPACE="Lightsaber";f.NAMESPACE_UCASE=f.NAMESPACE.toUpperCase();f.NAMESPACE_LCASE=f.NAMESPACE.toLowerCase();f.NAMESPACE_SHORT="lsbr";f.BRAZIL_NAME=b;f.FULL_VERSION=e;f.VERSION=a;f.HELP_LINK="https://tiny.amazon.com/171he0ngb"})(v||(v={}));var qa;(function(f){f.pushClamped=
function(b,a,e,c){b.push(a);a="function"===typeof c;for(e=Math.max(e,0);b.length>e;){var g=b.shift();a&&c(g)}}})(qa||(qa={}));var Ka;(function(f){f.removeHeadersWithPrefix=function(b,a){var e=new Headers(b);e.forEach(function(c,b){0===b.indexOf(a)&&e.delete(b)});return e};f.getCommonHTMLHeaders=function(b){var a=new Headers({"content-type":"text/html; charset\x3dutf-8","x-content-type-options":"nosniff","x-frame-options":"SAMEORIGIN","x-xss-protection":"1"});b&&b.forEach(function(b,c){a.set(c,b)});
return a}})(Ka||(Ka={}));var Sc=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function g(a){try{l(e.next(a))}catch(m){h(m)}}function n(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(g,n)}l((e=e.apply(f,b||[])).next())})},Tc=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");
for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=
d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Uc=this&&this.__read||function(f,b){var a="function"===typeof Symbol&&f[Symbol.iterator];
if(!a)return f;f=a.call(f);var e,c=[];try{for(;(void 0===b||0<b--)&&!(e=f.next()).done;)c.push(e.value)}catch(h){var g={error:h}}finally{try{e&&!e.done&&(a=f["return"])&&a.call(f)}finally{if(g)throw g.error;}}return c},Vc=this&&this.__spreadArray||function(f,b,a){if(a||2===arguments.length)for(var e=0,c=b.length,g;e<c;e++)!g&&e in b||(g||(g=Array.prototype.slice.call(b,0,e)),g[e]=b[e]);return f.concat(g||Array.prototype.slice.call(b))},ia;(function(f){var b=this;f.replaceAsync=function(a,e,c){return Sc(b,
void 0,void 0,function(){var b,h;return Tc(this,function(g){switch(g.label){case 0:if("function"!==typeof c)return[2,a.replace(e,c)];b=[];a.replace(e,function(a){for(var e=[],g=1;g<arguments.length;g++)e[g-1]=arguments[g];e=c.call.apply(c,Vc([void 0,a],Uc(e),!1));b.push(e);return""});return[4,Promise.all(b)];case 1:return h=g.sent(),[2,a.replace(e,function(){return h.shift()})]}})})};f.pad=function(a,b,c){a=a.toString();return"function"===typeof a.padStart?a.padStart(b,c):a};f.generateRandomSequence=
function(a,b){for(var c="";c.length<a;)c+=Math.floor(9007199254740991*Math.random()).toString(b);return c.substring(0,a)}})(ia||(ia={}));var Wc=this&&this.__read||function(f,b){var a="function"===typeof Symbol&&f[Symbol.iterator];if(!a)return f;f=a.call(f);var e,c=[];try{for(;(void 0===b||0<b--)&&!(e=f.next()).done;)c.push(e.value)}catch(h){var g={error:h}}finally{try{e&&!e.done&&(a=f["return"])&&a.call(f)}finally{if(g)throw g.error;}}return c},Xc=this&&this.__spreadArray||function(f,b,a){if(a||2===
arguments.length)for(var e=0,c=b.length,g;e<c;e++)!g&&e in b||(g||(g=Array.prototype.slice.call(b,0,e)),g[e]=b[e]);return f.concat(g||Array.prototype.slice.call(b))},M;(function(f){var b=0,a=function(){var a=new Date,c=ia.pad(a.getHours(),2,"0"),b=ia.pad(a.getMinutes(),2,"0"),h=ia.pad(a.getSeconds(),2,"0");a=ia.pad(a.getMilliseconds(),3,"0");return"".concat(c,":").concat(b,":").concat(h,".").concat(a)};f.print=function(e,c,g){for(var h=[],d=3;d<arguments.length;d++)h[d-3]=arguments[d];T.isDebugVerbose&&
(d="  ".repeat(b||0),console.debug.apply(console,Xc(["%c".concat(a(),"%c%c").concat(v.NAMESPACE,"%c  ").concat(d,"%c").concat(e,"%c%c").concat(c,"%c ").concat(g),"background-color: #e1eaeb; color: #fff; padding: 5px 8px","color: auto; font-weight: normal","background-color: #3498db; color: #fff; padding: 5px 8px","color: auto; font-weight: normal","background-color: #f39c12; color: #fff; padding: 5px 8px","color: auto; font-weight: normal","background-color: #e1eaeb; padding: 5px 8px","color: auto; font-weight: normal"],
Wc(h),!1)))};f.rightShift=function(){return 25>=b?b++:b};f.leftShift=function(){return 1<=b?b--:b}})(M||(M={}));var Yc=function(){function f(){var b=this;this.promise=new Promise(function(a,e){b.resolve=a;b.reject=e})}f.prototype.resolveWith=function(b){this.resolve(b)};f.prototype.rejectWith=function(b){this.reject(b)};return f}(),Ba;(function(f){var b=/^https:\/\/(?:[^\/]+)(?:\/images\/I)\/([\w\+\-]+)\..*$/i;f.getPhysicalId=function(a){if(a=a.match(b))return a[1]};f.replacePhysicalId=function(a,
b){var c=f.getPhysicalId(a);if(c)return a.replace(c,b)}})(Ba||(Ba={}));var Ua;(function(f){f.format=function(b,a){return"".concat(v.NAMESPACE,":").concat(ha.isMShop(b)?"SMA":"SW",":").concat(a).toLowerCase()}})(Ua||(Ua={}));var Zc=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=
b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),$c=function(f){function b(a,e,c,g,h){c=f.call(this,b._getMessage(a,g,e,c))||this;c.name="".concat(v.NAMESPACE,"Error");c.code=a;c.data=e;c.logLevel=h;return c}Zc(b,f);b._getMessage=function(a,b,c,g){b=b?"- ".concat(b,"."):"";if(void 0!==c){var e=D.serialize(c);"{}"===e&&"function"===typeof c.toString&&
(e=c.toString());b="".concat(b," Occurred with ").concat(e,".").trim()}g&&(c=g.stack?"".concat(g.stack):"".concat(g),b="".concat(b," Caused by ").concat(c).trim());return"".concat(a," ").concat(b)};return b}(Error),r;(function(f){f.create=function(b,a,e,c,g){return new $c(b.toString(),a,e,c,g)};f.wrap=function(b,a,e,c,g){return b.hasOwnProperty("code")?b:f.create(a,e,b,c,g)}})(r||(r={}));var y;(function(f){f.matchesCode=function(b,a){return b instanceof Error&&b.hasOwnProperty("code")&&b.code===a};
f.matchesSignature=function(b,a){return b instanceof Error&&p.matchesPattern(b.message,a)};f.matchesCodeOrSignature=function(b,a,e){return f.matchesCode(b,a)||f.matchesSignature(b,e)}})(y||(y={}));var J;(function(f){f.NETWORK_ERROR=/network error/i;f.FAILED_TO_FETCH=/failed to fetch/i;f.UNEXPECTED_INTERNAL_ERROR=/Unexpected internal error/i})(J||(J={}));var Zb=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,
h){function g(a){try{l(e.next(a))}catch(m){h(m)}}function n(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(g,n)}l((e=e.apply(f,b||[])).next())})},$b=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&
2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=
d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Va;(function(f){var b=this;f.getResponseWithRelay=function(a){return Zb(b,void 0,void 0,function(){var b;return $b(this,function(c){switch(c.label){case 0:if(!a.preloadResponse)return[2,fetch(a.request)];c.label=1;case 1:return c.trys.push([1,
3,,4]),[4,a.preloadResponse];case 2:return(b=c.sent())?[2,b]:[2,fetch(a.request)];case 3:return c.sent(),[2,fetch(a.request)];case 4:return[2]}})})};f.getResponseWithoutRelay=function(a){return Zb(b,void 0,void 0,function(){var b;return $b(this,function(c){switch(c.label){case 0:if(!a.preloadResponse)throw r.create("PreloadResponseUnsupported");return[4,a.preloadResponse];case 1:b=c.sent();if(!b)throw r.create("PreloadResponseUnexpected");return[2,b]}})})}})(Va||(Va={}));var kb=this&&this.__assign||
function(){kb=Object.assign||function(f){for(var b,a=1,e=arguments.length;a<e;a++){b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(f[c]=b[c])}return f};return kb.apply(this,arguments)},ad=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function g(a){try{l(e.next(a))}catch(m){h(m)}}function n(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(g,
n)}l((e=e.apply(f,b||[])).next())})},bd=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();
c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,
d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},ra;(function(f){f.shallow=function(b){return kb({},b)};(function(b){var a=this;b.json=function(a){return JSON.parse(JSON.stringify(a))};b.structuredCloneAsync=function(b){return ad(a,void 0,void 0,function(){return bd(this,function(a){return[2,new Promise(function(a){var c=new MessageChannel;c.port1.postMessage(b);c.port2.onmessage=function(c){a(c.data)}})]})})}})(f.deep||
(f.deep={}))})(ra||(ra={}));var cd=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function g(a){try{l(e.next(a))}catch(m){h(m)}}function n(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(g,n)}l((e=e.apply(f,b||[])).next())})},dd=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");
for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=
d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},aa;(function(f){var b=this;f.validateIsUsable=function(a){if(!(a instanceof
Response))throw r.create("ResponseInvalid");if("opaqueredirect"===a.type)throw r.create("ResponseOpaqueRedirect");if(!(a.body instanceof ReadableStream))throw r.create("ResponseBodyInvalid");if(a.bodyUsed||a.body.locked)throw r.create("ResponseBodyUnusable");};f.validateIsOK=function(a){if(!(a instanceof Response))throw r.create("ResponseInvalid");if(!a.ok||206===a.status)throw r.create("ResponseNotOK");};f.matchPatterns=function(a,e){return cd(b,void 0,void 0,function(){var c;return dd(this,function(b){switch(b.label){case 0:return f.validateIsUsable(a),
f.validateIsOK(a),[4,a.text()];case 1:return c=b.sent(),[2,e.map(function(a){return c.match(a)})]}})})}})(aa||(aa={}));var D;(function(f){f.serialize=function(b,a,e){void 0===a&&(a=!1);void 0===e&&(e="{}");try{return a?JSON.stringify(b,void 0,4):JSON.stringify(b)}catch(c){return M.print("SafeJSON","encode","JSON stringify failed, input\x3d".concat(b)),e}};f.deserialize=function(b,a){void 0===a&&(a={});try{return JSON.parse(b)}catch(e){return M.print("SafeJSON","decode","JSON parse failed, input\x3d".concat(b)),
a}}})(D||(D={}));var E;(function(f){f.parse=function(b,a){try{return new URL(b,a)}catch(e){M.print("SafeURL","parse","URL parse failed, input\x3d".concat(b))}};f.encode=function(b){return(b=f.parse(b))?b.href:void 0}})(E||(E={}));var F;(function(f){f.encode=function(b){return encodeURIComponent(b)};f.encodeRFC3986=function(b){return f.encode(b).replace(/[!'()*]/g,function(a){return"%".concat(a.charCodeAt(0).toString(16).toUpperCase())})};f.decode=function(b){try{return decodeURIComponent(b)}catch(a){M.print("SafeURIEncode",
"decode","decodeURIComponent failed, input\x3d".concat(b))}}})(F||(F={}));var La;(function(f){f.onlyWordChars=function(b){return b.replace(/[^\w]+/gim,"")}})(La||(La={}));var ed=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},
fd=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=
c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),
"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Ca;(function(f){var b=this;f.drain=function(a,e){return ed(b,void 0,void 0,function(){var c,b;return fd(this,function(g){switch(g.label){case 0:return c=a.getReader(),[4,c.read()];case 1:b=g.sent(),g.label=2;case 2:if(b.done)return[3,4];e(b.value);return[4,c.read()];case 3:return b=g.sent(),[3,2];case 4:return[2]}})})}})(Ca||(Ca={}));var lb=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof
a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},mb=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),
0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();
continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},t;(function(f){var b=this;f.queueTask=function(a,b){return setTimeout(a,b||0)};f.wait=function(a){return lb(b,void 0,void 0,function(){return mb(this,function(b){return[2,
new Promise(function(c){setTimeout(c,a)})]})})};f.nextTask=function(){return lb(b,void 0,void 0,function(){return mb(this,function(a){return[2,f.wait(0)]})})};f.queueMicrotask=function(a){Promise.resolve().then(function(){a()})};f.nextMicrotask=function(){return lb(b,void 0,void 0,function(){return mb(this,function(a){return[2,Promise.resolve()]})})}})(t||(t={}));var I;(function(f){f.getEpoch=function(){return Date.now()};f.getEpochSeconds=function(b){void 0===b&&(b=f.getEpoch());return Math.round(b/
1E3)};f.getUTCDate=function(b){void 0===b&&(b=f.getEpoch());return(new Date(b)).toUTCString()};f.getPerfNow=function(){return performance.now()}})(I||(I={}));var p;(function(f){f.isObject=function(b){return!!b&&"object"===typeof b&&!Array.isArray(b)};f.isNonEmptyString=function(b){return"string"===typeof b&&0<b.length};f.isPositiveInteger=function(b){return"number"===typeof b&&Math.floor(b)===b&&0<=b&&Infinity!==b};f.isFunction=function(b){return"function"===typeof b};f.isBoolean=function(b){return!0===
b||!1===b};f.isNonEmptyArray=function(b){return Array.isArray(b)&&0<b.length};f.isOneOf=function(b,a){return-1!==a.indexOf(b)};f.isArrayWhereEvery=function(b,a){return Array.isArray(b)&&b.every(a)};f.isUndefinedOr=function(b,a){return void 0===b?!0:f.isFunction(a)?a():a};f.matchesPattern=function(b,a){return"string"===typeof b&&a.test(b)};f.isURL=function(b){return"string"===typeof b&&!!E.parse(b)};f.isRegExp=function(b){return b instanceof RegExp}})(p||(p={}));var G;(function(f){var b=function(a,
b,c){return c?"\x3c".concat(b,' id\x3d"').concat(c,'"\x3e').concat(a,"\x3c/").concat(b,"\x3e"):"\x3c".concat(b,"\x3e").concat(a,"\x3c/").concat(b,"\x3e")};f.div=function(a,e){return b(a,"div",e)};f.style=function(a,e){return b(a,"style",e)};f.script=function(a,e,c){if(!e)return b("(function(){".concat(a,";})();"),"script",c);e=D.serialize(e);e=F.encodeRFC3986(e);return b('(function(){var model\x3dJSON.parse(decodeURIComponent("'.concat(e,'"));').concat(a,";})();"),"script",c)};f.ins=function(a){return b(a,
"ins")};f.del=function(a){return b(a,"del")};f.span=function(a){return b(a,"span")}})(G||(G={}));var nb;(function(f){f.escapeRegExp=function(b){return b.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")}})(nb||(nb={}));var Da;(function(f){f.stripRefMarkersFromPath=function(b){return b.replace(/\/ref_?=[^\/]*/gi,"")||"/"};f.stripLanguageFolderFromPath=function(b){return b.replace(/^\/\-\/[^\/]+/i,"")||"/"};f.resolveAdsRedirects=function(b){var a=E.parse(b);if(a&&"/sspa/click"===a.pathname){var e=a.searchParams.get("url");
b=e?(new URL(e,a)).href:b}return b};f.getASINFromUrl=function(b){b=f.resolveAdsRedirects(b);if(b=E.parse(b))return(b=f.stripLanguageFolderFromPath(f.stripRefMarkersFromPath(b.pathname)).match(/^\/(?:[^\/]+\/dp|d|dp|gp\/product|gp\/aw\/d|gp\/mobile\/udp)\/([A-Za-z0-9]{10})/))?b[1]:void 0}})(Da||(Da={}));var gd=this&&this.__read||function(f,b){var a="function"===typeof Symbol&&f[Symbol.iterator];if(!a)return f;f=a.call(f);var e,c=[];try{for(;(void 0===b||0<b--)&&!(e=f.next()).done;)c.push(e.value)}catch(h){var g=
{error:h}}finally{try{e&&!e.done&&(a=f["return"])&&a.call(f)}finally{if(g)throw g.error;}}return c},hd=this&&this.__spreadArray||function(f,b,a){if(a||2===arguments.length)for(var e=0,c=b.length,g;e<c;e++)!g&&e in b||(g||(g=Array.prototype.slice.call(b,0,e)),g[e]=b[e]);return f.concat(g||Array.prototype.slice.call(b))},u=function(){function f(){}f.prototype.log=function(b,a){for(var e=[],c=2;c<arguments.length;c++)e[c-2]=arguments[c];M.print.apply(M,hd([this.constructor.name,b,a],gd(e),!1))};f.prototype.logCtor=
function(b){this.log("constructor","\x3c\x3c\x3c %o",b)};return f}(),T;(function(f){f.isDebug=!1;f.isDebugVerbose=f.isDebug&&!1})(T||(T={}));var id=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+
String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),ja=this&&this.__assign||function(){ja=Object.assign||function(f){for(var b,a=1,e=arguments.length;a<e;a++){b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(f[c]=b[c])}return f};return ja.apply(this,arguments)},ka=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},ac=function(f){function b(a,b){var c=f.call(this)||this;c.logCtor(arguments);c._swGlobal=a;c._requireNavigationPreloadSupport=b.usePreloadResponseOnlyForServerResponseOnNavigations;c._logToPageProxy();return c}id(b,f);b.isCookieStoreSupported=function(a){return"cookieStore"in a&&"function"===typeof a.cookieStore.get};
b.prototype.validate=function(){if(!this._isBasicOK())throw r.create("UnsupportedBrowserContext");var a=this._getFeatureFailures();if(0!==a.length)throw r.create("APIUnsupported",{failures:a});};b.prototype.supports=function(){return this._isBasicOK()&&this._isFeatureOK()};b.prototype._isBasicOK=function(){return 0===this._getBasicFailures().length};b.prototype._isFeatureOK=function(){return 0===this._getFeatureFailures().length};b.prototype._getBasicFailures=function(){var a=this._swGlobal,b={Global:!!a,
ServiceWorkerGlobalScope:"ServiceWorkerGlobalScope"in a,ServiceWorkerRegistration:"ServiceWorkerRegistration"in a,Promise:"Promise"in a};return Object.keys(b).filter(function(a){return!b[a]})};b.prototype._getFeatureFailures=function(){var a=this._swGlobal,b={URL:"URL"in a,Headers:"Headers"in a,Request:"Request"in a,Response:"Response"in a,ReadableStream:"ReadableStream"in a,TextDecoder:"TextDecoder"in a,TextEncoder:"TextEncoder"in a,Uint8Array:"Uint8Array"in a,caches:"caches"in a,clients:"clients"in
a,WindowClient:"WindowClient"in a,performance:"performance"in a,Map:"Map"in a};b.Request&&(b=ja(ja({},b),{RequestMethod:"method"in Request.prototype,RequestMode:"mode"in Request.prototype,RequestDestination:"destination"in Request.prototype,RequestCredentials:"credentials"in Request.prototype,RequestRedirect:"redirect"in Request.prototype,RequestHeaders:"headers"in Request.prototype,RequestIsHistoryNavigation:"isHistoryNavigation"in Request.prototype}));b.Response&&(b=ja(ja({},b),{ResponseBody:"body"in
Response.prototype,ResponseType:"type"in Response.prototype,ResponseHeaders:"headers"in Response.prototype,ResponseRedirect:"function"===typeof Response.redirect}));this._requireNavigationPreloadSupport&&(b=ja(ja({},b),{NavigationPreload:"NavigationPreloadManager"in a&&"navigationPreload"in ServiceWorkerRegistration.prototype&&"function"===typeof NavigationPreloadManager.prototype.getState&&a.registration&&a.registration.navigationPreload&&a.registration.navigationPreload.getState()instanceof Promise}));
return Object.keys(b).filter(function(a){return!b[a]})};b.prototype._logToPageProxy=function(){var a=this;this._isBasicOK()&&this._swGlobal.addEventListener("aui-sw:page-proxy:feature-tags:request",function(b){b=b.detail.callback;var c=[];c.push("Version:".concat(v.VERSION));c.push("Supported:".concat(a._isFeatureOK()?"Yes":"No"));b(Promise.resolve(c.map(function(c){return Ua.format(a._swGlobal,"Client:".concat(c))})))})};ka([k],b.prototype,"validate",null);ka([k],b.prototype,"supports",null);ka([k],
b.prototype,"_isBasicOK",null);ka([k],b.prototype,"_isFeatureOK",null);ka([k],b.prototype,"_getBasicFailures",null);ka([k],b.prototype,"_getFeatureFailures",null);ka([k],b.prototype,"_logToPageProxy",null);ka([k],b,"isCookieStoreSupported",null);return b}(u),ba;(function(f){f.create=function(b){return{timeOriginEpoch:I.getEpoch(),timeOriginPerfNow:I.getPerfNow(),clientId:b||"unknown",errorContext:{BuildVersion:v.FULL_VERSION}}}})(ba||(ba={}));var jd=this&&this.__extends||function(){var f=function(b,
a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),A=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,
g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},K=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}
function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},L=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;
h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];
return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},ob=this&&this.__read||function(f,b){var a="function"===typeof Symbol&&f[Symbol.iterator];if(!a)return f;f=a.call(f);var e,c=[];try{for(;(void 0===b||0<b--)&&!(e=f.next()).done;)c.push(e.value)}catch(h){var g={error:h}}finally{try{e&&!e.done&&(a=f["return"])&&a.call(f)}finally{if(g)throw g.error;}}return c},kd=function(f){function b(a,e,c,
g,h,d){var n=f.call(this)||this;n.logCtor(arguments);n._swGlobal=a;n._metricsService=e;n._plugins=c;n._cacheFullName="".concat(b._CACHE_NAME_PREFIX).concat(g);n._cacheFullNameWithVersion="".concat(n._cacheFullName,"V").concat(h);n._errorLoggingScope="CacheOperator:".concat(g);d&&n._cleanupOldCache();t.queueMicrotask(function(){return K(n,void 0,void 0,function(){return L(this,function(a){switch(a.label){case 0:return[4,this._primeCache()];case 1:return a.sent(),[2]}})})});return n}jd(b,f);b.prototype.read=
function(a,b,c){return K(this,void 0,void 0,function(){var e,h,d,f,l,q;return L(this,function(g){switch(g.label){case 0:e=this._toInternalRequest(b),h=ra.shallow(c),d=0,g.label=1;case 1:if(!(d<this._plugins.length))return[3,4];f=this._plugins[d];return"function"!==typeof f.requestWillBeUsed?[3,3]:[4,f.requestWillBeUsed("read",e,h)];case 2:q=ob.apply(void 0,[g.sent(),2]),e=q[0],h=q[1],g.label=3;case 3:return d++,[3,1];case 4:return[4,this._read(a,e,this._getInternalCacheQueryOptions())];case 5:l=g.sent(),
d=this._plugins.length-1,g.label=6;case 6:if(!(0<=d))return[3,9];f=this._plugins[d];return"function"!==typeof f.responseWillBeUsed?[3,8]:[4,f.responseWillBeUsed(e,l,h)];case 7:l=g.sent(),g.label=8;case 8:return d--,[3,6];case 9:return[2,l]}})})};b.prototype.write=function(a,b,c,g){return K(this,void 0,void 0,function(){var e,d,f,l,q,k,p;return L(this,function(h){switch(h.label){case 0:e=this._toInternalRequest(b),d=this._cloneResponse(a,c),f=ra.shallow(g),l=0,h.label=1;case 1:if(!(l<this._plugins.length))return[3,
7];q=this._plugins[l];return"function"!==typeof q.requestWillBeUsed?[3,3]:[4,q.requestWillBeUsed("write",e,f)];case 2:p=ob.apply(void 0,[h.sent(),2]),e=p[0],f=p[1],h.label=3;case 3:return"function"!==typeof q.cacheWillUpdate?[3,5]:[4,q.cacheWillUpdate(e,d,f)];case 4:d=h.sent(),h.label=5;case 5:if(void 0===d)return this.log("write","Cancelled by ".concat(q.getName(),' plugin via "cacheWillUpdate" hook')),[2];h.label=6;case 6:return l++,[3,1];case 7:return[4,this._read(a,e,this._getInternalCacheQueryOptions())];
case 8:return k=h.sent(),[4,this._write(a,e,d)];case 9:h.sent(),l=this._plugins.length-1,h.label=10;case 10:if(!(0<=l))return[3,13];q=this._plugins[l];return"function"!==typeof q.cacheDidUpdate?[3,12]:[4,q.cacheDidUpdate(e,k,d,f)];case 11:h.sent(),h.label=12;case 12:return l--,[3,10];case 13:return[2]}})})};b.prototype.evict=function(a,b,c){return K(this,void 0,void 0,function(){var e,h,d,f,l,q,k;return L(this,function(g){switch(g.label){case 0:e=this._toInternalRequest(b),h=ra.shallow(c),d=0,g.label=
1;case 1:if(!(d<this._plugins.length))return[3,4];f=this._plugins[d];return"function"!==typeof f.requestWillBeUsed?[3,3]:[4,f.requestWillBeUsed("evict",e,h)];case 2:k=ob.apply(void 0,[g.sent(),2]),e=k[0],h=k[1],g.label=3;case 3:return d++,[3,1];case 4:return[4,this._read(a,e,this._getInternalCacheQueryOptions())];case 5:return l=g.sent(),[4,this._evict(a,e,this._getInternalCacheQueryOptions())];case 6:q=g.sent();if(!q)return[2,q];d=this._plugins.length-1;g.label=7;case 7:if(!(0<=d))return[3,10];f=
this._plugins[d];return"function"!==typeof f.cacheDidUpdate?[3,9]:[4,f.cacheDidUpdate(e,l,void 0,h)];case 8:g.sent(),g.label=9;case 9:return d--,[3,7];case 10:return[2,q]}})})};b.prototype.exists=function(a,b,c){return K(this,void 0,void 0,function(){var e;return L(this,function(g){switch(g.label){case 0:return[4,this.read(a,b,c)];case 1:return e=g.sent(),[2,!!e]}})})};b.prototype.cleanup=function(a){var b=this;this._isCacheTainted||(this._isCacheTainted=!0,t.queueTask(function(){return K(b,void 0,
void 0,function(){var c,b;return L(this,function(e){switch(e.label){case 0:return this._metricsService.count(a,"CacheEviction:Request"),[4,this._cleanupCache(a)];case 1:return b=(c=e.sent())?"Success":"Fail",this._metricsService.count(a,"CacheEviction:".concat(b)),this._metricsService.mark(a,"CacheEviction:".concat(b)),this._isCacheTainted=!1,[4,this._primeCache()];case 2:return e.sent(),[2]}})})}))};b.prototype._cleanupCache=function(a){return K(this,void 0,void 0,function(){var b,c;return L(this,
function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._swGlobal.caches.has(this._cacheFullNameWithVersion)];case 1:return(b=e.sent())?(this._cache=void 0,[2,this._swGlobal.caches.delete(this._cacheFullNameWithVersion)]):[3,3];case 2:return c=e.sent(),this._metricsService.error(a,c,this._errorLoggingScope,"ERROR"),this._metricsService.countError(a,c,this._errorLoggingScope),[2,!1];case 3:return[2,!0]}})})};b.prototype._read=function(a,b,c){return K(this,void 0,void 0,function(){var e,
h,d,f,l;return L(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this._getCache(a)];case 1:return e=g.sent(),[2,e.match(b,c)];case 2:throw h=g.sent(),d=y.matchesCodeOrSignature(h,"NetworkError",J.NETWORK_ERROR),f=y.matchesCode(h,"CacheTainted"),l=d||f,this._metricsService.error(a,h,this._errorLoggingScope,l?"ERROR":void 0),this._metricsService.countError(a,h,d?"".concat("NetworkError",":").concat(this._errorLoggingScope):this._errorLoggingScope),h;case 3:return[2]}})})};b.prototype._write=
function(a,b,c){return K(this,void 0,void 0,function(){var e,h,d,f,l,q,k;return L(this,function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),[4,t.nextTask()];case 1:g.sent();if("GET"!==b.method)throw r.create("RequestMethodNotGet",{method:b.method});e=E.parse(b.url);if(!e)throw r.create("InvalidURL",{url:b.url});h=e.protocol;if("http:"!==h&&"https:"!==h)throw r.create("RequestURLSchemeNonHTTP",{scheme:h});aa.validateIsUsable(c);aa.validateIsOK(c);return[4,this._getCache(a)];case 2:return d=
g.sent(),[4,d.put(b,c)];case 3:return g.sent(),[3,5];case 4:throw f=g.sent(),l=y.matchesCodeOrSignature(f,"NetworkError",J.NETWORK_ERROR),q=y.matchesCode(f,"CacheTainted"),k=l||q,this._metricsService.error(a,f,this._errorLoggingScope,k?"ERROR":void 0),this._metricsService.countError(a,f,l?"".concat("NetworkError",":").concat(this._errorLoggingScope):this._errorLoggingScope),f;case 5:return[2]}})})};b.prototype._evict=function(a,b,c){return K(this,void 0,void 0,function(){var e,h,d,f,l;return L(this,
function(g){switch(g.label){case 0:return g.trys.push([0,3,,4]),[4,t.nextTask()];case 1:return g.sent(),[4,this._getCache(a)];case 2:return e=g.sent(),[2,e.delete(b,c)];case 3:throw h=g.sent(),d=y.matchesCodeOrSignature(h,"NetworkError",J.NETWORK_ERROR),f=y.matchesCode(h,"CacheTainted"),l=d||f,this._metricsService.error(a,h,this._errorLoggingScope,l?"ERROR":void 0),this._metricsService.countError(a,h,d?"".concat("NetworkError",":").concat(this._errorLoggingScope):this._errorLoggingScope),h;case 4:return[2]}})})};
b.prototype._getCache=function(a){return K(this,void 0,void 0,function(){var b,c,g;return L(this,function(e){switch(e.label){case 0:if(this._isCacheTainted)throw r.create("CacheTainted",{cacheName:this._cacheFullNameWithVersion});if(this._cache)return[2,this._cache];b=I.getPerfNow();return[4,this._swGlobal.caches.open(this._cacheFullNameWithVersion)];case 1:return c=e.sent(),g="".concat(this._errorLoggingScope,":CacheOpen"),this._metricsService.mark(a,g,b),this._metricsService.tag(a,g),this._cache||
(this._cache=c),[2,this._cache]}})})};b.prototype._primeCache=function(){return K(this,void 0,void 0,function(){var a,b,c,g,h,d,f;return L(this,function(e){switch(e.label){case 0:a=ba.create(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._getCache(a)];case 2:return e.sent(),[3,4];case 3:return b=e.sent(),c=r.create("CacheOpen",{cacheName:this._cacheFullNameWithVersion},b),g=y.matchesSignature(b,J.UNEXPECTED_INTERNAL_ERROR),h=y.matchesCode(b,"CacheTainted"),d=y.matchesCodeOrSignature(b,"NetworkError",
J.NETWORK_ERROR),f=g||d||h,this._metricsService.error(a,c,this._errorLoggingScope,f?"ERROR":void 0),[3,4];case 4:return[2]}})})};b.prototype._cleanupOldCache=function(){var a=this,b=function(){return K(a,void 0,void 0,function(){var a,b,e;return L(this,function(c){switch(c.label){case 0:return[4,this._swGlobal.caches.keys()];case 1:a=c.sent(),b=0,c.label=2;case 2:if(!(b<a.length))return[3,5];e=a[b];return 0!==e.indexOf(this._cacheFullName)||e===this._cacheFullNameWithVersion?[3,4]:[4,this._swGlobal.caches.delete(e)];
case 3:c.sent(),c.label=4;case 4:return b++,[3,2];case 5:return[2]}})})};this._swGlobal.addEventListener("activate",function(a){a.waitUntil(b())})};b.prototype._toInternalRequest=function(a){a=F.encode("string"===typeof a?a:a.url);a="https://".concat(v.NAMESPACE_LCASE,"?key\x3d").concat(a);return new Request(a,{method:"GET"})};b.prototype._cloneResponse=function(a,b){try{return b.clone()}catch(c){throw b=r.wrap(c,"ResponseClone"),this._metricsService.error(a,b,this._errorLoggingScope),this._metricsService.countError(a,
b,this._errorLoggingScope),b;}};b.prototype._getInternalCacheQueryOptions=function(){return{ignoreMethod:!1,ignoreSearch:!1,ignoreVary:!0}};b._CACHE_NAME_PREFIX=v.NAMESPACE;A([k],b.prototype,"read",null);A([k],b.prototype,"write",null);A([k],b.prototype,"evict",null);A([k],b.prototype,"exists",null);A([k],b.prototype,"cleanup",null);A([k],b.prototype,"_cleanupCache",null);A([k],b.prototype,"_read",null);A([k],b.prototype,"_write",null);A([k],b.prototype,"_evict",null);A([k],b.prototype,"_getCache",
null);A([k],b.prototype,"_primeCache",null);A([k],b.prototype,"_cleanupOldCache",null);A([k],b.prototype,"_toInternalRequest",null);A([k],b.prototype,"_cloneResponse",null);A([k],b.prototype,"_getInternalCacheQueryOptions",null);return b}(u),pb;(function(f){var b=/(?:^|(?:\s*,\s*))([^\x00-\x20\(\)<>@,;:\\"\/\[\]\?=\{\}\x7F]+)(?:=(?:([^\x00-\x20\(\)<>@,;:\\"\/\[\]\?=\{\}\x7F]+)|(?:"((?:[^"\\]|\\.)*)")))?/g;f.parseCacheControl=function(a){var e={};a=a.get("cache-control");if(!a)return e;a.replace(b,
function(a,b,h,d){a=h||d;e[b]=a?a.toLowerCase():!0;return""});e["max-age"]&&(a=parseInt(e["max-age"],10),isNaN(a)?delete e["max-age"]:e["max-age"]=a);return e};f.hasLightsaberNoStore=function(a){return f.parseCacheControl(a.headers).hasOwnProperty("lightsaber-no-store")}})(pb||(pb={}));var Wa;(function(f){var b="x-amz-".concat(v.NAMESPACE_LCASE,"-");f.REQUEST_ID_OPF_HEADER="x-amz-rid";f.getLibHeader=function(a){return"".concat(b).concat(a).trim().toLowerCase()};f.getClientOnlyLibHeader=function(a){return"".concat(b,
"clientonly-").concat(a).trim().toLowerCase()};f.removeLibHeaders=function(a){return Ka.removeHeadersWithPrefix(a,b)}})(Wa||(Wa={}));var qb;(function(f){var b=Wa.getLibHeader("client-version");f.appendClientVersion=function(a){a.append(b,v.VERSION)}})(qb||(qb={}));var rb;(function(f){f.getSchema=function(b){return b.searchParams.get("schema")};f.getPayload=function(b){return b.searchParams.get("payload")};f.getClient=function(b){return b.searchParams.get("client")};f.getAttribution=function(b){return b.searchParams.get("attribution")}})(rb||
(rb={}));var sb;(function(f){f.getParamName=function(){return"lsskpint"};f.getParam=function(b){return b.searchParams.get("lsskpint")};f.setParam=function(b,a){b.searchParams.append("lsskpint",a)}})(sb||(sb={}));var w;(function(f){f.cacheControl=pb;f.clientInfo=qb;f.clientMessageAsFetch=rb;f.shared=Wa;f.skipIntercept=sb})(w||(w={}));var ld=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,
b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Ma=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,
b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},tb=function(f){function b(){var a=f.call(this)||this;a.logCtor(arguments);return a}ld(b,f);b.prototype.getName=function(){return this.NAME};b.prototype.getPrefixedHeaderName=function(a){return w.shared.getClientOnlyLibHeader(a)};b.prototype.encodeHeaderValue=function(a){return F.encode(D.serialize(a))};b.prototype.decodeHeaderValue=function(a){return(a=F.decode(a))?
D.deserialize(a):void 0};b.prototype.updateResponseHeaders=function(a,b){return new Response(a.body,{headers:b,status:a.status,statusText:a.statusText})};Ma([k],b.prototype,"getName",null);Ma([k],b.prototype,"getPrefixedHeaderName",null);Ma([k],b.prototype,"encodeHeaderValue",null);Ma([k],b.prototype,"decodeHeaderValue",null);Ma([k],b.prototype,"updateResponseHeaders",null);return b}(u),md=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Xa=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,
a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},bc=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):
c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},cc=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;
case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},
trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},nd=function(f){function b(){var a=f.call(this)||this;a.NAME="MaxAge";a.logCtor(arguments);a._header="".concat(f.prototype.getPrefixedHeaderName.call(a,a.NAME));return a}md(b,f);b.prototype.cacheWillUpdate=function(a,b,c){return bc(this,void 0,void 0,function(){var a,e;return cc(this,function(d){if(!b)return[2,b];a={startSeconds:this._getRequestStartTimestampSeconds(c),
deltaSeconds:this._getMaxAgeSeconds(c)};if(0>a.startSeconds||0>a.deltaSeconds)return[2];e=new Headers(b.headers||{});e.append(this._header,this.encodeHeaderValue(a));return[2,this.updateResponseHeaders(b,e)]})})};b.prototype.responseWillBeUsed=function(a,b,c){return bc(this,void 0,void 0,function(){var a,c,e,f;return cc(this,function(d){if(!b)return[2,b];a=b.headers.get(this._header);if(!a)return[2];c=this.decodeHeaderValue(a);if(!c||"number"!==typeof c.startSeconds||"number"!==typeof c.deltaSeconds)return[2];
e=c.startSeconds+c.deltaSeconds;f=I.getEpochSeconds();return e<f?[2]:[2,b]})})};b.prototype._getRequestStartTimestampSeconds=function(a){return a&&"number"===typeof a.requestStartTimestampSeconds?a.requestStartTimestampSeconds:-1};b.prototype._getMaxAgeSeconds=function(a){return a&&"number"===typeof a.maxAgeSeconds?a.maxAgeSeconds:-1};Xa([k],b.prototype,"cacheWillUpdate",null);Xa([k],b.prototype,"responseWillBeUsed",null);Xa([k],b.prototype,"_getRequestStartTimestampSeconds",null);Xa([k],b.prototype,
"_getMaxAgeSeconds",null);return b}(tb),od=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):
(e.prototype=a.prototype,new e)}}(),ub=this&&this.__assign||function(){ub=Object.assign||function(f){for(var b,a=1,e=arguments.length;a<e;a++){b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(f[c]=b[c])}return f};return ub.apply(this,arguments)},Na=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=
f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},dc=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},ec=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,
c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&
(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),
n},pd=function(f){function b(){var a=f.call(this)||this;a.NAME="ValidationKeys";a.logCtor(arguments);a._header="".concat(f.prototype.getPrefixedHeaderName.call(a,a.NAME));return a}od(b,f);b.prototype.cacheWillUpdate=function(a,b,c){return dc(this,void 0,void 0,function(){var a,e;return ec(this,function(d){if(!b)return[2,b];a=this._getKeysFromOptions(c);e=new Headers(b.headers||{});e.append(this._header,this.encodeHeaderValue(a));return[2,this.updateResponseHeaders(b,e)]})})};b.prototype.responseWillBeUsed=
function(a,b,c){return dc(this,void 0,void 0,function(){var a,e,d;return ec(this,function(g){if(!b)return[2,b];try{return a=this._getKeysFromResponse(b),e=this._getKeysFromOptions(c),d=this._doKeysMatch(a,e),[2,d?b:void 0]}catch(l){}return[2]})})};b.prototype._getKeysFromOptions=function(a){if(!a)return{};var b=a.validationKeys;if("object"!==typeof b||null===b)return{};Object.keys(b).forEach(function(a){var c=b[a];if(!("string"===typeof a&&"string"===typeof c&&0<a.length))throw r.create("InvalidKeyPair",
{key:a,value:c},void 0,"Key:value pairs must all be non-empty string:string");});return ub({},b)};b.prototype._getKeysFromResponse=function(a){a=a.headers.get(this._header);if(!a)return{};var b=this.decodeHeaderValue(a);if(b)return b;throw r.create("UnreadableHeader",{key:this._header,value:a});};b.prototype._doKeysMatch=function(a,b){return Object.keys(a).every(function(c){return b.hasOwnProperty(c)&&a[c]===b[c]})};Na([k],b.prototype,"cacheWillUpdate",null);Na([k],b.prototype,"responseWillBeUsed",
null);Na([k],b.prototype,"_getKeysFromOptions",null);Na([k],b.prototype,"_getKeysFromResponse",null);Na([k],b.prototype,"_doKeysMatch",null);return b}(tb),qd=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+
String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),vb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},rd=this&&this.__awaiter||function(f,
b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},sd=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:
a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=
d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},td=function(f){function b(){var a=f.call(this)||this;a.NAME="Metadata";a.logCtor(arguments);a._header="".concat(f.prototype.getPrefixedHeaderName.call(a,
a.NAME));return a}qd(b,f);b.prototype.cacheWillUpdate=function(a,b,c){return rd(this,void 0,void 0,function(){var a,e;return sd(this,function(d){if(!b)return[2,b];a={requestStartTimestampSeconds:this._getRequestStartTimestampSeconds(c),attribution:this._getAttribution(c)};e=new Headers(b.headers||{});e.append(this._header,this.encodeHeaderValue(a));return[2,this.updateResponseHeaders(b,e)]})})};b.prototype._getRequestStartTimestampSeconds=function(a){return a&&"number"===typeof a.requestStartTimestampSeconds?
a.requestStartTimestampSeconds:I.getEpochSeconds()};b.prototype._getAttribution=function(a){return a&&"string"===typeof a.attribution?a.attribution:"unknown"};vb([k],b.prototype,"cacheWillUpdate",null);vb([k],b.prototype,"_getRequestStartTimestampSeconds",null);vb([k],b.prototype,"_getAttribution",null);return b}(tb),ud=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,
b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),ca=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,
b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ya=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Za=this&&this.__generator||function(f,
b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-
1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&
(n[Symbol.iterator]=function(){return this}),n},vd=function(f){function b(a,b,c,g){var e=f.call(this)||this;e.logCtor(arguments);e._initCacheOperators(a,b,c);g.subscribe("CustomerContextChange",e,"sync");e._metricsService=b;return e}ud(b,f);b.prototype.read=function(a,b,c,g){return Ya(this,void 0,void 0,function(){return Za(this,function(e){return[2,this._getCacheOperator(b).read(a,c,g)]})})};b.prototype.write=function(a,b,c,g,h){return Ya(this,void 0,void 0,function(){return Za(this,function(e){return[2,
this._getCacheOperator(b).write(a,c,g,h)]})})};b.prototype.evict=function(a,b,c,g){return Ya(this,void 0,void 0,function(){return Za(this,function(e){return[2,this._getCacheOperator(b).evict(a,c,g)]})})};b.prototype.exists=function(a,b,c,g){return Ya(this,void 0,void 0,function(){return Za(this,function(e){return[2,this._getCacheOperator(b).exists(a,c,g)]})})};b.prototype.notifyEvent=function(a){var b=this;switch(a.name){case "CustomerContextChange":Object.keys(this._cacheOperators).forEach(function(c){b._cacheOperators[c].cleanup(a.detail.eventOptions)}),
this._logCacheEvictionMetricsOnCustomerContextChange(a.detail.options,a.detail.eventOptions)}};b.prototype._getCacheOperator=function(a){if(!this._cacheOperators[a])throw r.create("UnrecognizedCacheName",{name:a});return this._cacheOperators[a]};b.prototype._initCacheOperators=function(a,b,c){var e=this;this._validateNoDuplicateCaches(c);this._cacheOperators={};c.forEach(function(c){var d=c.name,g=c.version,h=c.dontCleanOldVersions,f=Array.isArray(c.plugins)?c.plugins.map(function(a){return e._createPluginInstance(a)}):
[];e._cacheOperators[c.name]=new kd(a,b,f,d,g,!h)})};b.prototype._createPluginInstance=function(a){switch(a){case "MaxAge":return new nd;case "ValidationKeys":return new pd;case "Metadata":return new td;default:throw r.create("UnrecognizedCachePlugin",{name:a});}};b.prototype._validateNoDuplicateCaches=function(a){var b={};a.forEach(function(a){if(b.hasOwnProperty(a.name))throw r.create("DuplicateCacheName",{name:a.name});b[a.name]=!0})};b.prototype._logCacheEvictionMetricsOnCustomerContextChange=
function(a,b){var c=this;a.changes.forEach(function(e){var g,d;c._metricsService.count(b,"CacheService:CacheEvictionOn:".concat(e));"lop"===e&&c._metricsService.count(b,"CacheService:CacheEvictionOn:".concat(e,":").concat(null===(g=a[e])||void 0===g?void 0:g.old,"_").concat(null===(d=a[e])||void 0===d?void 0:d.new))})};ca([k],b.prototype,"read",null);ca([k],b.prototype,"write",null);ca([k],b.prototype,"evict",null);ca([k],b.prototype,"exists",null);ca([k],b.prototype,"notifyEvent",null);ca([k],b.prototype,
"_getCacheOperator",null);ca([k],b.prototype,"_initCacheOperators",null);ca([k],b.prototype,"_createPluginInstance",null);ca([k],b.prototype,"_validateNoDuplicateCaches",null);return b}(u),wd=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==
typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),wb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&
g&&Object.defineProperty(b,a,g),g},fc=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},gc=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");
for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=
d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},$a=function(f){function b(a){var b=f.call(this)||this;b._customerContextService=
a;return b}wd(b,f);b.prototype.compute=function(a){return fc(this,void 0,void 0,function(){var b,c,g,h,d=this;return gc(this,function(e){switch(e.label){case 0:return b=a.map(function(a){return d._getValueForKey(a)}),[4,Promise.all(b)];case 1:c=e.sent();g={};for(h=0;h<a.length;h++)g[a[h]]=c[h];return[2,g]}})})};b.prototype._getValueForKey=function(a){return fc(this,void 0,void 0,function(){var b,c,g,h;return gc(this,function(e){switch(a){case "clientlibversion":return[2,v.VERSION];case "session":return b=
this._customerContextService.getSessionId(),[2,this._getValueOrUnknown(b)];case "recognition":return c=this._customerContextService.getDirectedCustomerId(),[2,this._getValueOrUnknown(c)];case "language":return g=this._customerContextService.getLanguage(),[2,this._getValueOrUnknown(g)];case "appversion":return h=this._customerContextService.getAppVersion(),[2,this._getValueOrUnknown(h)];default:throw r.create("UnrecognizedCacheValidationKey",{key:a});}})})};b.prototype._getValueOrUnknown=function(a){return"string"===
typeof a&&0<a.length?a:"unknown"};wb([k],b.prototype,"compute",null);wb([k],b.prototype,"_getValueForKey",null);wb([k],b.prototype,"_getValueOrUnknown",null);return b}(u),xd=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+
String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),yd=function(f){function b(){return null!==f&&f.apply(this,arguments)||this}xd(b,f);return b}(u),zd=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=
b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),hc=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||
g;return 3<c&&g&&Object.defineProperty(b,a,g),g},ic=function(f){function b(a,b,c){void 0===b&&(b=!0);void 0===c&&(c=!0);var e=f.call(this)||this;e.logCtor(arguments);e._pattern=a;e._stripRefMarkers=b;e._stripLanguageFolder=c;return e}zd(b,f);b.prototype.match=function(a,b,c){return(a=E.parse(a.url))?this._pattern.test(this._getNormalizedPath(a.pathname)):!1};b.prototype._getNormalizedPath=function(a){this._stripRefMarkers&&(a=Da.stripRefMarkersFromPath(a));this._stripLanguageFolder&&(a=Da.stripLanguageFolderFromPath(a));
return a};hc([k],b.prototype,"match",null);hc([k],b.prototype,"_getNormalizedPath",null);return b}(yd),Ad=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),ab=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},xb=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof
a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},yb=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),
0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();
continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},zb=function(f){function b(a,b,c){var e=f.call(this)||this;e.logCtor(arguments);e._url=a;e._requestInit=b;e._libVersionHeader=c;return e}Ad(b,f);b.prototype.getResponse=function(){return xb(this,
void 0,void 0,function(){var a,b;return yb(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,fetch(this._url,this._getRequestInit(this._requestInit))];case 1:return a=c.sent(),[3,3];case 2:throw b=c.sent(),r.wrap(b,"FailedToFetch",{url:this._url,requestInit:this._requestInit});case 3:if("opaqueredirect"===a.type)throw r.create("ResponseOpaqueRedirect",{url:a.url,status:a.status});if(!a.ok)throw r.create("ResponseNotOK",{url:a.url,status:a.status});return[2,a]}})})};b.prototype.getResponseText=
function(){return xb(this,void 0,void 0,function(){var a;return yb(this,function(b){switch(b.label){case 0:return[4,this.getResponse()];case 1:return a=b.sent(),[2,a.text()]}})})};b.prototype.getResponseJson=function(){return xb(this,void 0,void 0,function(){var a,b,c;return yb(this,function(e){switch(e.label){case 0:return[4,this.getResponse()];case 1:a=e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,a.json()];case 3:return b=e.sent(),[3,5];case 4:throw c=e.sent(),r.wrap(c,"ResponseNotJSON",
{url:a.url});case 5:return[2,b]}})})};b.prototype._getRequestInit=function(a){a=a||{};a.method||(a.method="GET");if(this._libVersionHeader){var b=new Headers(a.headers||{});w.clientInfo.appendClientVersion(b);a.headers=b}return a};ab([k],b.prototype,"getResponse",null);ab([k],b.prototype,"getResponseText",null);ab([k],b.prototype,"getResponseJson",null);ab([k],b.prototype,"_getRequestInit",null);return b}(u),Bd=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),la=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,
a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ab=this&&this.__awaiter||function(f,b,a,e){function c(c){return c instanceof a?c:new a(function(a){a(c)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):
c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Bb=this&&this.__generator||function(f,b){function a(a){return function(c){return e([a,c])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;
case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},
trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Cd=function(f){function b(a,b,c,g){var e=f.call(this)||this;e.logCtor(arguments);e._swGlobal=a;e._customerContextService=b;e._cacheService=c;e._metricsService=g;e._errorLoggingScope="PrefetchExecutor";return e}Bd(b,f);b.prototype.prefetch=function(a,b,c){return Ab(this,void 0,void 0,function(){var e,h,d,f,l,q,k,p,r,v,u,Ea,U,Oa,w,x,z;return Bb(this,function(g){switch(g.label){case 0:return e=
b.prefetch,h=e.endpoint,d=e.mode,f=e.delay,[4,t.wait(1E3*f)];case 1:g.sent();l=a.storage;q=l.cacheName;k=l.cacheKey;p=l.validationKeys;if("cache-miss"!==d)return[3,5];g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this._exists(q,k,p,c)];case 3:return(r=g.sent())?[2,{ok:!1,exitCode:"Exists"}]:[3,5];case 4:return g.sent(),[2,{ok:!1,exitCode:"CacheError"}];case 5:return[4,this._hasPrefetchCredit()];case 6:v=g.sent();if(!v)return[2,{ok:!1,exitCode:"NoCredit"}];u=this._getPrefetchURL(h,a.name,b.label);
if(!u)return[2,{ok:!1,exitCode:"InvalidURL"}];Ea=I.getEpochSeconds();g.label=7;case 7:return g.trys.push([7,9,,10]),[4,(new zb(u,this._getPrefetchRequestInit())).getResponse()];case 8:return U=g.sent(),[2,{ok:!0,requestStartTimestampSeconds:Ea,response:U}];case 9:return Oa=g.sent(),w=y.matchesCode(Oa,"FailedToFetch"),x=y.matchesCodeOrSignature(Oa,"NetworkError",J.NETWORK_ERROR),this._metricsService.error(c,Oa,this._errorLoggingScope,w||x?"ERROR":void 0),z=this._errorLoggingScope,x?z="".concat("NetworkError",
":").concat(this._errorLoggingScope):w&&(z="".concat("FailedToFetch",":").concat(this._errorLoggingScope)),this._metricsService.countError(c,Oa,z),[2,{ok:!1,exitCode:"NetworkError"}];case 10:return[2]}})})};b.prototype._exists=function(a,b,c,g){return Ab(this,void 0,void 0,function(){var e,d,f,l;return Bb(this,function(h){switch(h.label){case 0:return d=(e=this._cacheService).exists,f=[g,a,b],l={},[4,(new $a(this._customerContextService)).compute(c)];case 1:return[2,d.apply(e,f.concat([(l.validationKeys=
h.sent(),l)]))]}})})};b.prototype._hasPrefetchCredit=function(){return Ab(this,void 0,void 0,function(){return Bb(this,function(a){return[2,!0]})})};b.prototype._getPrefetchURL=function(a,e,c){if(a=E.parse(a,this._swGlobal.location.href)){var g=this._getPageShellClass(a);this._addQueryParam(a,b._QUERY_PARAM_PAGE_SHELL,g);this._addQueryParam(a,b._QUERY_PARAM_CACHE_POP_RULE,e);this._addQueryParam(a,b._QUERY_PARAM_CACHE_POP_RULE_TRIGGER,c);this._addQueryParam(a,b._QUERY_PARAM_REF_TAG,this._getRefTag(g,
e,c),!1);return a.href}};b.prototype._addQueryParam=function(a,b,c,g){void 0===g&&(g=!0);g&&a.searchParams.delete(b);a.searchParams.append(b,c)};b.prototype._getPageShellClass=function(a){a=a.searchParams.get(b._QUERY_PARAM_PAGE_SHELL);a||(a=b._PAGE_SHELL_TYPE_DEFAULT);return a};b.prototype._getRefTag=function(a,e,c){return"".concat(b._REF_TAG_PREFIX,"_").concat(a.substr(0,16).toLocaleLowerCase(),"_").concat(e.substr(0,16).toLocaleLowerCase(),"_").concat(c.substr(0,16).toLocaleLowerCase())};b.prototype._getPrefetchRequestInit=
function(){return{method:"GET",mode:"same-origin",credentials:"same-origin",redirect:"error",headers:{accept:"text/html,application/xhtml+xml,*/*;q\x3d0.9"}}};b._QUERY_PARAM_PAGE_SHELL="ls_pg_sh";b._QUERY_PARAM_CACHE_POP_RULE="ls_cp_rl";b._QUERY_PARAM_CACHE_POP_RULE_TRIGGER="ls_cp_rl_tr";b._QUERY_PARAM_REF_TAG="ref_";b._PAGE_SHELL_TYPE_DEFAULT="default";b._REF_TAG_PREFIX=v.NAMESPACE_SHORT;la([k],b.prototype,"prefetch",null);la([k],b.prototype,"_exists",null);la([k],b.prototype,"_hasPrefetchCredit",
null);la([k],b.prototype,"_getPrefetchURL",null);la([k],b.prototype,"_addQueryParam",null);la([k],b.prototype,"_getPageShellClass",null);la([k],b.prototype,"_getRefTag",null);la([k],b.prototype,"_getPrefetchRequestInit",null);return b}(u),Dd=function(f){return G.div([G.style('body,html{font-family:"Amazon Ember",Arial,sans-serif;background:#fff}.main{position:fixed;bottom:0;left:0;right:0;padding:50px 0;text-align:center}.main-image{width:50%}.subline{font-size:.75rem;color:#999;margin:10px 0}.button{display:block;font-size:1rem;padding:10px;width:80%;margin:10px auto;border:1px solid #ccc;border-radius:5px;box-shadow:0 3px 0 #ccc;background:#fff}.button:active{border-color:#12626d;background-color:#edfcff}.hidden{display:none}'),
'\x3cdiv class\x3d"main hidden" id\x3d"fallback-content-container"\x3e\x3cimg class\x3d"main-image" src\x3d"data:image/jpeg;base64,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"\x3e\x3ch3 class\x3d"headline"\x3eOOPS!\x3c/h3\x3e\x3ch3 class\x3d"headline"\x3eSomething went wrong.\x3c/h3\x3e\x3cbutton class\x3d"button" id\x3d"try-again"\x3eTRY AGAIN\x3c/button\x3e\x3cp class\x3d"subline"\x3eCS2. Error occurred of type S-2.\x3c/div\x3e',
G.script('!function(e,r){"use strict";var t\x3de.failingUrl,n\x3de.referrerUrl,o\x3de.errorCode,a\x3de.description,c\x3de.fallbackContentTimeout;r.setTimeout(function(){var e\x3ddocument.getElementById("fallback-content-container");if(e){var t\x3ddocument.getElementById("try-again");t\x26\x26t.addEventListener("click",function(){r.location.reload()}),e.classList.remove("hidden")}},c),r.appErrorWebAppInterface\x26\x26"function"\x3d\x3dtypeof r.appErrorWebAppInterface.showError\x26\x26(r.appErrorWebAppInterface.called\x3d!0,r.appErrorWebAppInterface.showError(t,o,a,n))}(model,window);',
f)].join("\n"))},Ed=function(f){return G.script('!function(e,t){"use strict";function n(e){t.ue\x26\x26"function"\x3d\x3dtypeof t.ue.tag\x26\x26t.ue.tag(e)}function a(e){return[o,"Page"].concat(e).join(":").toLowerCase()}var o\x3de.namespace;try{var c\x3de.globalObjectName,r\x3de.contentFragmentName,m\x3de.contentFragmentData;c\x26\x26(t[c]\x3dt[c]||{},t[c].contentFragments\x3dt[c].contentFragments||{},t[c].contentFragments[r]\x3dm);var g\x3d"lightsaber:content-fragment:model:"+r,l\x3d{bubbles:!0,cancelable:!1,detail:m},i\x3dnew CustomEvent(g,l);t.dispatchEvent(i);var u\x3dt.AmazonUIPageJS?t.AmazonUIPageJS:t.P;u\x26\x26"function"\x3d\x3dtypeof u.declare\x26\x26u.declare(g,m)}catch(s){n(a(["ContentFragment","Model","Fail"]))}}(model,window);',
f)},Fd=function(f){return G.script('!function(t,e){"use strict";function i(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function o(t){for(var e\x3ddocument.cookie?document.cookie.split(";"):[],o\x3d0;o\x3ce.length;o++){var n\x3de[o].trim().split("\x3d"),r\x3di(n[0]);if(t\x3d\x3d\x3dr){var u\x3dn.slice(1).join("\x3d");return i(u)}}}function n(t){return[s,"Page","CsmReset"].concat(t).join(":").toLowerCase()}function r(t){e.ue\x26\x26"function"\x3d\x3dtypeof e.ue.tag\x26\x26e.ue.tag(t)}function u(i,o){return e.csa\x26\x26"function"\x3d\x3dtypeof e.csa?(e.csa("Config",{"CacheDetection.RequestID":i}),e.csa("Events")("setEntity",{page:{requestId:i},session:{id:o}}),void r(n([t.attribution,"OK","CSA"]))):void r(n([t.attribution,"Fail","CSA"]))}function a(i,o){return e.ue\x26\x26"function"\x3d\x3dtypeof e.ue.reset?(e.ue.reset(i,o,s.toLowerCase()),"string"\x3d\x3dtypeof e.ue.oid\x26\x26e.ue.oid!\x3d\x3di\x26\x26(e.ue.oid\x3di),void r("T1"\x3d\x3d\x3dt.treatment?n([t.attribution,"OK","UE"]):n(["OK"]))):void r(n("T1"\x3d\x3d\x3dt.treatment?[t.attribution,"Fail","UE"]:["Fail","API"]))}var s\x3dt.namespace,c\x3dt.requestId;if(!c)return void r(n(["Fail","RID"]));var d\x3do("session-id");return d?(a(c,d),void u(c,d)):void r(n(["Fail","SID"]))}(model,window);',
f)},Gd=function(f){return G.div([G.style("#lightsaber-debug-info-container{display:none;padding:10px;background:#cfcfcf;border-top:1px solid #d6d6d6;position:fixed;bottom:0;left:0;right:0;max-height:300px;overflow:scroll;z-index:9999}#lightsaber-debug-info-learn-more{display:block;text-decoration:none}#lightsaber-debug-info-metadata-container{display:block;background:#d6d6d6;border:1px dashed #666;margin:10px 0 0;padding:10px;overflow:scroll}#lightsaber-debug-info-close-btn{position:absolute;top:10px;right:10px;cursor:pointer;color:#900}"),
'\x3cdiv id\x3d"lightsaber-debug-info-container"\x3e\x3ch4 id\x3d"lightsaber-debug-info-title"\x3eLightsaber Debug Info\x3c/h4\x3e\x3ca id\x3d"lightsaber-debug-info-learn-more" href\x3d"#" target\x3d"_blank" rel\x3d"noopener noreferrer"\x3eLearn More\x3c/a\x3e\x3cpre id\x3d"lightsaber-debug-info-metadata-container"\x3e\x3c/pre\x3e\x3cdiv id\x3d"lightsaber-debug-info-close-btn"\x3e[X]\x3c/div\x3e\x3c/div\x3e',G.script('!function(e,t){"use strict";function n(e){console.debug("["+o+" Debug]",e)}var o\x3de.namespace,r\x3ddocument.querySelector("#lightsaber-debug-info-container"),i\x3ddocument.querySelector("#lightsaber-debug-info-metadata-container"),c\x3ddocument.querySelector("#lightsaber-debug-info-close-btn"),u\x3ddocument.querySelector("#lightsaber-debug-info-learn-more");if(!(r\x26\x26i\x26\x26c\x26\x26u))return void n("Encountered unexpected DOM issue for Debug Tool, exiting...");u.setAttribute("href",e.learnMoreLink);var l\x3dt[e.globalObjectName];i.textContent\x3de.globalObjectName+" \x3d "+JSON.stringify(l,void 0,2),c.addEventListener("click",function(){r.remove()}),r.style.display\x3d"block"}(model,window);',
f)].join("\n"))},Hd=function(f){return G.style(f.stylesheetContent)},Id=function(f){return G.script('!function(e,t){"use strict";function a(e){t.ue\x26\x26"function"\x3d\x3dtypeof t.ue.tag\x26\x26t.ue.tag(e)}function n(e,a){t.ue\x26\x26"function"\x3d\x3dtypeof t.ue.count\x26\x26t.ue.count(e,a)}function i(e){return[r,"Page"].concat(e).join(":").toLowerCase()}var r\x3de.namespace;try{var c\x3d!!e.hit,o\x3de.meta,u\x3de.globalObjectName,f\x3de.pModulePrefix;u\x26\x26(t[u]\x3dt[u]||{},t[u].hit\x3dc,t[u].meta\x3do),t.P\x26\x26t.P.declare\x26\x26(t.P.declare(f+"hit",c),t.P.declare(f+"meta",o));var m\x3do.navigationRule,g\x3do.responseStrategy,l\x3do.fetchEventTimeOrigin,p\x3dt.performance\x26\x26(performance.timeOrigin||performance.timing.navigationStart);if(!(m\x26\x26g\x26\x26g.name\x26\x26l\x26\x26p))return;a(i(["Hit"]));var v\x3do.fetchEventTimeOrigin-p;n(i([m,g.name,"SWFetchDelta"]),v)}catch(d){a(i(["Metadata","Fail"]))}}(model,window);',
f)},Jd=function(f){return G.script('!function(e,a){"use strict";function n(e){try{var a\x3dnew URL(o),n\x3da.searchParams.get(s),r\x3dn?n+"_"+e:e;return a.searchParams.set(s,r),a.href}catch(t){return o}}function r(){m\x3d!0,c?a.location.replace(n("vlr")):a.location.assign(n("vla"))}function t(){var e\x3da.AmazonUIPageJS?a.AmazonUIPageJS:a.P,t\x3de\x26\x26"function"\x3d\x3dtypeof e.when;if(!t)return void r();var o\x3da.setTimeout(r,u);e.when("mash").execute(function(e){m||(a.clearTimeout(o),c?e.navstack.begin().replace({url:n("vmr")}).end():e.navigate({url:n("vmn")}))})}var o\x3de.url,c\x3de.replaceHistory,i\x3de.useMash,u\x3de.mashTimeout,s\x3de.tagParamName,m\x3d!1;i?t():r()}(model,window);',
f)},Kd=function(f){return G.script('!function(e,o){"use strict";if(o.performance\x26\x26o.ue\x26\x26"function"\x3d\x3dtypeof o.ue.count){var n\x3do.performance.now(),c\x3d[e.namespace,"Page"].concat(e.counter).join(":").toLowerCase();o.ue.count(c,n)}}(model,window);',f)},jc=function(f){return G.script('!function(e,t){"use strict";function n(e){return[a,"Page","PModule"].concat(e).join(":").toLowerCase()}function o(e,n){t.ue\x26\x26"function"\x3d\x3dtypeof t.ue.count\x26\x26t.ue.count(e,n)}function r(e){return"function"\x3d\x3dtypeof e}var a\x3de.namespace,s\x3dt.AmazonUIPageJS?t.AmazonUIPageJS:t.P;s\x26\x26"function"\x3d\x3dtypeof s.register\x26\x26e.markers.forEach(function(e){try{s.register(e),s.when(e).execute(function(){var n\x3d"lightsaber:page:pmodule:"+e;r(t.uex)\x26\x26t.uex("ld",n,{wb:1})})}catch(a){var u\x3da\x26\x26a.message\x26\x26"string"\x3d\x3dtypeof a.message\x26\x26r(a.message.toLowerCase)\x26\x26r(a.message.indexOf);if(u\x26\x26-1!\x3d\x3da.message.toLowerCase().indexOf("already registered"))return void o(n(["ReRegister",e]),1);throw a}})}(model,window);',
f)},Ld=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),
bb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Md=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}
function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Nd=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;
case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:
void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},sa=function(f){function b(a,b){var c=f.call(this)||this;c.logCtor(arguments);c.eventOptions=a;c.metricsService=b;return c}Ld(b,f);b.prototype.getResponse=function(){return Md(this,void 0,void 0,function(){var a;return Nd(this,function(b){try{return this.metricsService.count(this.eventOptions,
"Transmog:Use:".concat(this.NAME)),[2,this.transmog()]}catch(c){throw a=r.wrap(c,"Transmog",void 0,'Unexpected error while running "'.concat(this.NAME,'" transmog')),this.metricsService.error(this.eventOptions,a,this.getErrorLoggingScope()),this.metricsService.countError(this.eventOptions,a,this.getErrorLoggingScope()),a;}})})};b.prototype.getInit=function(a,b,c){void 0===a&&(a=200);return{status:a,statusText:b,headers:Ka.getCommonHTMLHeaders(c)}};b.prototype.renderTemplate=function(a,b){try{var c=
a(b).trim()}catch(g){a=r.wrap(g,"TemplateRender",{view:a,model:b},'Template render failed while running "'.concat(this.NAME,'" transmog')),this.metricsService.error(this.eventOptions,a,this.getErrorLoggingScope()),this.metricsService.countError(this.eventOptions,a,this.getErrorLoggingScope()),c="\x3c!-- ".concat(a," --\x3e")}return T.isDebug?["","\x3c!-- ".concat(v.NAMESPACE,":Feature:").concat(this.NAME," --\x3e"),c,"\x3c!-- ".concat(v.NAMESPACE,":EndFeature:").concat(this.NAME," --\x3e"),""].join("\n"):
c};b.prototype.getErrorLoggingScope=function(){return"".concat(this.NAME,"ResponseTransmog")};bb([k],b.prototype,"getResponse",null);bb([k],b.prototype,"getInit",null);bb([k],b.prototype,"renderTemplate",null);bb([k],b.prototype,"getErrorLoggingScope",null);return b}(u),Od=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,
a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),cb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-
1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Cb=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Db=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,
b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&
(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),
n},Pd=function(f){function b(a,b,c,g,h){var e=f.call(this,a,b)||this;e.NAME="ContentFragment";e.logCtor(arguments);e._name=c;e._serializableData=h;e._predefinedContent=g;e._textEncoder=new TextEncoder;return e}Od(b,f);b.prototype.transmog=function(){return Cb(this,void 0,void 0,function(){return Db(this,function(a){return[2,new Response(this._getOutputStream(),this.getInit())]})})};b.prototype._getOutputStream=function(){var a=this;return new ReadableStream({start:function(b){return Cb(a,void 0,void 0,
function(){return Db(this,function(a){switch(a.label){case 0:return[4,this._toOutputStream(this._predefinedContent,b)];case 1:return a.sent(),[4,this._toOutputStream(this._getWrappedSerializedData(),b)];case 2:return a.sent(),b.close(),[2]}})})}})};b.prototype._toOutputStream=function(a,b){return Cb(this,void 0,void 0,function(){var c;return Db(this,function(e){switch(e.label){case 0:return"string"===typeof a?(c=this._textEncoder.encode(a),b.enqueue(c),[2]):a.body instanceof ReadableStream?[4,Ca.drain(a.body,
function(a){b.enqueue(a)})]:[2];case 1:return e.sent(),[2]}})})};b.prototype._getWrappedSerializedData=function(){try{var a=ra.deep.json(this._serializableData)}catch(e){this.metricsService.countError(this.eventOptions,r.create("SerializationFailed"),this.getErrorLoggingScope()),a={}}return this.renderTemplate(Ed,{namespace:v.NAMESPACE,globalObjectName:"$".concat(v.NAMESPACE),contentFragmentName:this._name,contentFragmentData:a})};cb([k],b.prototype,"transmog",null);cb([k],b.prototype,"_getOutputStream",
null);cb([k],b.prototype,"_toOutputStream",null);cb([k],b.prototype,"_getWrappedSerializedData",null);return b}(sa),Qd=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Eb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},ta=function(f){function b(a,b,c,g){void 0===g&&(g=!0);var e=f.call(this,
a,b)||this;e.logCtor(arguments);aa.validateIsUsable(c);g&&aa.validateIsOK(c);e._source=e._getClonedResponse(c);return e}Qd(b,f);b.prototype.getSource=function(a){void 0===a&&(a=!1);if(!this._source)throw r.create("ResponseInvalid");return a?this._source:this._getClonedResponse(this._source)};b.prototype.getSourceInit=function(){if(!this._source)throw r.create("ResponseInvalid");return this.getInit(this._source.status,this._source.statusText,this._source.headers)};b.prototype._getClonedResponse=function(a){try{return a.clone()}catch(e){throw a=
r.wrap(e,"ResponseClone"),this.metricsService.error(this.eventOptions,a,this.getErrorLoggingScope()),this.metricsService.countError(this.eventOptions,a,this.getErrorLoggingScope()),a;}};Eb([k],b.prototype,"getSource",null);Eb([k],b.prototype,"getSourceInit",null);Eb([k],b.prototype,"_getClonedResponse",null);return b}(sa),Rd=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Fb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,
b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Sd=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Td=this&&this.__generator||function(f,
b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-
1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&
(n[Symbol.iterator]=function(){return this}),n},Ud=function(f){function b(a,b,c,g){var e=f.call(this,a,b,c)||this;e.NAME="EagerLoadJSMarker";e.markers=g;e.logCtor(arguments);return e}Rd(b,f);b.prototype.transmog=function(){return Sd(this,void 0,void 0,function(){var a,b;return Td(this,function(c){switch(c.label){case 0:return a=this.getSource(),[4,a.text()];case 1:return b=c.sent(),[2,new Response(this._getHTML(b),this.getSourceInit())]}})})};b.prototype._getHTML=function(a){a=this._replaceMarkers(a);
return a+=this.renderTemplate(jc,{markers:this.markers.map(function(a){return"".concat(a,".").concat(v.NAMESPACE_LCASE)})})};b.prototype._replaceMarkers=function(a){var b=this,c=a;this.markers.forEach(function(a){try{var e=new RegExp(nb.escapeRegExp(b._getAUILoaderWithMarkerString(a)),"g");c=c.replace(e,b._getAUILoaderWithMarkerString("".concat(a,".").concat(v.NAMESPACE_LCASE)))}catch(d){a=r.create("EagerLoadJSMarkerReplacementFailed",a,d),b.metricsService.error(b.eventOptions,a,b.NAME)}});return c};
b.prototype._getAUILoaderWithMarkerString=function(a){return b.AUI_JS_LOADER_PREFIX+a+b.AUI_JS_LOADER_SUFFIX};b.AUI_JS_LOADER_PREFIX="(window.AmazonUIPageJS ? AmazonUIPageJS : P).when('";b.AUI_JS_LOADER_SUFFIX="').execute(function() {";Fb([k],b.prototype,"transmog",null);Fb([k],b.prototype,"_getHTML",null);Fb([k],b.prototype,"_replaceMarkers",null);return b}(ta),Vd=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),kc=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Gb=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,
b||[])).next())})},Hb=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();
continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n=
{next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Wd=function(f){function b(a,b,c){var e=f.call(this,a,b,c)||this;e.NAME="InlinedStylesheet";e.logCtor(arguments);return e}Vd(b,f);b.prototype.transmog=function(){return Gb(this,void 0,void 0,function(){var a,e,c,g,h,d=this;return Hb(this,function(f){switch(f.label){case 0:return a=this.getSource(),[4,a.text()];case 1:e=f.sent(),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,ia.replaceAsync(e,
b.NEEDLE_PATTERN,function(a,b){return Gb(d,void 0,void 0,function(){return Hb(this,function(a){return[2,this._getInlinedStyles(b)]})})})];case 3:return c=f.sent(),[3,5];case 4:return g=f.sent(),h=y.matchesCode(g,"FailedToFetch"),this.metricsService.error(this.eventOptions,g,this.getErrorLoggingScope(),h?"ERROR":void 0),this.metricsService.countError(this.eventOptions,g,h?"".concat("FailedToFetch",":").concat(this.getErrorLoggingScope()):this.getErrorLoggingScope()),c=e,[3,5];case 5:return[2,new Response(c,
this.getSourceInit())]}})})};b.prototype._getInlinedStyles=function(a){return Gb(this,void 0,void 0,function(){var b;return Hb(this,function(c){switch(c.label){case 0:return[4,(new zb(a)).getResponseText()];case 1:return b=c.sent(),[2,this.renderTemplate(Hd,{stylesheetUrl:a,stylesheetContent:b})]}})})};b.NEEDLE_PATTERN=/<link.+rel="stylesheet".+href="([^"]+)".*\/>/gi;kc([k],b.prototype,"transmog",null);kc([k],b.prototype,"_getInlinedStyles",null);return b}(ta),Xd=this&&this.__extends||function(){var f=
function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Yd=this&&this.__decorate||function(f,b,a,e){var c=
arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Zd=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}
function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},$d=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;
h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];
return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};(function(f){function b(a,b,c,g){var e=f.call(this,a,b,c)||this;e.NAME="PatternReplace";e.patternReplacementList=g;e.logCtor(arguments);return e}Xd(b,f);b.prototype.transmog=function(){return Zd(this,void 0,void 0,function(){var a,b,c;return $d(this,function(e){switch(e.label){case 0:return a=this.getSource(),[4,a.text()];case 1:return b=
e.sent(),c=this._getHTML(b),[2,new Response(c,this.getSourceInit())]}})})};b.prototype._getHTML=function(a){var b=a;this.patternReplacementList.forEach(function(a){b=b.replace(a.pattern,a.replacement)});return b};Yd([k],b.prototype,"transmog",null);return b})(ta);var ae=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,
a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),lc=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-
1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},be=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},ce=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,
b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&
(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),
n},de=function(f){function b(a,b,c){var e=f.call(this,a,b,c)||this;e.NAME="ShoppingPortalLoadJSMarker";e.logCtor(arguments);return e}ae(b,f);b.prototype.transmog=function(){return be(this,void 0,void 0,function(){var a,b;return ce(this,function(c){switch(c.label){case 0:return a=this.getSource(),[4,a.text()];case 1:return b=c.sent(),[2,new Response(this._getHTML(b),this.getSourceInit())]}})})};b.prototype._getHTML=function(a){a=a.replace(b.LOAD_JS_PATTERN,b.LOAD_JS_REPLACER).replace(b.CRIT_LOAD_JS_PATTERN,
b.CRIT_LOAD_JS_REPLACER);return a+=this.renderTemplate(jc,{markers:[b.LOAD_JS_REPLACER,b.CRIT_LOAD_JS_REPLACER]})};b.LOAD_JS_PATTERN=/\bsp\.load\.js\b/g;b.LOAD_JS_REPLACER="sp.load.js.".concat(v.NAMESPACE_LCASE);b.CRIT_LOAD_JS_PATTERN=/\bsp\.load\.critical\.js\b/g;b.CRIT_LOAD_JS_REPLACER="sp.load.critical.js.".concat(v.NAMESPACE_LCASE);lc([k],b.prototype,"transmog",null);lc([k],b.prototype,"_getHTML",null);return b}(ta),ee=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Ib=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?
e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},fe=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}
function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},ge=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;
h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];
return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},he=function(f){function b(a,b,c,g){var e=f.call(this,a,b,c)||this;e.NAME="SyntheticRequestId";e._useStaticRID=!!g;e.logCtor(arguments);return e}ee(b,f);b.prototype.transmog=function(){return fe(this,void 0,void 0,function(){var a,e,c,g,h,d;return ge(this,function(f){switch(f.label){case 0:a=this.getSource();e=a.headers.get(w.shared.REQUEST_ID_OPF_HEADER);
if(!e)return[2,new Response(a.body,this.getSourceInit())];c=this._useStaticRID?b.STATIC_RID:"".concat(b.SYNTHETIC_PREFIX).concat(ia.generateRandomSequence(b.SEQUENCE_LENGTH,b.SEQUENCE_RADIX)).toUpperCase();return[4,a.text()];case 1:return g=f.sent(),h=this._getHTML(g,e,c),d=this._getResponseInit(e,c),[2,new Response(h,d)]}})})};b.prototype._getHTML=function(a,b,c){b=new RegExp("".concat(b),"g");return a.replace(b,c)};b.prototype._getResponseInit=function(a,b){var c=this.getSourceInit();c.headers instanceof
Headers&&(c.headers.append(w.shared.getLibHeader("original-rid"),a),c.headers.delete(w.shared.REQUEST_ID_OPF_HEADER),c.headers.append(w.shared.REQUEST_ID_OPF_HEADER,b));return c};b.SYNTHETIC_PREFIX=v.NAMESPACE_UCASE;b.SEQUENCE_LENGTH=20-b.SYNTHETIC_PREFIX.length;b.SEQUENCE_RADIX=36;b.STATIC_RID=b.SYNTHETIC_PREFIX+"0".repeat(b.SEQUENCE_LENGTH);Ib([k],b.prototype,"transmog",null);Ib([k],b.prototype,"_getHTML",null);Ib([k],b.prototype,"_getResponseInit",null);return b}(ta),ie=this&&this.__extends||function(){var f=
function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),je=this&&this.__decorate||function(f,b,a,e){var c=
arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},ke=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}
function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},le=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;
h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];
return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},mc=function(f){function b(a,b,c){var e=f.call(this,a,b)||this;e.NAME="DebugInfo";e.logCtor(arguments);e._pageUrl=c;return e}ie(b,f);b.prototype.transmog=function(){return ke(this,void 0,void 0,function(){var a,b,c;return le(this,function(e){a=E.parse(this._pageUrl);b="".concat(v.NAMESPACE_LCASE,"Debug");c=!!a&&a.searchParams.has(b)&&T.isDebug;
return[2,new Response(c?this.renderTemplate(Gd,{namespace:v.NAMESPACE,globalObjectName:"$".concat(v.NAMESPACE),learnMoreLink:v.HELP_LINK}):"",this.getInit())]})})};je([k],b.prototype,"transmog",null);return b}(sa),me=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=
b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),ua=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||
g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Jb=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Kb=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");
for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=
d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},nc=function(f){function b(a,b,c,g,h,d,n){var e=f.call(this,a,b,c)||this;e.logCtor(arguments);
e.needle=g;e.needleLength=g.length;e.needleHeaderKey=h;e.inclusive=d;e.needleWasFound=!1;e.buffer="";e._drainBufferAtEnd=n;e._textEncoder=new TextEncoder;e._textDecoder=new TextDecoder("utf-8",{fatal:!0});return e}me(b,f);b.prototype.transmog=function(){return Jb(this,void 0,void 0,function(){var a,b;return Kb(this,function(c){a=this.getSource();b=a.body;return[2,new Response(this._getOutputStream(b),this._getResponseInit())]})})};b.prototype.decode=function(a){return this._textDecoder.decode(a,{stream:!0})};
b.prototype.encode=function(a){return this._textEncoder.encode(a)};b.prototype.scan=function(a){return a.indexOf(this.needle)};b.prototype._getOutputStream=function(a){var b=this;return new ReadableStream({start:function(c){return Jb(b,void 0,void 0,function(){return Kb(this,function(b){switch(b.label){case 0:return[4,this._toOutputStream(a,c)];case 1:return b.sent(),[2]}})})}})};b.prototype._toOutputStream=function(a,b){return Jb(this,void 0,void 0,function(){var c,e,h,d=this;return Kb(this,function(g){switch(g.label){case 0:return g.trys.push([0,
2,,3]),[4,Ca.drain(a,function(a){d.processChunk(b,a)})];case 1:g.sent();this._drainBufferAtEnd&&(b.enqueue(this.encode(this.buffer)),this.buffer="");if(!this.needleWasFound)throw r.create("StreamTransformMissingDelimiter");b.close();return[3,3];case 2:return c=g.sent(),e=r.wrap(c,"StreamTransform",void 0,'Stream processing failed while running "'.concat(this.NAME,'" transmog')),h=y.matchesCodeOrSignature(c,"NetworkError",J.NETWORK_ERROR),this.metricsService.error(this.eventOptions,e,this.getErrorLoggingScope(),
h?"ERROR":void 0),this.metricsService.countError(this.eventOptions,e,h?"".concat("NetworkError",":").concat(this.getErrorLoggingScope()):this.getErrorLoggingScope()),b.error(e),[3,3];case 3:return[2]}})})};b.prototype._getResponseInit=function(){var a=this.getSourceInit();if(!this.needleHeaderKey)return a;var b=new Headers(a.headers||{});b.append(w.shared.getClientOnlyLibHeader(this.needleHeaderKey),F.encode(this.needle));a.headers=b;return a};ua([k],b.prototype,"transmog",null);ua([k],b.prototype,
"decode",null);ua([k],b.prototype,"encode",null);ua([k],b.prototype,"scan",null);ua([k],b.prototype,"_getOutputStream",null);ua([k],b.prototype,"_toOutputStream",null);ua([k],b.prototype,"_getResponseInit",null);return b}(ta),ne=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=
b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),oe=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||
g;return 3<c&&g&&Object.defineProperty(b,a,g),g},pe=function(f){function b(a,b,c,g,h){void 0===h&&(h=!1);var e=f.call(this,a,b,c,g,void 0,h,!1)||this;e.NAME="AfterSingleDelimiter";e.logCtor(arguments);return e}ne(b,f);b.prototype.processChunk=function(a,b){if(this.needleWasFound)a.enqueue(b);else{b=this.decode(b);b=this.buffer+b;var c=this.scan(b);-1===c?this.buffer=b.slice(-this.needleLength+1):(b=b.slice(this.inclusive?c:c+this.needleLength),a.enqueue(this.encode(b)),this.buffer="",this.needleWasFound=
!0)}};oe([k],b.prototype,"processChunk",null);return b}(nc),qe=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===
a?Object.create(a):(e.prototype=a.prototype,new e)}}(),re=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},se=function(f){function b(a,b,c,g,h,d){void 0===d&&(d=!0);var e=f.call(this,a,b,c,g,h,d,!0)||this;
e.NAME="BeforeSingleDelimiter";e.logCtor(arguments);return e}qe(b,f);b.prototype.processChunk=function(a,b){if(!this.needleWasFound){b=this.decode(b);b=this.buffer+b;var c=this.scan(b);-1===c?(c=b.substring(0,b.length-this.needleLength+1),a.enqueue(this.encode(c)),this.buffer=b.slice(-this.needleLength+1)):(b=b.substring(0,this.inclusive?c+this.needleLength:c),a.enqueue(this.encode(b)),this.buffer="",this.needleWasFound=!0)}};re([k],b.prototype,"processChunk",null);return b}(nc),te=this&&this.__extends||
function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),oc=this&&this.__decorate||function(f,
b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},ue=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}
function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},ve=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;
case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:
void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},we=function(f){function b(a,b,c,g,h,d){var e=f.call(this,a,b)||this;e.NAME="AppError";e.logCtor(arguments);e._failingUrl=c;e._errorCode=g;e._description=h;e._referrerUrl=d;return e}te(b,f);b.prototype.transmog=function(){return ue(this,void 0,void 0,function(){return ve(this,
function(a){return[2,new Response(this.renderTemplate(Dd,{failingUrl:this._getSafeUrl(this._failingUrl),errorCode:this._errorCode,description:this._description,referrerUrl:this._getSafeUrl(this._referrerUrl),fallbackContentTimeout:b.HTML_FALLBACK_UI_TIMEOUT}),this.getInit())]})})};b.prototype._getSafeUrl=function(a){return a?E.encode(a)||"unknown":""};b.HTML_FALLBACK_UI_TIMEOUT=500;oc([k],b.prototype,"transmog",null);oc([k],b.prototype,"_getSafeUrl",null);return b}(sa),xe=this&&this.__extends||function(){var f=
function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),ye=this&&this.__decorate||function(f,b,a,e){var c=
arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},ze=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}
function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Ae=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;
h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];
return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Be=function(f){function b(a,b,c,g){var e=f.call(this,a,b,c,!1)||this;e.NAME="CSMTokens";e.logCtor(arguments);e._attribution=g;return e}xe(b,f);b.prototype.transmog=function(){return ze(this,void 0,void 0,function(){var a,b,c;return Ae(this,function(e){a=this.getSource();b=a.headers.get(w.shared.REQUEST_ID_OPF_HEADER);b||(c=r.create("RequestIdHeaderMissing"),
this.metricsService.error(this.eventOptions,c,this.getErrorLoggingScope()),this.metricsService.countError(this.eventOptions,c,this.getErrorLoggingScope()));this.eventOptions.errorContext.CSMTokensOPFRequestID=b||"unknown";return[2,new Response(this.renderTemplate(Fd,{namespace:v.NAMESPACE,requestId:b,attribution:this._attribution,treatment:"C"}),this.getInit())]})})};ye([k],b.prototype,"transmog",null);return b}(ta),Ce=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),De=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?
e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ee=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}
function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Fe=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;
h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];
return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},pc=function(f){function b(a,b,c,g,h){var e=f.call(this,a,b)||this;e.NAME="PageMetadata";e.logCtor(arguments);e._navigationRuleName=c;e._responseStrategy=g;e._responseStrategyDetails=h;return e}Ce(b,f);b.prototype.transmog=function(){return Ee(this,void 0,void 0,function(){return Fe(this,function(a){return[2,new Response(this.renderTemplate(Id,
{namespace:v.NAMESPACE,hit:!0,meta:{fetchEventTimeOrigin:this.eventOptions.timeOriginEpoch,navigationRule:this._navigationRuleName,responseStrategy:{name:this._responseStrategy,details:this._responseStrategyDetails},clientLib:{version:v.VERSION}},globalObjectName:"$".concat(v.NAMESPACE),pModulePrefix:"".concat(v.NAMESPACE_LCASE,"-")}),this.getInit())]})})};De([k],b.prototype,"transmog",null);return b}(sa),Ge=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),He=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,
a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ie=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):
c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Je=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;
case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},
trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Ke=function(f){function b(a,b,c){var e=f.call(this,a,b)||this;e.NAME="PerformanceCounter";e.logCtor(arguments);e._counter=c;return e}Ge(b,f);b.prototype.transmog=function(){return Ie(this,void 0,void 0,function(){return Je(this,function(a){return[2,new Response(this.renderTemplate(Kd,{namespace:v.NAMESPACE,counter:this._counter}),this.getInit())]})})};
He([k],b.prototype,"transmog",null);return b}(sa),Le=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):
(e.prototype=a.prototype,new e)}}(),Lb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Me=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||
(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Ne=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;
if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=
[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Oe=function(f){function b(a,b,c,g,h,d,n){var e=f.call(this,b,c)||this;e.NAME="PageNavigate";e.logCtor(arguments);e._swGlobal=a;e._targetUrl=g;e._useHTTPStatusCodesForRedirects=h;e._replaceHistory=d;e._skipIntercept=
n;return e}Le(b,f);b.prototype.transmog=function(){return Me(this,void 0,void 0,function(){return Ne(this,function(a){return[2,this._useHTTPStatusCodesForRedirects?Response.redirect(this._getTargetURL(),b.HTTP_REDIRECT_STATUS_CODE):new Response(this.renderTemplate(Jd,{useMash:ha.isMShop(this._swGlobal),mashTimeout:b.MASH_READY_TIMEOUT,url:this._getTargetURL(),replaceHistory:this._replaceHistory,tagParamName:this._getSkipInterceptParamName()}),this.getInit())]})})};b.prototype._getTargetURL=function(){var a=
E.parse(this._targetUrl);if(!a)throw a=r.create("InvalidURL",{targetUrl:this._targetUrl}),this.metricsService.error(this.eventOptions,a,this.getErrorLoggingScope()),this.metricsService.countError(this.eventOptions,a,this.getErrorLoggingScope()),a;"string"===typeof this._skipIntercept&&this._skipIntercept.length&&w.skipIntercept.setParam(a,this._skipIntercept);return a.href};b.prototype._getSkipInterceptParamName=function(){return w.skipIntercept.getParamName()};b.HTTP_REDIRECT_STATUS_CODE=302;b.MASH_READY_TIMEOUT=
3E3;Lb([k],b.prototype,"transmog",null);Lb([k],b.prototype,"_getTargetURL",null);Lb([k],b.prototype,"_getSkipInterceptParamName",null);return b}(sa),Pe=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+
String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Mb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},qc=this&&this.__awaiter||function(f,
b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},rc=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:
a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=
d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Qe=this&&this.__read||function(f,b){var a="function"===typeof Symbol&&f[Symbol.iterator];if(!a)return f;f=a.call(f);
var e,c=[];try{for(;(void 0===b||0<b--)&&!(e=f.next()).done;)c.push(e.value)}catch(h){var g={error:h}}finally{try{e&&!e.done&&(a=f["return"])&&a.call(f)}finally{if(g)throw g.error;}}return c},Re=function(f){function b(a,b,c){var e=f.call(this)||this;e.logCtor(arguments);e._customerContextService=a;e._cacheService=b;e._metricsService=c;e._errorLoggingScope="CacheWriter";return e}Pe(b,f);b.prototype.write=function(a,b,c){return qc(this,void 0,void 0,function(){var e,h,d,f,l,q,k,p,r,t,u,v;return rc(this,
function(g){switch(g.label){case 0:return g.trys.push([0,3,,4]),e=b.storage,h=e.cacheName,d=e.cacheKey,f=e.maxAge,l=e.validationKeys,[4,Promise.all([this._getTransmoggedResponse(a,b.transmogs,c),(new $a(this._customerContextService)).compute(l)])];case 1:return q=Qe.apply(void 0,[g.sent(),2]),k=q[0],p=q[1],[4,this._cacheService.write(c.eventOptions,h,d,k,{maxAgeSeconds:f,requestStartTimestampSeconds:c.requestStartTimestampSeconds,attribution:c.attribution,validationKeys:p})];case 2:return g.sent(),
[3,4];case 3:throw r=g.sent(),t=y.matchesSignature(r,J.FAILED_TO_FETCH),u=y.matchesCodeOrSignature(r,"NetworkError",J.NETWORK_ERROR),v=t||u||!1,this._metricsService.error(c.eventOptions,r,this._errorLoggingScope,v?"ERROR":void 0),this._metricsService.countError(c.eventOptions,r,t?"".concat("FailedToFetch",":").concat(this._errorLoggingScope):u?"".concat("NetworkError",":").concat(this._errorLoggingScope):this._errorLoggingScope),r;case 4:return[2]}})})};b.prototype._getTransmoggedResponse=function(a,
b,c){return qc(this,void 0,void 0,function(){var e,h;return rc(this,function(d){switch(d.label){case 0:if(!b)return[2,a];e=a;h=0;d.label=1;case 1:return h<b.length?[4,this._getTransmog(e,b[h],c).getResponse()]:[3,4];case 2:e=d.sent(),d.label=3;case 3:return h++,[3,1];case 4:return[2,e]}})})};b.prototype._getTransmog=function(a,b,c){switch(b.name){case "BeforeSingleDelimiter":return new se(c.eventOptions,this._metricsService,a,b.delimiter,b.delimiterKey,b.inclusive);case "EagerLoadJSMarker":return new Ud(c.eventOptions,
this._metricsService,a,b.markers);case "InlinedStylesheet":return new Wd(c.eventOptions,this._metricsService,a);case "ShoppingPortalLoadJSMarker":return new de(c.eventOptions,this._metricsService,a);case "SyntheticRequestId":return new he(c.eventOptions,this._metricsService,a,b.useStaticRID);default:throw r.create("UnrecognizedTransmog",b);}};Mb([k],b.prototype,"write",null);Mb([k],b.prototype,"_getTransmoggedResponse",null);Mb([k],b.prototype,"_getTransmog",null);return b}(u),Se=this&&this.__extends||
function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Pa=this&&this.__decorate||function(f,
b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},sc=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}
function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},tc=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;
case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:
void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},uc=function(f){function b(a,b,c,g){var e=f.call(this)||this;e.logCtor(arguments);e.cacheService=b;e.metricsService=c;e.cachePopulationRules=g;e.cacheWriter=new Re(a,b,c);return e}Se(b,f);b.prototype.logTagAndCount=function(a,b,c,g,h){g="CachePop:".concat(this.NAME,":").concat(g);
a="".concat(g,":").concat(a.name,":").concat(b.label);this.metricsService.count(c,g,h);this.metricsService.count(c,a,h);this.metricsService.tag(c,a)};b.prototype.logMark=function(a,b,c,g){g="CachePop:".concat(this.NAME,":").concat(g);a="".concat(g,":").concat(a.name,":").concat(b.label);this.metricsService.mark(c,a)};b.prototype.isResponseValidForCaching=function(a,b){return sc(this,void 0,void 0,function(){var c;return tc(this,function(e){switch(e.label){case 0:try{aa.validateIsUsable(a),aa.validateIsOK(a)}catch(h){return[2,
{valid:!1,reason:"Unusable"}]}return w.cacheControl.hasLightsaberNoStore(a)?[2,{valid:!1,reason:"NoStore"}]:(c=this._skipCachingAXModeContent(b))?[4,this._isAXModeContent(a)]:[3,2];case 1:c=e.sent(),e.label=2;case 2:return c?[2,{valid:!1,reason:"AXModeContent"}]:[2,{valid:!0}]}})})};b.prototype._skipCachingAXModeContent=function(a){return!!(a.flags||{}).dontCacheAXModeContent};b.prototype._isAXModeContent=function(a){return sc(this,void 0,void 0,function(){var b,c;return tc(this,function(e){switch(e.label){case 0:return b=
[/ue_sid\s*=\s*['"]000-0000000-8675309['"]/gi,/\/1\/batch\/1\/OP\/[A-Z0-9]+:000-0000000-8675309:/gi],[4,aa.matchPatterns(a.clone(),b)];case 1:return c=e.sent(),[2,!c.every(function(a){return null===a})]}})})};Pa([k],b.prototype,"logTagAndCount",null);Pa([k],b.prototype,"logMark",null);Pa([k],b.prototype,"isResponseValidForCaching",null);Pa([k],b.prototype,"_skipCachingAXModeContent",null);Pa([k],b.prototype,"_isAXModeContent",null);return b}(u),Te=this&&this.__extends||function(){var f=function(b,
a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Nb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,
g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ue=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}
function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Ve=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;
h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];
return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},We=function(f){function b(a,b,c,g,h){var e=f.call(this,b,c,g,h)||this;e.NAME="Prefetch";e.logCtor(arguments);e._prefetchExecutor=new Cd(a,b,c,g);return e}Te(b,f);b.prototype.run=function(a){var b=this,c=a.detail.eventOptions,g=this._getMatchingRulesForTrigger(a);c.errorContext.CachePopulationRulesForPrefetchOnRouteTrigger=D.serialize(g);g.forEach(function(e){var d=
e.rule,g=e.trigger;t.queueTask(function(){return Ue(b,void 0,void 0,function(){var b,e;return Ve(this,function(h){switch(h.label){case 0:return this.logTagAndCount(d,g,c,"Intent"),[4,this._prefetchExecutor.prefetch(d,g,a.detail.eventOptions)];case 1:return b=h.sent(),b.ok?[4,this.isResponseValidForCaching(b.response,d)]:(this.logTagAndCount(d,g,c,"Fail:".concat(b.exitCode)),[2]);case 2:e=h.sent();if(!e.valid)return this.logTagAndCount(d,g,c,"Fail:Invalid:".concat(e.reason)),[2];this.logTagAndCount(d,
g,c,"Write");h.label=3;case 3:return h.trys.push([3,5,,6]),[4,this.cacheWriter.write(b.response,d,{eventOptions:a.detail.eventOptions,requestStartTimestampSeconds:b.requestStartTimestampSeconds,attribution:g.label})];case 4:return h.sent(),this.logTagAndCount(d,g,c,"Success"),[3,6];case 5:return h.sent(),this.logTagAndCount(d,g,c,"Fail:Write"),[3,6];case 6:return[2]}})})})})};b.prototype._getMatchingRulesForTrigger=function(a){var b=this,c=[];this.cachePopulationRules.forEach(function(e){for(var g=
0;g<e.triggers.length;g++){var d=e.triggers[g];if("PrefetchOnRoute"===d.name&&b._createPrefetchOnRouteMatcher(d).match(a.detail.request)){c.push({rule:e,trigger:d});break}}});return c};b.prototype._createPrefetchOnRouteMatcher=function(a){switch(a.routeMatcher.name){case "URLPathRoute":return a=a.routeMatcher,new ic(a.pattern,a.stripRefMarkers,a.stripLanguageFolder);default:throw r.create("UnrecognizedRouteMatcher",a.routeMatcher);}};Nb([k],b.prototype,"run",null);Nb([k],b.prototype,"_getMatchingRulesForTrigger",
null);Nb([k],b.prototype,"_createPrefetchOnRouteMatcher",null);return b}(uc),Xe=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);
b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),vc=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ye=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?
b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Ze=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),
0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();
continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},$e=function(f){function b(a,b,c,g){var e=f.call(this,a,b,c,g)||this;e.NAME="ResponseRuleNavigationUpdate";e.logCtor(arguments);return e}Xe(b,f);b.prototype.run=function(a){var b=
this,c=a.detail,g=c.eventOptions,h=c.serverResponse;a=this._getMatchingRulesForTrigger(a);g.errorContext.CachePopulationRulesForResponseRuleNavigationUpdateTrigger=D.serialize(a);a.forEach(function(a){var c=a.rule,e=a.trigger;b.logMark(c,e,g,"Trigger:Start");t.queueTask(function(){return Ye(b,void 0,void 0,function(){var a;return Ze(this,function(b){switch(b.label){case 0:return this.logTagAndCount(c,e,g,"Intent"),[4,this.isResponseValidForCaching(h,c)];case 1:a=b.sent();if(!a.valid)return this.logTagAndCount(c,
e,g,"Fail:Invalid:".concat(a.reason)),[2];b.label=2;case 2:return b.trys.push([2,4,,5]),this.logMark(c,e,g,"Write:Start"),[4,this.cacheWriter.write(h.clone(),c,{eventOptions:g,requestStartTimestampSeconds:I.getEpochSeconds(g.timeOriginEpoch),attribution:e.label})];case 3:return b.sent(),this.logMark(c,e,g,"Write:Success"),this.logTagAndCount(c,e,g,"Success"),[3,5];case 4:return b.sent(),this.logMark(c,e,g,"Write:Fail"),this.logTagAndCount(c,e,g,"Fail:Write"),[3,5];case 5:return[2]}})})})})};b.prototype._getMatchingRulesForTrigger=
function(a){var b=[];this.cachePopulationRules.forEach(function(c){for(var e=0;e<c.triggers.length;e++){var h=c.triggers[e];if("ResponseRuleNavigationUpdate"===h.name&&h.responseRuleName===a.detail.ruleName){b.push({rule:c,trigger:h});break}}});return b};vc([k],b.prototype,"run",null);vc([k],b.prototype,"_getMatchingRulesForTrigger",null);return b}(uc),af=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),bf=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},cf=function(f){function b(a,b,c,g,h,d){var e=f.call(this)||this;e.logCtor(arguments);e._responseRuleNavigationUpdateTrigger=new $e(b,c,g,d);e._prefetchOnRouteTrigger=new We(a,b,c,g,d);h.subscribe("ResponseRuleNavigation",e);h.subscribe("Navigation",e);return e}af(b,f);b.prototype.notifyEvent=function(a){switch(a.name){case "ResponseRuleNavigation":this._responseRuleNavigationUpdateTrigger.run(a);
break;case "Navigation":this._prefetchOnRouteTrigger.run(a)}};bf([k],b.prototype,"notifyEvent",null);return b}(u),df=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),N=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},wc=this&&this.__values||function(f){var b="function"===typeof Symbol&&Symbol.iterator,
a=b&&f[b],e=0;if(a)return a.call(f);if(f&&"number"===typeof f.length)return{next:function(){f&&e>=f.length&&(f=void 0);return{value:f&&f[e++],done:!f}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.");},xc=function(f){function b(a,b,c){var e=f.call(this)||this;e.logCtor(arguments);e._maxEntries=a;"function"===typeof c&&(e._stateChangeCallback=c);e._entries=e._trimToMaxSize(b);var h={added:new Map(e._entries)};0<e.size()&&e._stateChanged(h);return e}df(b,f);b.prototype.get=
function(a){return this._entries.get(a)};b.prototype.set=function(a,b){this._overflow();this._entries.set(a,b);a={added:new Map([[a,b]])};this._stateChanged(a)};b.prototype.delete=function(a){var b=this._entries.get(a);if(!b)return!1;var c=this._entries.delete(a);c&&(a={removed:new Map([[a,b]])},this._stateChanged(a));return c};b.prototype.has=function(a){return this._entries.has(a)};b.prototype.size=function(){return this._entries.size};b.prototype.full=function(){return this._entries.size>=this._maxEntries};
b.prototype.keys=function(){return this._entries.keys()};b.prototype.serialize=function(a){void 0===a&&(a="[]");return D.serialize(Array.from(this._entries.entries()),!1,a)};b.prototype.clear=function(){var a={removed:new Map(this._entries)};this._entries.clear();this._stateChanged(a)};b.prototype._trimToMaxSize=function(a){var b;a=a?new Map(a):new Map;try{for(var c=wc(a.keys()),g=c.next();!(g.done||a.size<=this._maxEntries);g=c.next())a.delete(g.value)}catch(d){var h={error:d}}finally{try{g&&!g.done&&
(b=c.return)&&b.call(c)}finally{if(h)throw h.error;}}return a};b.prototype._overflow=function(){var a;try{for(var b=wc(this.keys()),c=b.next();!c.done;c=b.next()){var g=c.value;if(!this.full())break;this.delete(g)}}catch(d){var h={error:d}}finally{try{c&&!c.done&&(a=b.return)&&a.call(b)}finally{if(h)throw h.error;}}};b.prototype._stateChanged=function(a){this._stateChangeCallback&&this._stateChangeCallback.call(void 0,this,a)};N([k],b.prototype,"get",null);N([k],b.prototype,"set",null);N([k],b.prototype,
"delete",null);N([k],b.prototype,"has",null);N([k],b.prototype,"size",null);N([k],b.prototype,"full",null);N([k],b.prototype,"keys",null);N([k],b.prototype,"serialize",null);N([k],b.prototype,"clear",null);N([k],b.prototype,"_trimToMaxSize",null);N([k],b.prototype,"_overflow",null);N([k],b.prototype,"_stateChanged",null);return b}(u),ef=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Qa=function(f){function b(a,b,c){var e=f.call(this,a,b,c)||this;e.logCtor(arguments);return e}ef(b,f);return b}(xc),ff=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),yc=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,
a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},zc=function(f){function b(a,b,c){var e=f.call(this,a,b,c)||this;e.logCtor(arguments);return e}ff(b,f);b.prototype.get=function(a){var b=f.prototype.get.call(this,a);if(b)return this.set(a,b),b};b.prototype.set=function(a,b){f.prototype.delete.call(this,a);f.prototype.set.call(this,
a,b)};yc([k],b.prototype,"get",null);yc([k],b.prototype,"set",null);return b}(xc),gf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,
a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),hf=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ob=function(f){function b(a){var b=f.call(this)||this;b.logCtor(arguments);
b.eventBus=a;return b}gf(b,f);b.prototype.notify=function(a,b,c){this.accepts(a,b)&&this.publish(a,b,c)};hf([k],b.prototype,"notify",null);return b}(u),jf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+
String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Pb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},kf=function(f){function b(a){var e=
f.call(this,a)||this;e.logCtor(arguments);e._readyStore=new Qa(b._MAX_CLIENTS);return e}jf(b,f);b.prototype.isClientReady=function(a){return this._readyStore.has(a)};b.prototype.accepts=function(a,b){return!(!b||"retail_service_worker_messaging"!==b.feature||"client_messaging_ready"!==b.command)};b.prototype.publish=function(a,b,c){this._readyStore.set(a,!0);this.eventBus.publish({name:"ClientReady",detail:{eventOptions:c}})};b._MAX_CLIENTS=50;Pb([k],b.prototype,"isClientReady",null);Pb([k],b.prototype,
"accepts",null);Pb([k],b.prototype,"publish",null);return b}(Ob),lf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=
null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Ac=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},mf=function(f){function b(a){var b=f.call(this,a)||this;b.logCtor(arguments);return b}lf(b,
f);b.prototype.accepts=function(a,b){return!(!b||"lightsaber"!==b.feature||"rendering_hints"!==b.command||!b.options||"object"!==typeof b.options)};b.prototype.publish=function(a,b,c){this.eventBus.publish({name:"RenderingHints",detail:{eventOptions:c,options:b.options}})};Ac([k],b.prototype,"accepts",null);Ac([k],b.prototype,"publish",null);return b}(Ob),nf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||
function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Bc=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},of=function(f){function b(a){var b=f.call(this,a)||this;b.logCtor(arguments);return b}nf(b,f);b.prototype.accepts=function(a,b){return!(!b||"lightsaber"!==b.feature||"customer_context_change.v1"!==b.command||!this._isValidCustomerContextChange(b.options))};b.prototype.publish=function(a,b,c){a=this._filterCustomerContextChangeMessage(b.options);
this.eventBus.publish({name:"CustomerContextChange",detail:{eventOptions:c,options:a}})};b.prototype._isValidCustomerContextChange=function(a){var b=this,c=p.isObject,g=p.isOneOf,h=p.isNonEmptyArray,d=p.isArrayWhereEvery;return c(a)&&h(a.changes)&&d(a.changes,function(c){return g(c,["customer","exports","lop","marketplace"])&&b._isValidCustomerContextChangeKey(c,a)})};b.prototype._filterCustomerContextChangeMessage=function(a){var b={changes:a.changes};a.changes.forEach(function(c){b[c]=ra.shallow(a[c])});
return b};b.prototype._isValidCustomerContextChangeKey=function(a,b){var c,e,h=p.isArrayWhereEvery,d=p.isObject,f=p.isNonEmptyString,l=p.isOneOf;return d(b[a])&&h(Object.keys(b[a]),function(a){return l(a,["new","old"])})&&f(null===(c=b[a])||void 0===c?void 0:c.new)&&f(null===(e=b[a])||void 0===e?void 0:e.old)};Bc([k],b.prototype,"accepts",null);Bc([k],b.prototype,"publish",null);return b}(Ob),pf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),ma=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,
a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Cc=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):
c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Dc=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;
case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},
trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},qf=function(f){function b(a,b){var c=f.call(this)||this;c.logCtor(arguments);c._swGlobal=a;c._clientReadyPublisher=new kf(b);c._renderingHintsPublisher=new mf(b);c._customerContextChangePublisher=new of(b);c._listenForClientMessages();return c}pf(b,f);b.prototype.isClientReady=function(a){return this._clientReadyPublisher.isClientReady(a)};b.prototype.getClient=
function(a){return Cc(this,void 0,void 0,function(){var b;return Dc(this,function(c){switch(c.label){case 0:return[4,this._swGlobal.clients.get(a)];case 1:if(b=c.sent())return[2,b];throw r.create("ClientNotFound",{clientId:a});}})})};b.prototype.postMessageToClient=function(a,b){a.postMessage(b)};b.prototype.postMessageToClientById=function(a,b){return Cc(this,void 0,void 0,function(){var c;return Dc(this,function(e){switch(e.label){case 0:return[4,this.getClient(a)];case 1:return c=e.sent(),this.postMessageToClient(c,
b),[2]}})})};b.prototype.notify=function(a,b,c){this._publish(a,b,c)};b.prototype._listenForClientMessages=function(){var a=this;this._swGlobal.addEventListener("message",function(b){if(a._filter(b)){var c=b.source.id;b=b.data;var e=ba.create(c);a._publish(c,b,e)}})};b.prototype._publish=function(a,b,c){[this._clientReadyPublisher,this._renderingHintsPublisher,this._customerContextChangePublisher].forEach(function(e){e.notify(a,b,c)})};b.prototype._filter=function(a){return a.origin===this._swGlobal.location.origin&&
a.source instanceof WindowClient&&"string"===typeof a.source.id};ma([k],b.prototype,"isClientReady",null);ma([k],b.prototype,"getClient",null);ma([k],b.prototype,"postMessageToClient",null);ma([k],b.prototype,"postMessageToClientById",null);ma([k],b.prototype,"notify",null);ma([k],b.prototype,"_listenForClientMessages",null);ma([k],b.prototype,"_publish",null);ma([k],b.prototype,"_filter",null);return b}(u),rf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),db=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,
a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ra=function(f){function b(){return null!==f&&f.apply(this,arguments)||this}rf(b,f);b.prototype.filter=function(a){var b=this;return a.filter(function(a){var c=b.isValid(a);c||b.log("filter","Invalid:",a);return c})};b.prototype.isValidRouteMatcher=function(a){var b=p.isObject,
c=p.isNonEmptyString,g=p.isUndefinedOr,h=p.isBoolean;if(!b(a)||!c(a.name))return!1;switch(a.name){case "URLPathRoute":return a.pattern instanceof RegExp&&g(a.stripRefMarkers,h(a.stripRefMarkers))&&g(a.stripLanguageFolder,h(a.stripLanguageFolder));default:return!1}};b.prototype.isValidValidationKeys=function(a){var b=p.isArrayWhereEvery,c=p.isOneOf;return b(a,function(a){return c(a,["language","recognition","session","clientlibversion","appversion"])})};b.prototype.isValidForHeaderField=function(a){var b=
p.matchesPattern;return b(a,/^[\w\-]+$/)};db([k],b.prototype,"filter",null);db([k],b.prototype,"isValidRouteMatcher",null);db([k],b.prototype,"isValidValidationKeys",null);db([k],b.prototype,"isValidForHeaderField",null);return b}(u),sf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=
b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),tf=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||
g;return 3<c&&g&&Object.defineProperty(b,a,g),g},uf=function(f){function b(){return null!==f&&f.apply(this,arguments)||this}sf(b,f);b.prototype.isValid=function(a){var b=p.isObject,c=p.isNonEmptyString,g=p.isPositiveInteger,h=p.isUndefinedOr,d=p.isBoolean,f=p.isOneOf,l=p.isArrayWhereEvery;return b(a)&&c(a.name)&&g(a.version)&&h(a.dontCleanOldVersions,d(a.dontCleanOldVersions))&&h(a.plugins,l(a.plugins,function(a){return f(a,["MaxAge","ValidationKeys","Metadata"])}))};tf([k],b.prototype,"isValid",
null);return b}(Ra),vf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,
new e)}}(),wf=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},xf=function(f){function b(){return null!==f&&f.apply(this,arguments)||this}vf(b,f);b.prototype.isValid=function(a){var b=p.isObject,c=p.isNonEmptyString,
g=p.isURL;return b(a)&&c(a.name)&&g(a.url)};wf([k],b.prototype,"isValid",null);return b}(Ra),yf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),V=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},zf=function(f){function b(){return null!==f&&f.apply(this,arguments)||this}
yf(b,f);b.prototype.isValid=function(a){var b=this,c=p.isObject,g=p.isNonEmptyString,h=p.isNonEmptyArray,d=p.isArrayWhereEvery,f=p.isUndefinedOr;return c(a)&&g(a.name)&&h(a.triggers)&&d(a.triggers,function(a){return b._isValidTrigger(a)})&&this._isValidCachePopulationRuleTransmogs(a.transmogs)&&this._isValidStorage(a.storage)&&f(a.compareCopy,function(){return b._isValidCachePopulationRuleCompareCopyConfig(a.compareCopy,a.storage)})&&this._isValidFlags(a.flags)};b.prototype._isValidTrigger=function(a){var b=
p.isObject,c=p.isNonEmptyString;if(!b(a)||!c(a.name)||!c(a.label))return!1;switch(a.name){case "ResponseRuleNavigationUpdate":return c(a.responseRuleName);case "PrefetchOnRoute":return this.isValidRouteMatcher(a.routeMatcher)&&this._isValidPrefetch(a.prefetch);default:return!1}};b.prototype._isValidPrefetch=function(a){var b=p.isObject,c=p.isNonEmptyString,g=p.isOneOf,h=p.isPositiveInteger;return b(a)&&c(a.endpoint)&&g(a.mode,["cache-miss","always"])&&h(a.delay)};b.prototype._isValidCachePopulationRuleTransmogs=
function(a){var b=this,c=p.isUndefinedOr,g=p.isArrayWhereEvery;return c(a,g(a,function(a){return b._isValidTransmog(a)}))};b.prototype._isValidCachePopulationRuleCompareCopyTransmogs=function(a){var b=this,c=p.isUndefinedOr,g=p.isArrayWhereEvery,h=p.isRegExp,d=p.isObject,f=p.isNonEmptyString;return c(a,g(a,function(a){if(!d(a)||!f(a.name))return!1;switch(a.name){case "PatternReplace":return g(a.patternReplaceList,function(a){return h(a.pattern)&&"string"===typeof a.replacement});default:return b._isValidTransmog(a)}}))};
b.prototype._isValidTransmog=function(a){var b=p.isObject,c=p.isNonEmptyString,g=p.isUndefinedOr,h=p.isBoolean,d=p.isArrayWhereEvery,f=p.isNonEmptyArray;if(!b(a)||!c(a.name))return!1;switch(a.name){case "BeforeSingleDelimiter":return c(a.delimiter)&&this.isValidForHeaderField(a.delimiterKey)&&g(a.inclusive,h(a.inclusive));case "EagerLoadJSMarker":return f(a.markers)&&d(a.markers,c);case "SyntheticRequestId":return g(a.useStaticRID,h(a.useStaticRID));case "InlinedStylesheet":case "ShoppingPortalLoadJSMarker":return!0;
default:return!1}};b.prototype._isValidStorage=function(a){var b=p.isObject,c=p.isNonEmptyString,g=p.isPositiveInteger;return b(a)&&c(a.cacheName)&&c(a.cacheKey)&&g(a.maxAge)&&this.isValidValidationKeys(a.validationKeys)};b.prototype._isValidCompareCopyStorage=function(a,b){var c=p.isObject,e=p.isNonEmptyString,h=p.isPositiveInteger;return c(a)&&e(a.cacheName)&&e(a.cacheKey)&&h(a.maxAge)&&a.cacheName!==b.cacheName};b.prototype._isValidCachePopulationRuleCompareCopyConfig=function(a,b){var c=p.isUndefinedOr,
e=p.isBoolean;return this._isValidCachePopulationRuleCompareCopyTransmogs(a.transmogs)&&this._isValidCompareCopyStorage(a.storage,b)&&c(a.disableCacheMismatchDetection,e(a.disableCacheMismatchDetection))};b.prototype._isValidFlags=function(a){var b=p.isObject,c=p.isUndefinedOr,g=p.isArrayWhereEvery,h=p.isOneOf,d=p.isBoolean;return c(a,b(a)&&g(Object.keys(a),function(a){return h(a,["dontCacheAXModeContent"])})&&c(a.dontCacheAXModeContent,d(a.dontCacheAXModeContent)))};V([k],b.prototype,"isValid",null);
V([k],b.prototype,"_isValidTrigger",null);V([k],b.prototype,"_isValidPrefetch",null);V([k],b.prototype,"_isValidCachePopulationRuleTransmogs",null);V([k],b.prototype,"_isValidCachePopulationRuleCompareCopyTransmogs",null);V([k],b.prototype,"_isValidTransmog",null);V([k],b.prototype,"_isValidStorage",null);V([k],b.prototype,"_isValidCompareCopyStorage",null);V([k],b.prototype,"_isValidCachePopulationRuleCompareCopyConfig",null);V([k],b.prototype,"_isValidFlags",null);return b}(Ra),Af=this&&this.__extends||
function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Fa=this&&this.__decorate||function(f,
b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Bf=function(f){function b(){return null!==f&&f.apply(this,arguments)||this}Af(b,f);b.prototype.isValid=function(a){var b=this,c=p.isObject,g=p.isNonEmptyString,h=p.isNonEmptyArray,d=p.isUndefinedOr,
f=p.isBoolean,l=p.isArrayWhereEvery;return c(a)&&g(a.name)&&h(a.routeMatchers)&&l(a.routeMatchers,function(a){return b.isValidRouteMatcher(a)})&&h(a.levers)&&l(a.levers,function(a){return b._isValidRuleLever(a)})&&d(a.weblabTriggers,l(a.weblabTriggers,function(a){return b._isValidWeblabTrigger(a)}))&&f(a.respond)&&this._isValidResponseStrategy(a.responseStrategy)};b.prototype._isValidRuleLever=function(a){var b=p.isNonEmptyString;return b(a)};b.prototype._isValidWeblabTrigger=function(a){var b=p.isObject,
c=p.isNonEmptyString;return b(a)&&c(a.name)&&c(a.treatment)};b.prototype._isValidResponseStrategy=function(a){var b=this,c=p.isObject,g=p.isNonEmptyString,h=p.isUndefinedOr,d=p.isBoolean,f=p.isArrayWhereEvery,l=p.isOneOf;if(!c(a)||!g(a.name))return!1;switch(a.name){case "SingleDelimiter":return f(a.pageShells,function(a){return g(a.cacheName)&&g(a.cacheKey)&&b.isValidValidationKeys(a.validationKeys)&&b.isValidForHeaderField(a.delimiterKey)&&b._isValidSkeleton(a.skeleton)})&&h(a.noPageShell,c(a.noPageShell)&&
this._isValidSkeleton(a.noPageShell.skeleton))&&h(a.preloads,f(a.preloads,function(a){return b._isValidPreload(a)}))&&h(a.flags,c(a.flags)&&f(Object.keys(a.flags),function(b){var c=a.flags[b];return l(b,["passthrough","flushFullOnMissingDelimiter"])&&h(c,d(c))}));case "FullPage":return c(a.cachedPage)&&g(a.cachedPage.cacheName)&&g(a.cachedPage.cacheKey)&&this.isValidValidationKeys(a.cachedPage.validationKeys)&&h(a.flags,c(a.flags)&&f(Object.keys(a.flags),function(b){var c=a.flags[b];return l(b,["skipReload",
"skipNonAppStarts"])&&h(c,d(c))}));default:return!1}};b.prototype._isValidSkeleton=function(a){var b=this,c=p.isObject,g=p.isBoolean,h=p.isNonEmptyString,d=p.isPositiveInteger,f=p.isUndefinedOr,l=p.isOneOf,q=p.isArrayWhereEvery;return f(a,!!a&&c(a)&&h(a.name)&&f(a.prewarm,l(a.prewarm,["http-cache","memory","none"]))&&f(a.race,g(a.race))&&f(a.data,c(a.data))&&c(a.hooks)&&q(Object.keys(a.hooks),function(c){return b._isValidSkeletonHook(a.hooks[c])})&&c(a.hooks.remove)&&c(a.hooks.remove.whenAny)&&d(a.hooks.remove.whenAny.timeout))};
b.prototype._isValidSkeletonHook=function(a){var b=p.isObject,c=p.isNonEmptyString,g=p.isPositiveInteger,h=p.isOneOf,d=p.isArrayWhereEvery,f=function(a){return b(a)&&c(a.value)&&g(a.delay)};return d(Object.keys(a),function(b){var e=a[b];return h(b,["whenAny"])&&d(Object.keys(e),function(a){var b=e[a];return"timeout"===a&&g(b)||h(a,["domEvent","auiModule","idMatches","selectorMatches"])&&(c(b)||f(b)||d(b,function(a){return c(a)||f(a)}))})})};b.prototype._isValidPreload=function(a){var b=p.isObject,
c=p.isNonEmptyString,g=p.isOneOf,h=p.isUndefinedOr;return b(a)&&c(a.purpose)&&h(a.attribution,c(a.attribution))&&g(a.as,["script","style","font","image"])&&h(a.fetchPriority,g(a.fetchPriority,["high","low","auto"]))&&(c(a.href)||c(a.hrefFromHint)||b(a.hrefHint)&&c(a.hrefHint.delegate)&&c(a.hrefHint.field))};Fa([k],b.prototype,"isValid",null);Fa([k],b.prototype,"_isValidRuleLever",null);Fa([k],b.prototype,"_isValidWeblabTrigger",null);Fa([k],b.prototype,"_isValidResponseStrategy",null);Fa([k],b.prototype,
"_isValidSkeleton",null);Fa([k],b.prototype,"_isValidSkeletonHook",null);return b}(Ra),Cf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Df=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ef=function(f){function b(){return null!==f&&f.apply(this,arguments)||
this}Cf(b,f);b.prototype.isValid=function(a){var b=p.isObject,c=p.isNonEmptyString,g=p.isOneOf,h=p.isArrayWhereEvery;return b(a)&&c(a.name)&&b(a.properties)&&h(Object.keys(a.properties),function(b){return g(typeof a.properties[b],["string","number","boolean"])})};Df([k],b.prototype,"isValid",null);return b}(Ra),Ff=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),na=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,
b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Qb=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Rb=this&&this.__generator||function(f,
b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-
1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&
(n[Symbol.iterator]=function(){return this}),n},Gf=function(f){function b(a,e,c){var g=f.call(this)||this;g._computed={};g.logCtor(arguments);g._metricsService=a;g._errorLoggingScope="ContentFragmentService";g._memoryCache=new zc(b._MAX_MEMORY_CACHE_ENTRIES);g._init(c,e);return g}Ff(b,f);b.prototype.render=function(a,b,c){return Qb(this,void 0,void 0,function(){var e,h;return Rb(this,function(d){switch(d.label){case 0:return e=this._getContentFragmentConfig(b),e?(h=this._fetchFromMemory(e.name))?
[3,2]:[4,this._fetchFromNetwork(a,e)]:[2];case 1:h=d.sent(),d.label=2;case 2:return h?[2,(new Pd(a,this._metricsService,b,h,c)).getResponse()]:[2]}})})};b.prototype.prewarm=function(a,b,c){var e=this,h=this._getContentFragmentConfig(b);if(h)switch(c){case "http-cache":case "memory":t.queueTask(function(){return Qb(e,void 0,void 0,function(){var d;return Rb(this,function(e){switch(e.label){case 0:return[4,this._fetchFromNetwork(a,h,!0)];case 1:return d=e.sent(),"memory"===c&&this._cacheInMemory(b,
d),[2]}})})})}};b.prototype.notifyEvent=function(a){switch(a.name){case "ContentFragmentSpeculation":this.prewarm(a.detail.eventOptions,a.detail.name,a.detail.prewarm)}};b.prototype._fetchFromNetwork=function(a,b,c){void 0===c&&(c=!1);return Qb(this,void 0,void 0,function(){var e;return Rb(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,(new zb(b.url)).getResponse()];case 1:return[2,g.sent()];case 2:return e=g.sent(),this._metricsService.countError(a,e,c?"".concat(this._errorLoggingScope,
":Prewarming"):this._errorLoggingScope),[2];case 3:return[2]}})})};b.prototype._fetchFromMemory=function(a){return(a=this._memoryCache.get(a))?a.clone():void 0};b.prototype._cacheInMemory=function(a,b){b&&this._memoryCache.set(a,b)};b.prototype._getContentFragmentConfig=function(a){return this._computed[a]};b.prototype._init=function(a,b){var c=this;a.forEach(function(a){c._computed[a.name]=a});b.subscribe("ContentFragmentSpeculation",this)};b._MAX_MEMORY_CACHE_ENTRIES=100;na([k],b.prototype,"render",
null);na([k],b.prototype,"prewarm",null);na([k],b.prototype,"notifyEvent",null);na([k],b.prototype,"_fetchFromNetwork",null);na([k],b.prototype,"_fetchFromMemory",null);na([k],b.prototype,"_cacheInMemory",null);na([k],b.prototype,"_getContentFragmentConfig",null);na([k],b.prototype,"_init",null);return b}(u),Hf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),eb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,
b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},If=function(f){function b(a){var b=f.call(this)||this,c=fa.getCustomerProperties(a);"function"===typeof(null===c||void 0===c?void 0:c.getSessionId)&&(b._sessionId=c.getSessionId());"function"===typeof(null===c||void 0===c?void 0:c.getDirectedCustomerId)&&(b._directedCustomerId=c.getDirectedCustomerId());"function"===typeof(null===c||void 0===c?void 0:c.getLanguageOfPreference)&&
(b._languageOfPreference=c.getLanguageOfPreference());b._appVersion=ha.getAppVersion(a);return b}Hf(b,f);b.prototype.getSessionId=function(){return this._sessionId};b.prototype.getDirectedCustomerId=function(){return this._directedCustomerId};b.prototype.getLanguage=function(){return this._languageOfPreference};b.prototype.getAppVersion=function(){return this._appVersion};eb([k],b.prototype,"getSessionId",null);eb([k],b.prototype,"getDirectedCustomerId",null);eb([k],b.prototype,"getLanguage",null);
eb([k],b.prototype,"getAppVersion",null);return b}(u),Jf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):
(e.prototype=a.prototype,new e)}}(),Ec=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Fc=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||
(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Gc=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;
if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=
[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};(function(f){function b(a){var b=f.call(this)||this;b._swGlobal=a;return b}Jf(b,f);b.prototype.getCookie=function(a){return Fc(this,void 0,void 0,function(){return Gc(this,function(b){if(!ac.isCookieStoreSupported(this._swGlobal))throw r.create("UnsupportedCookieStoreAPI",
{cookie:a},void 0,void 0,"WARN");return[2,this._swGlobal.cookieStore.get(a)]})})};b.prototype.getCookieValue=function(a){return Fc(this,void 0,void 0,function(){var b;return Gc(this,function(c){switch(c.label){case 0:return[4,this.getCookie(a)];case 1:return b=c.sent(),[2,b&&b.value?b.value:void 0]}})})};Ec([k],b.prototype,"getCookie",null);Ec([k],b.prototype,"getCookieValue",null);return b})(u);var Kf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Ga=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,
a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Lf=function(f){function b(){var a=f.call(this)||this;a.logCtor(arguments);a._subscriptionsByEvents={};a._subscriptionCount=0;return a}Kf(b,f);b.prototype.publish=function(a){var b=this,c=this._subscriptionsByEvents[this._getInternalEventName(a.name)];c&&Object.keys(c).forEach(function(e){var g=
c[e];g.once&&b.unsubscribe(e);b._notify(a,g)})};b.prototype.subscribe=function(a,b,c,g){void 0===c&&(c="async");a=this._getInternalEventName(a);var e=this._getUniqueSubscriptionId();b={subscriptionId:e,mode:c,subscriber:b,once:g};this._subscriptionsByEvents.hasOwnProperty(a)||(this._subscriptionsByEvents[a]={});this._subscriptionsByEvents[a][e]=b;return e};b.prototype.unsubscribe=function(a){var b=this;Object.keys(this._subscriptionsByEvents).forEach(function(c){var e=b._subscriptionsByEvents[c];
Object.keys(e).forEach(function(b){b===a&&delete e[b]})})};b.prototype._notify=function(a,b){var c=function(){b.subscriber.notifyEvent(a)};"sync"===b.mode?c():t.queueTask(c)};b.prototype._getUniqueSubscriptionId=function(){return"".concat(this._subscriptionCount++)};b.prototype._getInternalEventName=function(a){return"".concat(v.NAMESPACE,":").concat(a)};Ga([k],b.prototype,"publish",null);Ga([k],b.prototype,"subscribe",null);Ga([k],b.prototype,"unsubscribe",null);Ga([k],b.prototype,"_notify",null);
Ga([k],b.prototype,"_getUniqueSubscriptionId",null);Ga([k],b.prototype,"_getInternalEventName",null);return b}(u),Mf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Nf=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Hc=function(f){function b(a,b,c){var e=f.call(this)||this;e.logCtor(arguments);
e.swGlobal=a;e.metricsService=b;e.eventBus=c;e._initFetchHandling();return e}Mf(b,f);b.prototype._initFetchHandling=function(){var a=this;this.swGlobal.addEventListener("fetch",function(b){if(a.filter(b)){var c=ba.create(b.resultingClientId);a.handle(c,b);a.publishEvent(c,b)}})};Nf([k],b.prototype,"_initFetchHandling",null);return b}(u),Of=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Ic=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,
b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Pf=function(f){function b(a,b,c,g){var e=f.call(this,a,c,g)||this;e.logCtor(arguments);e._clientMessageAsFetchResponseService=b;e._swGlobal=a;return e}Of(b,f);b.prototype.filter=function(a){a=a.request;var e=a.url;return"GET"===a.method&&0===e.indexOf("".concat(this._swGlobal.location.origin).concat(b.CLIENT_MSG_AS_FETCH_URL_PATH))};b.prototype.handle=function(a,b){this._clientMessageAsFetchResponseService.respond(a,
b)};b.prototype.publishEvent=function(a,b){};b.CLIENT_MSG_AS_FETCH_URL_PATH="/".concat(v.NAMESPACE_LCASE,"/client-api/message");Ic([k],b.prototype,"handle",null);Ic([k],b.prototype,"publishEvent",null);return b}(Hc),Qf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=
b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),fb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||
g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Rf=function(f){function b(a,b,c,g,h){var d=f.call(this,a,c,g)||this;d.logCtor(arguments);d._requireNavigationPreloadSupport=h.usePreloadResponseOnlyForServerResponseOnNavigations;d._navigationResponseService=b;return d}Qf(b,f);b.prototype.filter=function(a){a=a.request;var b=a.destination,c=a.method,g=a.isHistoryNavigation;return"navigate"===a.mode&&"document"===b&&"GET"===c&&!g};b.prototype.handle=function(a,b){this._shouldSkipInterception(a,b)||this._navigationResponseService.respond(a,
b)};b.prototype.publishEvent=function(a,b){this.eventBus.publish({name:"Navigation",detail:{request:b.request,eventOptions:a}})};b.prototype._shouldSkipInterception=function(a,b){return this._hasSkipInterceptionUrlSubstring(a,b)||this._hasSkipInterceptUrlParam(a,b)||this._requiresButDoesNotSupportNavigationPreload(b)};b.prototype._hasSkipInterceptionUrlSubstring=function(a,b){var c=this,e=["lx_bd","i\x3dluxury","purchasePrograms\x3dBOND","ref\x3dluxury_cx_proceed"].filter(function(a){return-1<b.request.url.indexOf(a)});
t.queueTask(function(){e.forEach(function(b){b=La.onlyWordChars(b).substr(0,50);c.metricsService.tag(a,"".concat("SkipIntercept",":").concat(b))})});return 0<e.length};b.prototype._hasSkipInterceptUrlParam=function(a,b){var c=this,e=(b=E.parse(b.request.url))?w.skipIntercept.getParam(b):"NoURL";e&&t.queueTask(function(){var b=La.onlyWordChars(e).substr(0,50);c.metricsService.tag(a,"SkipIntercept");c.metricsService.tag(a,"".concat("SkipIntercept",":").concat(b))});return!!e};b.prototype._requiresButDoesNotSupportNavigationPreload=
function(a){return this._requireNavigationPreloadSupport&&!a.preloadResponse};fb([k],b.prototype,"handle",null);fb([k],b.prototype,"publishEvent",null);fb([k],b.prototype,"_hasSkipInterceptUrlParam",null);fb([k],b.prototype,"_requiresButDoesNotSupportNavigationPreload",null);return b}(Hc),Sf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),x=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,
b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},W=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},X=this&&this.__generator||function(f,
b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-
1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&
(n[Symbol.iterator]=function(){return this}),n},Tf=function(f){function b(a,b){var c=f.call(this)||this;c.logCtor(arguments);c.reset();b.subscribe("ClientReady",c);c._clientMessagingService=a;return c}Sf(b,f);b.prototype.reset=function(){this._bufferedCounters=[];this._bufferedTags=[];this._bufferedErrors=[];this._bufferedWeblabTriggers=[]};b.prototype.counter=function(a,b,c){var e=this;this._clientMessagingService.isClientReady(a)?t.queueTask(function(){return W(e,void 0,void 0,function(){var e,
d;return X(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this._getClient(a)];case 1:return e=g.sent(),this._postCounter(e,b,c),[3,3];case 2:return d=g.sent(),this.log("counter",d.message),[3,3];case 3:return[2]}})})}):this._bufferCounter(a,b,c)};b.prototype.tag=function(a,b){var c=this;this._clientMessagingService.isClientReady(a)?t.queueTask(function(){return W(c,void 0,void 0,function(){var c,e;return X(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),
[4,this._getClient(a)];case 1:return c=d.sent(),this._postTag(c,b),[3,3];case 2:return e=d.sent(),this.log("tag",e.message),[3,3];case 3:return[2]}})})}):this._bufferTag(a,b)};b.prototype.error=function(a,b,c,g){var e=this;this._clientMessagingService.isClientReady(a)?t.queueTask(function(){return W(e,void 0,void 0,function(){var d,e;return X(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this._getClient(a)];case 1:return d=h.sent(),this._postError(d,b,c,g),[3,3];case 2:return e=
h.sent(),this.log("tag",e.message),[3,3];case 3:return[2]}})})}):this._bufferError(a,b,c,g)};b.prototype.weblabTrigger=function(a,b,c){var e=this;this._clientMessagingService.isClientReady(a)?t.queueTask(function(){return W(e,void 0,void 0,function(){var e,d;return X(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this._getClient(a)];case 1:return e=g.sent(),this._postWeblabTrigger(e,b,c),[3,3];case 2:return d=g.sent(),this.log("weblabtrigger",d.message),[3,3];case 3:return[2]}})})}):
this._bufferWeblabTrigger(a,b,c)};b.prototype.notifyEvent=function(a){var b=this;switch(a.name){case "ClientReady":t.queueTask(function(){return W(b,void 0,void 0,function(){var b,e,h,d=this;return X(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),b=a.detail.eventOptions.clientId,[4,this._getClient(b)];case 1:return e=c.sent(),t.queueTask(function(){d._drainBufferedCounters(e)}),t.queueTask(function(){d._drainBufferedTags(e)}),t.queueTask(function(){d._drainBufferedErrors(e)}),
t.queueTask(function(){d._drainBufferedWeblabTriggers(e)}),[3,3];case 2:return h=c.sent(),this.log("notifyEvent",h.message),[3,3];case 3:return[2]}})})})}};b.prototype._bufferCounter=function(a,e,c){qa.pushClamped(this._bufferedCounters,{clientId:a,name:e,value:c},b._MAX_COUNTERS)};b.prototype._bufferTag=function(a,e){qa.pushClamped(this._bufferedTags,{clientId:a,name:e},b._MAX_TAGS)};b.prototype._bufferError=function(a,e,c,g){qa.pushClamped(this._bufferedErrors,{clientId:a,message:e,attribution:c,
level:g},b._MAX_ERRORS)};b.prototype._bufferWeblabTrigger=function(a,e,c){qa.pushClamped(this._bufferedWeblabTriggers,{clientId:a,name:e,treatment:c},b._MAX_WEBLAB_TRIGGERS)};b.prototype._drainBufferedCounters=function(a){for(var b=this,c=[],g=function(d){var e=h._bufferedCounters[d];if(a.id!==e.clientId)return c.push(e),"continue";t.queueTask(function(){return W(b,void 0,void 0,function(){return X(this,function(b){this._postCounter(a,e.name,e.value);return[2]})})})},h=this,d=0;d<this._bufferedCounters.length;d++)g(d);
this._bufferedCounters=c};b.prototype._drainBufferedTags=function(a){for(var b=this,c=[],g=function(d){var e=h._bufferedTags[d];if(a.id!==e.clientId)return c.push(e),"continue";t.queueTask(function(){return W(b,void 0,void 0,function(){return X(this,function(b){this._postTag(a,e.name);return[2]})})})},h=this,d=0;d<this._bufferedTags.length;d++)g(d);this._bufferedTags=c};b.prototype._drainBufferedErrors=function(a){for(var b=this,c=[],g=function(d){var e=h._bufferedErrors[d];if(a.id!==e.clientId)return c.push(e),
"continue";t.queueTask(function(){return W(b,void 0,void 0,function(){return X(this,function(b){this._postError(a,e.message,e.attribution,e.level);return[2]})})})},h=this,d=0;d<this._bufferedErrors.length;d++)g(d);this._bufferedErrors=c};b.prototype._drainBufferedWeblabTriggers=function(a){for(var b=this,c=[],g=function(d){var e=h._bufferedWeblabTriggers[d];if(a.id!==e.clientId)return c.push(e),"continue";t.queueTask(function(){return W(b,void 0,void 0,function(){return X(this,function(b){this._postWeblabTrigger(a,
e.name,e.treatment);return[2]})})})},h=this,d=0;d<this._bufferedWeblabTriggers.length;d++)g(d);this._bufferedWeblabTriggers=c};b.prototype._postCounter=function(a,b,c){b=this._createClientCounterMessage(b,c);this._postMessageToClient(a,b)};b.prototype._postTag=function(a,b){b=this._createClientTagMessage(b);this._postMessageToClient(a,b)};b.prototype._postError=function(a,b,c,g){b=this._createClientErrorMessage(b,c,g);this._postMessageToClient(a,b)};b.prototype._postWeblabTrigger=function(a,b,c){b=
this._createClientWeblabTriggerMessage(b,c);this._postMessageToClient(a,b)};b.prototype._createClientCounterMessage=function(a,e){return{feature:b._MESSAGING_FEATURE,command:b._MESSAGING_COMMAND_COUNTER,data:{name:a,value:e}}};b.prototype._createClientTagMessage=function(a){return{feature:b._MESSAGING_FEATURE,command:b._MESSAGING_COMMAND_TAG,data:{tag:a}}};b.prototype._createClientErrorMessage=function(a,e,c){return{feature:b._MESSAGING_FEATURE,command:b._MESSAGING_COMMAND_ERROR,data:{message:a,attribution:e,
level:c}}};b.prototype._createClientWeblabTriggerMessage=function(a,e){return{feature:b._MESSAGING_FEATURE,command:b._MESSAGING_COMMAND_WEBLAB_TRIGGER,data:{weblab:a,treatment:e}}};b.prototype._postMessageToClient=function(a,b){this._clientMessagingService.postMessageToClient(a,b)};b.prototype._getClient=function(a){return W(this,void 0,void 0,function(){return X(this,function(b){return[2,this._clientMessagingService.getClient(a)]})})};b._MAX_COUNTERS=400;b._MAX_TAGS=100;b._MAX_ERRORS=100;b._MAX_WEBLAB_TRIGGERS=
100;b._MESSAGING_FEATURE="retail_service_worker_messaging";b._MESSAGING_COMMAND_COUNTER="log_counter";b._MESSAGING_COMMAND_TAG="log_tag";b._MESSAGING_COMMAND_ERROR="log_error";b._MESSAGING_COMMAND_WEBLAB_TRIGGER="log_weblab_trigger";x([k],b.prototype,"reset",null);x([k],b.prototype,"counter",null);x([k],b.prototype,"tag",null);x([k],b.prototype,"error",null);x([k],b.prototype,"weblabTrigger",null);x([k],b.prototype,"notifyEvent",null);x([k],b.prototype,"_bufferCounter",null);x([k],b.prototype,"_bufferTag",
null);x([k],b.prototype,"_bufferError",null);x([k],b.prototype,"_bufferWeblabTrigger",null);x([k],b.prototype,"_drainBufferedCounters",null);x([k],b.prototype,"_drainBufferedTags",null);x([k],b.prototype,"_drainBufferedErrors",null);x([k],b.prototype,"_drainBufferedWeblabTriggers",null);x([k],b.prototype,"_postCounter",null);x([k],b.prototype,"_postTag",null);x([k],b.prototype,"_postWeblabTrigger",null);x([k],b.prototype,"_createClientCounterMessage",null);x([k],b.prototype,"_createClientTagMessage",
null);x([k],b.prototype,"_createClientErrorMessage",null);x([k],b.prototype,"_createClientWeblabTriggerMessage",null);x([k],b.prototype,"_postMessageToClient",null);x([k],b.prototype,"_getClient",null);return b}(u),Uf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=
b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Sb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||
g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Vf=function(f){function b(){var a=f.call(this)||this;a.logCtor(arguments);a._ready=new Qa(b._MAX_CLIENTS);return a}Uf(b,f);b.prototype.isReady=function(a){return this._ready.has(a)};b.prototype.markReady=function(a,b){!this.isReady(a)&&p.isNonEmptyString(b)&&this._ready.set(a,b)};b.prototype.getRequestIdForClient=function(a){var b=this._ready.get(a);if(b)return b;throw r.create("RequestIdMissingInStore",{clientId:a});};b._MAX_CLIENTS=50;Sb([k],b.prototype,
"isReady",null);Sb([k],b.prototype,"markReady",null);Sb([k],b.prototype,"getRequestIdForClient",null);return b}(u),Wf=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Ha=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Tb=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof
a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Ub=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),
0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();
continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},Xf=function(f){function b(a,b){var c=f.call(this)||this;c.logCtor(arguments);c._globalTelemetryClient=a;c._requestIdReadyStore=new Vf;c.reset();b.subscribe("RequestIdAvailable",
c);return c}Wf(b,f);b.prototype.reset=function(){this._bufferedWeblabTriggers=[]};b.prototype.weblabTrigger=function(a,b,c){var e=this;this._requestIdReadyStore.isReady(a)?t.queueTask(function(){return Tb(e,void 0,void 0,function(){var e,d;return Ub(this,function(g){try{e=this._requestIdReadyStore.getRequestIdForClient(a),d=[{name:b,treatment:c}],this._postWeblabTrigger(a,d,e)}catch(l){this.log("weblabtrigger",l.message)}return[2]})})}):this._bufferWeblabTrigger(a,b,c)};b.prototype.notifyEvent=function(a){var b=
this;switch(a.name){case "RequestIdAvailable":t.queueTask(function(){return Tb(b,void 0,void 0,function(){var b,e,h,d=this;return Ub(this,function(c){try{b=a.detail.eventOptions.clientId,e=a.detail.requestId,this._requestIdReadyStore.markReady(b,e),h=this._requestIdReadyStore.getRequestIdForClient(b),t.queueTask(function(){d._drainBufferedWeblabTriggers(b,h)})}catch(l){this.log("notifyEvent",l.message)}return[2]})})})}};b.prototype._bufferWeblabTrigger=function(a,e,c){qa.pushClamped(this._bufferedWeblabTriggers,
{clientId:a,name:e,treatment:c},b._MAX_WEBLAB_TRIGGERS)};b.prototype._drainBufferedWeblabTriggers=function(a,b){for(var c=this,e=[],h=[],d=0;d<this._bufferedWeblabTriggers.length;d++){var f=this._bufferedWeblabTriggers[d];a!==f.clientId?e.push(f):h.push({name:f.name,treatment:f.treatment})}0<h.length&&t.queueTask(function(){return Tb(c,void 0,void 0,function(){return Ub(this,function(c){this._postWeblabTrigger(a,h,b);return[2]})})});this._bufferedWeblabTriggers=e};b.prototype._postWeblabTrigger=function(a,
b,c){this._globalTelemetryClient&&p.isFunction(this._globalTelemetryClient.trigger)&&this._globalTelemetryClient.trigger(b,{clientID:a,requestID:c})};b._MAX_WEBLAB_TRIGGERS=100;Ha([k],b.prototype,"reset",null);Ha([k],b.prototype,"weblabTrigger",null);Ha([k],b.prototype,"notifyEvent",null);Ha([k],b.prototype,"_bufferWeblabTrigger",null);Ha([k],b.prototype,"_drainBufferedWeblabTriggers",null);Ha([k],b.prototype,"_postWeblabTrigger",null);return b}(u),Yf=this&&this.__extends||function(){var f=function(b,
a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),va=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,
g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Zf=function(f){function b(a,b,c){var e=f.call(this)||this;e.logCtor(arguments);e._swGlobal=a;e._clientPostbacks=new Tf(b,c);e._clientPostbacks.reset();a.$TM&&(e._globalTelemetryClient=a.$TM,e._telemetryTriggers=new Xf(e._globalTelemetryClient,
c),e._telemetryTriggers.reset());return e}Yf(b,f);b.prototype.count=function(a,b,c){var e=this;void 0===c&&(c=1);t.queueTask(function(){var g=e._getFormattedName(b);e._globalTelemetryClient&&p.isFunction(e._globalTelemetryClient.count)?e._globalTelemetryClient.count(g,c,{clientID:a.clientId}):e._clientPostbacks.counter(a.clientId,g,c)})};b.prototype.mark=function(a,b,c){var e=I.getPerfNow();this.count(a,b,e-(c?c:a.timeOriginPerfNow))};b.prototype.tag=function(a,b){var c=this;t.queueTask(function(){var e=
c._getFormattedName(b);c._clientPostbacks.tag(a.clientId,e)})};b.prototype.error=function(a,b,c,g){var e=this;t.queueTask(function(){if(e._globalTelemetryClient&&p.isFunction(e._globalTelemetryClient.error)){var d=v.BRAZIL_NAME+(c?":".concat(c):""),h=null!==g&&void 0!==g?g:b.logLevel||"FATAL",f=Object.keys(a.errorContext).map(function(b){return"".concat(b," \x3d ").concat(a.errorContext[b])}).join("\n\n");e._globalTelemetryClient.error(b,h,d,f)}else e.countError(a,r.create("MissingDependencyTelemetry"))})};
b.prototype.countError=function(a,b,c){var e=this;t.queueTask(function(){var g=b.code,d=b.name;d=g?"".concat(d,":").concat(g):d;d=c?"".concat(d,":").concat(c):d;e.count(a,"Error:".concat(d),1)})};b.prototype.weblabTrigger=function(a,b,c,g){var e=this;void 0===g&&(g=!1);t.queueTask(function(){g&&e._telemetryTriggers?(e._telemetryTriggers.weblabTrigger(a.clientId,b,c),e.count(a,"triggerintent:direct:".concat(b,":").concat(c))):(e._clientPostbacks.weblabTrigger(a.clientId,b,c),e.count(a,"triggerintent:ue:".concat(b,
":").concat(c)))})};b.prototype._getFormattedName=function(a){return Ua.format(this._swGlobal,a)};va([k],b.prototype,"count",null);va([k],b.prototype,"mark",null);va([k],b.prototype,"tag",null);va([k],b.prototype,"error",null);va([k],b.prototype,"countError",null);va([k],b.prototype,"weblabTrigger",null);va([k],b.prototype,"_getFormattedName",null);return b}(u),$f=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),O=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},P=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,
b||[])).next())})},Q=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();
continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n=
{next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},ag=function(f){function b(a,b,c,g,h,d,n,l,k){void 0===l&&(l="lre");void 0===k&&(k=function(){return!0});var e=f.call(this)||this;e._cacheService=b;e._metricsService=c;e._cacheName=g;e._cacheKey=h;e._cacheMaxAge=d;e._validator=k;e._errorLoggingScope="CacheBackedKeyValueStore";a.subscribe("CustomerContextChange",e,"async");e._ready=e._initialize(g,h,d,n,l);e.logCtor(arguments);return e}
$f(b,f);b.prototype.get=function(a){return P(this,void 0,void 0,function(){return Q(this,function(b){switch(b.label){case 0:return[4,this._ready];case 1:return b.sent(),[2,this._store.get(a)]}})})};b.prototype.set=function(a,b){return P(this,void 0,void 0,function(){return Q(this,function(c){switch(c.label){case 0:return[4,this._ready];case 1:return c.sent(),this._store.set(a,b),[2]}})})};b.prototype.delete=function(a){return P(this,void 0,void 0,function(){return Q(this,function(b){switch(b.label){case 0:return[4,
this._ready];case 1:return b.sent(),[2,this._store.delete(a)]}})})};b.prototype.has=function(a){return P(this,void 0,void 0,function(){return Q(this,function(b){switch(b.label){case 0:return[4,this._ready];case 1:return b.sent(),[2,this._store.has(a)]}})})};b.prototype.size=function(){return P(this,void 0,void 0,function(){return Q(this,function(a){switch(a.label){case 0:return[4,this._ready];case 1:return a.sent(),[2,this._store.size()]}})})};b.prototype.full=function(){return P(this,void 0,void 0,
function(){return Q(this,function(a){switch(a.label){case 0:return[4,this._ready];case 1:return a.sent(),[2,this._store.full()]}})})};b.prototype.keys=function(){return P(this,void 0,void 0,function(){return Q(this,function(a){switch(a.label){case 0:return[4,this._ready];case 1:return a.sent(),[2,this._store.keys()]}})})};b.prototype.serialize=function(a){return P(this,void 0,void 0,function(){return Q(this,function(b){switch(b.label){case 0:return[4,this._ready];case 1:return b.sent(),[2,this._store.serialize(a)]}})})};
b.prototype.clear=function(){return P(this,void 0,void 0,function(){return Q(this,function(a){switch(a.label){case 0:return[4,this._ready];case 1:return a.sent(),this._store.clear(),[2]}})})};b.prototype.notifyEvent=function(a){var b=this;"CustomerContextChange"===a.name&&t.queueMicrotask(function(){return P(b,void 0,void 0,function(){return Q(this,function(a){switch(a.label){case 0:return[4,this.clear()];case 1:return a.sent(),[2]}})})})};b.prototype._initialize=function(a,b,c,g,h){return P(this,
void 0,void 0,function(){var d,e,f,k,m,p,t,u,v,Ea,U=this;return Q(this,function(l){switch(l.label){case 0:d=ba.create(),l.label=1;case 1:return l.trys.push([1,6,,7]),[4,this._cacheService.read(d,a,b)];case 2:return(f=l.sent())?[4,f.text()]:[3,4];case 3:return m=l.sent(),[3,5];case 4:m=void 0,l.label=5;case 5:return p=(k=m)?D.deserialize(k,[]):[],t=Array.isArray(p)?p.filter(function(a){return Array.isArray(a)&&2===a.length&&U._validator(a[0],a[1])}):[],e=new Map(t),[3,7];case 6:return u=l.sent(),e=
new Map,v=r.create("StoreInitialization",{cacheName:a,cacheKey:b,cacheMaxAge:c,strategy:h},u),this._metricsService.error(d,v,this._errorLoggingScope),this._metricsService.countError(d,v,this._errorLoggingScope),[3,7];case 7:Ea=function(){U._storeStateChanged()};switch(h){case "lru":this._store=new zc(g,e,Ea);break;default:this._store=new Qa(g,e,Ea)}return[2]}})})};b.prototype._storeStateChanged=function(){var a=this;if(!this._pendingCacheWrite){var e=function(){return P(a,void 0,void 0,function(){var a,
g,h;return Q(this,function(c){switch(c.label){case 0:this._pendingCacheWrite=void 0,c.label=1;case 1:return c.trys.push([1,3,,4]),a=ba.create(),g=this._store.serialize(),[4,this._cacheService.write(a,this._cacheName,this._cacheKey,new Response(g),{maxAgeSeconds:this._cacheMaxAge,requestStartTimestampSeconds:I.getEpochSeconds(a.timeOriginEpoch)})];case 2:return c.sent(),[3,4];case 3:return h=c.sent(),y.matchesCode(h,"CacheTainted")&&(this._pendingCacheWrite=t.queueTask(e,b._CACHE_WRITE_THROTTLE_MS)),
[3,4];case 4:return[2]}})})};this._pendingCacheWrite=t.queueTask(e,b._CACHE_WRITE_THROTTLE_MS)}};b._CACHE_WRITE_THROTTLE_MS=1E3;O([k],b.prototype,"get",null);O([k],b.prototype,"set",null);O([k],b.prototype,"delete",null);O([k],b.prototype,"has",null);O([k],b.prototype,"size",null);O([k],b.prototype,"full",null);O([k],b.prototype,"keys",null);O([k],b.prototype,"serialize",null);O([k],b.prototype,"clear",null);O([k],b.prototype,"notifyEvent",null);O([k],b.prototype,"_initialize",null);O([k],b.prototype,
"_storeStateChanged",null);return b}(u),bg=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):
(e.prototype=a.prototype,new e)}}(),H=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Y=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||
(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Z=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;
if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=
[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,n;return n={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},cg=function(f){function b(a,b,c,g,h){var d=f.call(this)||this;d.logCtor(arguments);d._name=a;d._metricsService=g;var e=d._parseProperties(a,h),l=e.storeLimit,k=e.wdgLandingImageStore;e=k.cacheName;var m=k.cacheKey;
k=k.maxAge;d._navigationContentHintsStore=new Qa(l);d._wdgLandingImageStore=new ag(b,c,g,e,m,k,l,"lru",function(a,b){return d._validateWDGLandingImageRecord(a,b)});d._errorLoggingScope="DetailPageRenderingHintsDelegate";return d}bg(b,f);b.prototype.getHint=function(a,b,c){return Y(this,void 0,void 0,function(){var e,h,d,f,l;return Z(this,function(g){e=this._getASIN(b);if(!e)return[2];switch(c){case "predictedLCPImage":return[2,this._getPredictedLCPImage(a,e)];default:if((h=this._navigationContentHintsStore.get(e))&&
h.hasOwnProperty(c))return d=h[c],f=d.value,l=d.source,[2,{value:f,source:l}]}return[2]})})};b.prototype.getHintValueOnly=function(a,b,c){return Y(this,void 0,void 0,function(){var e;return Z(this,function(g){switch(g.label){case 0:return[4,this.getHint(a,b,c)];case 1:return e=g.sent(),[2,null===e||void 0===e?void 0:e.value]}})})};b.prototype.getAllHints=function(a,b){return Y(this,void 0,void 0,function(){var c,e,h,d;return Z(this,function(g){switch(g.label){case 0:c=this._getASIN(b);if(!c)return[2,
{}];e=this._navigationContentHintsStore.get(c)||{};h={};Object.keys(e).forEach(function(a){var b=e[a];h[a]={value:b.value,source:b.source}});return[4,this._getPredictedLCPImage(a,c)];case 1:return(d=g.sent())&&(h.predictedLCPImage=d),[2,h]}})})};b.prototype.getAllHintsValueOnly=function(a,b){return Y(this,void 0,void 0,function(){var c,e;return Z(this,function(g){switch(g.label){case 0:return[4,this.getAllHints(a,b)];case 1:return c=g.sent(),e={},Object.keys(c).forEach(function(a){e[a]=c[a].value}),
[2,e]}})})};b.prototype.notify=function(a,b){var c=this,e;switch(b.nature){case "speculated_navigation_content":t.queueTask(function(){return Y(c,void 0,void 0,function(){return Z(this,function(c){switch(c.label){case 0:return(e=this._getASIN(b.target))?[4,this._writeToNavigationContentHintsStore(a,e,b.data,b.source)]:[2];case 1:return c.sent(),[2]}})})});break;case "page_attributes":t.queueTask(function(){return Y(c,void 0,void 0,function(){return Z(this,function(c){switch(c.label){case 0:return(e=
this._getASIN(b.source.url))?[4,this._writePageAttributes(a,b.data)]:[2];case 1:return c.sent(),[2]}})})})}};b.prototype.notifyEvent=function(a){"CustomerContextChange"===a.name&&this._evictStores(a.detail.eventOptions)};b.prototype._parseProperties=function(a,b){var c=p.isObject,e=p.isNonEmptyString,h=p.isPositiveInteger;if(!(b&&c(b)&&h(b.storeLimit)&&e(b.wdgLandingImageCacheName)&&e(b.wdgLandingImageCacheKey)&&h(b.wdgLandingImageMaxAge)))throw r.create("InvalidRenderingHintsDelegateProperties",
{name:a,properties:b});return{storeLimit:b.storeLimit,wdgLandingImageStore:{cacheName:b.wdgLandingImageCacheName,cacheKey:b.wdgLandingImageCacheKey,maxAge:b.wdgLandingImageMaxAge}}};b.prototype._getASIN=function(a){return Da.getASINFromUrl(a)};b.prototype._getPredictedLCPImage=function(a,e){return Y(this,void 0,void 0,function(){var c,g,h,d,f,l,k,m,p;return Z(this,function(n){switch(n.label){case 0:c=this._navigationContentHintsStore.get(e);if(!c||!c.hasOwnProperty("faceoutImage")||!c.hasOwnProperty("wdg"))return[2];
g=c.wdg.value;h=c.faceoutImage;d=h.value;f=h.source;return(l=Ba.getPhysicalId(d))?[4,this._wdgLandingImageStore.get(g)]:[2];case 1:return(k=n.sent())&&k.hasOwnProperty("lcpImage")?[3,3]:[4,this._wdgLandingImageStore.get(b._WDG_LAST_VISITED)];case 2:k=n.sent();if(!k||!k.hasOwnProperty("lcpImage"))return this._metricsService.tag(a,this._getMetricName("WDG:NotFound")),[2];this._metricsService.tag(a,this._getMetricName("WDG:LastVisited"));return[3,4];case 3:this._metricsService.tag(a,this._getMetricName("WDG:Match")),
n.label=4;case 4:return m=k.lcpImage.value,(p=Ba.replacePhysicalId(m,l))?[2,{value:p,source:f}]:[2]}})})};b.prototype._writeToNavigationContentHintsStore=function(a,b,c,g){return Y(this,void 0,void 0,function(){var e;return Z(this,function(d){try{e=this._navigationContentHintsStore.get(b)||{},Object.keys(c).forEach(function(a){e[a]={value:c[a],source:g}}),this._navigationContentHintsStore.set(b,e)}catch(n){this._metricsService.error(a,r.create("RenderingHintsWriteFailed",{nature:"speculated_navigation_content",
asin:b,data:c},n),this._errorLoggingScope)}return[2]})})};b.prototype._writePageAttributes=function(a,e){return Y(this,void 0,void 0,function(){var c,g,h,d,f,l,k;return Z(this,function(n){switch(n.label){case 0:if(!p.isNonEmptyString(e.wdg)||!p.isNonEmptyString(e.lcpImage))return[2];c=e.wdg;g=e.lcpImage;h=(k={},k.lcpImage={value:g},k);n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._wdgLandingImageStore.get(c)];case 2:return(f=(d=n.sent())?d.lcpImage.value:void 0)&&this._isStyleCodeFlip(f,g)&&
this._metricsService.count(a,this._getMetricName("WDGLCPStyleCodeFlip")),[4,Promise.all([f===g?Promise.resolve():this._wdgLandingImageStore.set(c,h),this._wdgLandingImageStore.set(b._WDG_LAST_VISITED,h)])];case 3:return n.sent(),[3,5];case 4:return l=n.sent(),this._metricsService.error(a,r.create("RenderingHintsWriteFailed",{nature:"page_attributes",data:e},l),this._errorLoggingScope),[3,5];case 5:return[2]}})})};b.prototype._isStyleCodeFlip=function(a,b){a=Ba.replacePhysicalId(a,"");b=Ba.replacePhysicalId(b,
"");return!(!a||!b||a===b)};b.prototype._validateWDGLandingImageRecord=function(a,b){var c=p.isNonEmptyString,e=p.isObject,h=p.isArrayWhereEvery;return c(a)&&e(b)&&h(Object.keys(b),function(a){return c(a)&&c(b[a].value)})};b.prototype._evictStores=function(a){var b=this;t.queueTask(function(){return Y(b,void 0,void 0,function(){return Z(this,function(b){switch(b.label){case 0:return this._navigationContentHintsStore.clear(),[4,this._wdgLandingImageStore.clear()];case 1:return b.sent(),this._metricsService.count(a,
this._getMetricName("Eviction")),[2]}})})})};b.prototype._getMetricName=function(a){return"RenderingHints:".concat(this._name,":").concat(a)};b._WDG_LAST_VISITED="last_visited_display_on_website";H([k],b.prototype,"getHint",null);H([k],b.prototype,"getHintValueOnly",null);H([k],b.prototype,"getAllHints",null);H([k],b.prototype,"getAllHintsValueOnly",null);H([k],b.prototype,"notify",null);H([k],b.prototype,"notifyEvent",null);H([k],b.prototype,"_parseProperties",null);H([k],b.prototype,"_getASIN",
null);H([k],b.prototype,"_getPredictedLCPImage",null);H([k],b.prototype,"_writeToNavigationContentHintsStore",null);H([k],b.prototype,"_writePageAttributes",null);H([k],b.prototype,"_isStyleCodeFlip",null);H([k],b.prototype,"_validateWDGLandingImageRecord",null);H([k],b.prototype,"_evictStores",null);H([k],b.prototype,"_getMetricName",null);return b}(u),dg=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),gb=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Vb=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,
b||[])).next())})},Wb=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();
continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,k;return k=
{next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},eg=function(f){function b(a,e){var c=f.call(this)||this;c.logCtor(arguments);c._metricsService=e;c._store=new Qa(b._MAX_HINT_TARGETS);c._errorLoggingScope="NavigationContentHintsStore";return c}dg(b,f);b.prototype.read=function(a,b){return Vb(this,void 0,void 0,function(){var c,e,h;return Wb(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this._getCustomerContext()];
case 1:return c=d.sent(),[2,this._readFromStore(b,c)];case 2:return e=d.sent(),h=y.matchesCodeOrSignature(e,"NetworkError",J.NETWORK_ERROR),y.matchesCode(e,"UnsupportedCookieStoreAPI")||this._metricsService.error(a,r.create("RenderingHintsReadFailed",{target:b},e),this._errorLoggingScope,h?"ERROR":void 0),[2,{}];case 3:return[2]}})})};b.prototype.write=function(a,b,c,g){return Vb(this,void 0,void 0,function(){var e,d,f,l;return Wb(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),
[4,this._getCustomerContext()];case 1:return e=h.sent(),d=Da.resolveAdsRedirects(b),this._writeToStore(d,c,g,e),[3,3];case 2:f=h.sent();l=y.matchesCodeOrSignature(f,"NetworkError",J.NETWORK_ERROR);if(y.matchesCode(f,"UnsupportedCookieStoreAPI"))return[2];this._metricsService.error(a,r.create("RenderingHintsWriteFailed",{target:b},f),this._errorLoggingScope,l?"ERROR":void 0);return[3,3];case 3:return[2]}})})};b.prototype._readFromStore=function(a,b){var c=this._store.get(a)||{},e={};Object.keys(c).filter(function(a){return c[a].validity?
Object.keys(c[a].validity).every(function(d){return c[a].validity[d]===b[d]}):!0}).forEach(function(a){var b=c[a];e[a]={value:b.value,source:b.source}});return e};b.prototype._writeToStore=function(a,b,c,g){var e=this._store.get(a)||{};Object.keys(b).forEach(function(a){e[a]={value:b[a],validity:g,source:c}});this._store.set(a,e)};b.prototype._getCustomerContext=function(){return Vb(this,void 0,void 0,function(){return Wb(this,function(a){return[2,{session:"unknown",recognition:"unknown",language:"unknown"}]})})};
b._MAX_HINT_TARGETS=500;gb([k],b.prototype,"write",null);gb([k],b.prototype,"_readFromStore",null);gb([k],b.prototype,"_writeToStore",null);gb([k],b.prototype,"_getCustomerContext",null);return b}(u),fg=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==
typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Xb=this&&this.__assign||function(){Xb=Object.assign||function(f){for(var b,a=1,e=arguments.length;a<e;a++){b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(f[c]=b[c])}return f};return Xb.apply(this,arguments)},R=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===
e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},wa=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}
function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},xa=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;
h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];
return d[1]},trys:[],ops:[]},g,h,d,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},gg=this&&this.__values||function(f){var b="function"===typeof Symbol&&Symbol.iterator,a=b&&f[b],e=0;if(a)return a.call(f);if(f&&"number"===typeof f.length)return{next:function(){f&&e>=f.length&&(f=void 0);return{value:f&&f[e++],done:!f}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.");},hg=function(f){function b(a,
b,c,g,h){var d=f.call(this)||this;d.logCtor(arguments);d._metricsService=c;d._errorLoggingScope="RenderingHintsService";d._navigationContentHintsStore=new eg(g,c);d._delegates=d._initDelegates(a,b,c,g,h);a.subscribe("RenderingHints",d);return d}fg(b,f);b.prototype.getHints=function(a,b){return wa(this,void 0,void 0,function(){var c;return xa(this,function(e){switch(e.label){case 0:return[4,this._navigationContentHintsStore.read(a,b)];case 1:return c=e.sent(),[2,Xb({},c)]}})})};b.prototype.getHintsDataOnly=
function(a,b){return wa(this,void 0,void 0,function(){var c,e;return xa(this,function(g){switch(g.label){case 0:return[4,this.getHints(a,b)];case 1:return c=g.sent(),e={},Object.keys(c).forEach(function(a){e[a]=c[a].value}),[2,e]}})})};b.prototype.getHint=function(a,b,c,g){return wa(this,void 0,void 0,function(){return xa(this,function(e){try{return[2,this._getDelegate(c).getHint(a,b,g)]}catch(d){this._metricsService.error(a,d,this._errorLoggingScope)}return[2]})})};b.prototype.getHintValueOnly=function(a,
b,c,g){return wa(this,void 0,void 0,function(){return xa(this,function(e){try{return[2,this._getDelegate(c).getHintValueOnly(a,b,g)]}catch(d){this._metricsService.error(a,d,this._errorLoggingScope)}return[2]})})};b.prototype.getAllHints=function(a,b,c){return wa(this,void 0,void 0,function(){return xa(this,function(e){try{return[2,this._getDelegate(c).getAllHints(a,b)]}catch(h){this._metricsService.error(a,h,this._errorLoggingScope)}return[2,{}]})})};b.prototype.getAllHintsValueOnly=function(a,b,
c){return wa(this,void 0,void 0,function(){return xa(this,function(e){try{return[2,this._getDelegate(c).getAllHintsValueOnly(a,b)]}catch(h){this._metricsService.error(a,h,this._errorLoggingScope)}return[2,{}]})})};b.prototype.notifyEvent=function(a){var b=this;"RenderingHints"===a.name&&a.detail&&this._filterValidRenderingHintsOptions(a.detail.options).forEach(function(c){switch(c.nature){case "speculated_navigation_content":t.queueTask(function(){return wa(b,void 0,void 0,function(){return xa(this,
function(b){switch(b.label){case 0:return[4,this._navigationContentHintsStore.write(a.detail.eventOptions,c.target,c.data,c.source)];case 1:return b.sent(),[2]}})})});break;default:b.log("notifyEvent","Ignoring writing hint with unknown nature: ".concat(c.nature))}Object.keys(b._delegates).forEach(function(e){b._delegates[e].notify(a.detail.eventOptions,c)})})};b.prototype._initDelegates=function(a,b,c,g,h){g={};try{g["detail-page"]=new cg("detail-page",a,b,c,this._getDelegateProperties("detail-page",
h))}catch(d){a=d,c.error(ba.create(),a,this._errorLoggingScope)}return g};b.prototype._getDelegate=function(a){if(!this._delegates[a])throw r.create("UnrecognizedRenderingHintsDelegate",{name:a});return this._delegates[a]};b.prototype._getDelegateProperties=function(a,b){var c;try{for(var e=gg(b),h=e.next();!h.done;h=e.next()){var d=h.value;if(d.name===a)return d.properties}}catch(l){var f={error:l}}finally{try{h&&!h.done&&(c=e.return)&&c.call(e)}finally{if(f)throw f.error;}}};b.prototype._filterValidRenderingHintsOptions=
function(a){if(!Array.isArray(a))return[];var b=p.isObject,c=p.isOneOf,g=p.isNonEmptyString;return a.filter(function(a){var d=b(a)&&c(a.nature,["speculated_navigation_content","page_attributes"])&&b(a.data)&&b(a.source)&&g(a.source.url)&&g(a.source.pty);switch(a.nature){case "speculated_navigation_content":return d&&g(a.target);case "page_attributes":return d;default:return!1}})};R([k],b.prototype,"getHints",null);R([k],b.prototype,"getHintsDataOnly",null);R([k],b.prototype,"getHint",null);R([k],
b.prototype,"getHintValueOnly",null);R([k],b.prototype,"getAllHints",null);R([k],b.prototype,"getAllHintsValueOnly",null);R([k],b.prototype,"notifyEvent",null);R([k],b.prototype,"_initDelegates",null);R([k],b.prototype,"_getDelegate",null);R([k],b.prototype,"_getDelegateProperties",null);R([k],b.prototype,"_filterValidRenderingHintsOptions",null);return b}(u),ig=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Jc=function(f){function b(a,b,c,g,h,d){var e=f.call(this)||this;e.logCtor(arguments);e.customerContextService=a;e.cacheService=b;e.metricsService=
c;e.contentFragmentService=g;e.renderingHintsService=h;e.eventBus=d;return e}ig(b,f);return b}(u),jg=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),oa=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Kc=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof
a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Lc=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),
0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();
continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},kg=function(f){function b(a,b,c,g,h,d,k){var e=f.call(this,a,b,c,g,h,k)||this;e._clientMessagingService=d;e.logCtor(arguments);return e}jg(b,f);b.prototype.respond=function(a,
b){this._logCount(a,"IncomingRequest");var c=E.parse(b.request.url);if(c){var e=204,h=null;this._logClientMessageAsFetchRequestAttributionMetrics(a,c);var d=this._getMessageSchema(c);switch(d){case "customer_context_change.v1":this._transformMessageAndSendToClientMessagingService(a,c,d);this._logCountWithScope(a,d,"Schema");this.metricsService.mark(a,"Schema:".concat(d));this._waitForServerResponse(b);break;default:e=404,h="Schema not Found",this._logCountWithScope(a,"NotFound","Schema")}b.respondWith(this._getResponse(e,
h))}else this._logCount(a,"InvalidURL")};b.prototype._transformMessageAndSendToClientMessagingService=function(a,b,c){b=this._getMessagePayload(b);b=F.decode(b)||"{}";b=D.deserialize(b,{});this._clientMessagingService.notify(a.clientId,{feature:"lightsaber",command:c,options:b},a)};b.prototype._getMessageSchema=function(a){return w.clientMessageAsFetch.getSchema(a)||void 0};b.prototype._getMessagePayload=function(a){return w.clientMessageAsFetch.getPayload(a)||"{}"};b.prototype._logClientMessageAsFetchRequestAttributionMetrics=
function(a,b){var c=w.clientMessageAsFetch.getClient(b)||"unknown";this._logSanitizedAttribution(a,"Client",c);b=w.clientMessageAsFetch.getAttribution(b)||"unknown";this._logSanitizedAttribution(a,"Attribution",b)};b.prototype._logSanitizedAttribution=function(a,b,c){c=La.onlyWordChars(c).substr(0,50);this._logCountWithScope(a,c,b)};b.prototype._getResponse=function(a,b){return Kc(this,void 0,void 0,function(){return Lc(this,function(c){return[2,new Response(b,{status:a})]})})};b.prototype._waitForServerResponse=
function(a){"navigate"===a.request.mode&&"GET"===a.request.method&&a.waitUntil(this._waitForPreloadResponseIfExists(a))};b.prototype._waitForPreloadResponseIfExists=function(a){return Kc(this,void 0,void 0,function(){return Lc(this,function(b){switch(b.label){case 0:return a.preloadResponse?[4,a.preloadResponse]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})};b.prototype._logCount=function(a,b){this.metricsService.count(a,"ClientMessageAsFetch:".concat(b))};b.prototype._logCountWithScope=function(a,
b,c){this._logCount(a,"".concat(c,":").concat(b))};oa([k],b.prototype,"respond",null);oa([k],b.prototype,"_transformMessageAndSendToClientMessagingService",null);oa([k],b.prototype,"_getMessageSchema",null);oa([k],b.prototype,"_getMessagePayload",null);oa([k],b.prototype,"_logClientMessageAsFetchRequestAttributionMetrics",null);oa([k],b.prototype,"_getResponse",null);oa([k],b.prototype,"_waitForServerResponse",null);oa([k],b.prototype,"_waitForPreloadResponseIfExists",null);return b}(Jc),lg=this&&
this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),ya=this&&this.__decorate||
function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},mg=function(f){function b(a,b,c,g){var e=f.call(this)||this;e.logCtor(arguments);e._eventOptions=b;e._metricsService=a;e._responseStrategyName=c;e._responseRuleName=g;e._errorLoggingScope=
"".concat(e._responseStrategyName,"ResponseStrategy");return e}lg(b,f);b.prototype.getMetricName=function(a){return"".concat(this._responseRuleName,":").concat(this._responseStrategyName,":").concat(a)};b.prototype.logCount=function(a,b,c){a=c?a:this.getMetricName(a);this._metricsService.count(this._eventOptions,a,b)};b.prototype.logMark=function(a){this._metricsService.mark(this._eventOptions,this.getMetricName(a))};b.prototype.logTag=function(a,b){a=b?a:this.getMetricName(a);this._metricsService.tag(this._eventOptions,
a)};b.prototype.logTagAndCount=function(a,b){this.logTag(a,b);this.logCount(a,1,b)};b.prototype.logCountError=function(a){this._metricsService.countError(this._eventOptions,a,this._errorLoggingScope)};b.prototype.logError=function(a,b){this._metricsService.error(this._eventOptions,a,this._errorLoggingScope,b)};ya([k],b.prototype,"getMetricName",null);ya([k],b.prototype,"logCount",null);ya([k],b.prototype,"logMark",null);ya([k],b.prototype,"logTag",null);ya([k],b.prototype,"logTagAndCount",null);ya([k],
b.prototype,"logCountError",null);ya([k],b.prototype,"logError",null);return b}(u),ng=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,
a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),pa=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Ia=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof
a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},Ja=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),
0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();
continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},Mc=function(f){function b(a,b,c,g,h){var d=f.call(this)||this;d.logCtor(arguments);d._swGlobal=a;d._metricsService=b;d._metricsHelper=c;d._responseRuleName=h;d._eventBus=
g;return d}ng(b,f);b.prototype.fetchServerResponse=function(a,b){return Ia(this,void 0,void 0,function(){return Ja(this,function(c){return[2,b?Va.getResponseWithoutRelay(a):Va.getResponseWithRelay(a)]})})};b.prototype.readServerResponse=function(a,b,c,g,h,d){void 0===g&&(g="unknown");return Ia(this,void 0,void 0,function(){var e,f,k,m;return Ja(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,c];case 1:return e=l.sent(),[3,3];case 2:f=l.sent();if(y.matchesCode(f,"PreloadResponseUnexpected")){this._logError(f);
if(!d)throw f;return[2,this._getReloadBypassFallbackContent(a,b,h,"prx_".concat(g))]}if(y.matchesCode(f,"PreloadResponseUnsupported")){this._logError(f);if(!d)throw f;return[2,this._getErrorFallbackContent(a,b,h,"pru_".concat(g))]}k=r.create("FailedToFetch",void 0,f);this._logError(k,"ERROR");if(!d)throw k;return[2,this._getErrorFallbackContent(a,b,h,"flf_".concat(g))];case 3:if(!(e instanceof Response)){m=r.create("ResponseInvalid");this._logError(m);if(!d)throw m;return[2,this._getErrorFallbackContent(a,
b,h,"riv_".concat(g))]}if("opaqueredirect"===e.type)return[2,h?{unrecoverable:!0,parseable:!1,response:e}:this._getReloadBypassFallbackContent(a,b,h,"opr_".concat(g))];this._extractAndPublishRequestId(b,e);return 200!==e.status?[2,{unrecoverable:!1,parseable:!1,response:e}]:[2,{unrecoverable:!1,parseable:!0,response:e}]}})})};b.prototype._getErrorFallbackContent=function(a,b,c,g){return Ia(this,void 0,void 0,function(){var e,d;return Ja(this,function(h){switch(h.label){case 0:if(!ha.isMShop(this._swGlobal))return[3,
2];d={unrecoverable:!0,parseable:!1};return[4,this._getAppErrorFragment(a,b)];case 1:return e=(d.response=h.sent(),d),[3,3];case 2:e=this._getReloadBypassFallbackContent(a,b,c,g),h.label=3;case 3:return[2,e]}})})};b.prototype._getReloadBypassFallbackContent=function(a,b,c,g){return Ia(this,void 0,void 0,function(){var e;return Ja(this,function(d){switch(d.label){case 0:return e={unrecoverable:!0,parseable:!1},[4,this._getReloadBypassFragment(a,b,c,g)];case 1:return[2,(e.response=d.sent(),e)]}})})};
b.prototype._getAppErrorFragment=function(a,b){return Ia(this,void 0,void 0,function(){return Ja(this,function(c){this._metricsHelper.logCount("Emit:AppErrorFragment");return[2,(new we(b,this._metricsService,a.request.url,"-1","net::ERR_FAILED",a.request.referrer)).getResponse()]})})};b.prototype._getReloadBypassFragment=function(a,b,c,g){return Ia(this,void 0,void 0,function(){return Ja(this,function(e){this._metricsHelper.logCount("Emit:ReloadFragment");return[2,(new Oe(this._swGlobal,b,this._metricsService,
a.request.url,c,!0,"erf_".concat(this._responseRuleName,"_").concat(g))).getResponse()]})})};b.prototype._logError=function(a,b){var c=this;t.queueTask(function(){c._metricsHelper.logError(a,b);c._metricsHelper.logCountError(a)})};b.prototype._extractAndPublishRequestId=function(a,b){var c=this,e=b.headers.get(w.shared.REQUEST_ID_OPF_HEADER);e&&p.isNonEmptyString(e)?t.queueTask(function(){c._eventBus.publish({name:"RequestIdAvailable",detail:{eventOptions:a,requestId:e}})}):this._metricsHelper.logCount("RIDHeader:Missing")};
pa([k],b.prototype,"fetchServerResponse",null);pa([k],b.prototype,"readServerResponse",null);pa([k],b.prototype,"_getErrorFallbackContent",null);pa([k],b.prototype,"_getReloadBypassFallbackContent",null);pa([k],b.prototype,"_getAppErrorFragment",null);pa([k],b.prototype,"_getReloadBypassFragment",null);pa([k],b.prototype,"_logError",null);pa([k],b.prototype,"_extractAndPublishRequestId",null);return b}(u),og=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Yb=this&&this.__assign||function(){Yb=Object.assign||function(f){for(var b,a=1,e=arguments.length;a<e;a++){b=
arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(f[c]=b[c])}return f};return Yb.apply(this,arguments)},da=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},hb=this&&this.__awaiter||
function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},ib=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&
2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<
d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},pg=function(f){function b(a,b,c,g,h){var d=f.call(this)||this;d.logCtor(arguments);d._renderingHintsService=
a;d._metricsHelper=b;d._event=c;d._eventOptions=g;d._preloadConfig=h||[];return d}og(b,f);b.prototype.getHeadersWithPreload=function(a){return hb(this,void 0,void 0,function(){var b,c,g;return ib(this,function(e){switch(e.label){case 0:if(!this._preloadConfig.length)return[2,a];b=[];c=[];g=[];this._sortConfig(b,c,g);if(!c.length)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._resolveLegacyHints(b,c)];case 2:return e.sent(),[3,4];case 3:return e.sent(),this._metricsHelper.logCountError(r.create("PreloadLegacyHintResolution")),
[3,4];case 4:if(!g.length)return[3,8];e.label=5;case 5:return e.trys.push([5,7,,8]),[4,this._resolveHints(b,g)];case 6:return e.sent(),[3,8];case 7:return e.sent(),this._metricsHelper.logCountError(r.create("PreloadHintResolution")),[3,8];case 8:return[2,this._getOutputHeaders(b,a)]}})})};b.prototype.hasPreload=function(){return 0<this._preloadConfig.length};b.prototype._sortConfig=function(a,b,c){this._preloadConfig.forEach(function(e){"href"in e?a.push(e):"hrefFromHint"in e?b.push(e):"hrefHint"in
e&&c.push(e)})};b.prototype._resolveLegacyHints=function(a,b){return hb(this,void 0,void 0,function(){var c,e=this;return ib(this,function(g){switch(g.label){case 0:return[4,this._renderingHintsService.getHints(this._eventOptions,this._event.request.url)];case 1:return c=g.sent(),b.forEach(function(b){var d=b.purpose,g=b.attribution,f=b.hrefFromHint,h=b.as;b=b.fetchPriority;if(c.hasOwnProperty(f)){var k=E.parse(String(c[f].value));k?a.push({purpose:d,href:k.href,as:h,fetchPriority:b,attribution:e._getAttribution(g,
c[f].source)}):e._metricsHelper.logCountError(r.create("PreloadHintInvalidURL"))}else e._metricsHelper.logCount("PreloadHintMissing:".concat(d))}),[2]}})})};b.prototype._resolveHints=function(a,b){return hb(this,void 0,void 0,function(){var c,e=this;return ib(this,function(g){switch(g.label){case 0:return c=b.map(function(b){return hb(e,void 0,void 0,function(){var c,d,e,g,f,h,k,p,t;return ib(this,function(l){switch(l.label){case 0:return c=b.purpose,d=b.attribution,e=b.hrefHint,g=b.as,f=b.fetchPriority,
h=e.delegate,k=e.field,[4,this._renderingHintsService.getHint(this._eventOptions,this._event.request.url,h,k)];case 1:p=l.sent();if(!p)return this._metricsHelper.logCount("PreloadHintMissing:".concat(c)),[2];t=E.parse(String(p.value));if(!t)return this._metricsHelper.logCountError(r.create("PreloadHintInvalidURL")),[2];a.push({purpose:c,href:t.href,as:g,fetchPriority:f,attribution:this._getAttribution(d,p.source)});return[2]}})})}),[4,Promise.all(c)];case 1:return g.sent(),[2]}})})};b.prototype._getOutputHeaders=
function(a,e){var c=this,g=new Headers(e),f={};a.forEach(function(a){f[a.href]?c.log("_getOutputHeaders","Preload with same URL already issued, ignoring: ".concat(a.href)):(f[a.href]=!0,g.append(b._PRELOAD_HEADER_NAME,c._getLinkHeaderValue(a)),g.append(b._SERVER_TIMING_HEADER_NAME,c._getServerTimingHeaderValue(a)))});return g};b.prototype._getLinkHeaderValue=function(a){var b=a.as,c=a.fetchPriority;a="\x3c".concat(a.href,'\x3e; rel\x3d"preload"; as\x3d"').concat(b,'"');c&&(a="".concat(a,'; fetchpriority\x3d"').concat(c,
'"'));return a};b.prototype._getServerTimingHeaderValue=function(a){a=D.serialize(Yb({role:b._SERVER_TIME_RECORD_ROLE},a));return"".concat(v.NAMESPACE_LCASE,';desc\x3d"').concat(F.encodeRFC3986(a),'"')};b.prototype._getAttribution=function(a,b){return[a,b&&b.pty].filter(p.isNonEmptyString).join(":").toLowerCase()};b._PRELOAD_HEADER_NAME="Link";b._SERVER_TIMING_HEADER_NAME="Server-Timing";b._SERVER_TIME_RECORD_ROLE="rendering-hints/preload";da([k],b.prototype,"getHeadersWithPreload",null);da([k],b.prototype,
"hasPreload",null);da([k],b.prototype,"_sortConfig",null);da([k],b.prototype,"_resolveLegacyHints",null);da([k],b.prototype,"_resolveHints",null);da([k],b.prototype,"_getOutputHeaders",null);da([k],b.prototype,"_getLinkHeaderValue",null);da([k],b.prototype,"_getServerTimingHeaderValue",null);da([k],b.prototype,"_getAttribution",null);return b}(u),qg=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),rg=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},sg=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,
b||[])).next())})},tg=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();
continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,k;return k=
{next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},Nc=function(f){function b(a,b,c,g,h,d,k,l,q){var e=f.call(this)||this;e.logCtor(arguments);e.name=a;e.customerContextService=b;e.cacheService=c;e.metricsService=g;e.contentFragmentService=h;e.renderingHintsService=d;e.eventBus=k;e.eventOptions=l;e.responseRuleName=q;e.metricsHelper=new mg(g,l,e.name,q);return e}qg(b,f);b.prototype.getResponse=function(){return sg(this,void 0,void 0,function(){var a=
this;return tg(this,function(b){t.queueTask(function(){a.metricsHelper.logTagAndCount("Execute")});return[2,this.build()]})})};rg([k],b.prototype,"getResponse",null);return b}(u),ug=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&
null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Sa=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,
a,g),g},vg=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{l(e.next(a))}catch(m){h(m)}}function g(a){try{l(e["throw"](a))}catch(m){h(m)}}function l(b){b.done?a(b.value):c(b.value).then(d,g)}l((e=e.apply(f,b||[])).next())})},wg=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");
for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=
d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},xg=function(f){function b(a,b,c,g,h,d){var e=f.call(this)||this;e.logCtor(arguments);
e._customerContextService=a;e._cacheService=b;e._metricsHelper=c;e._eventBus=g;e._eventOptions=h;e._responseRuleName=d;return e}ug(b,f);b.prototype.getCachedPageFromCache=function(a){return vg(this,void 0,void 0,function(){var b,c,g,f,d,k,l;return wg(this,function(e){switch(e.label){case 0:return b=a.cacheName,c=a.cacheKey,g=a.validationKeys,d=(f=this._cacheService).read,k=[this._eventOptions,b,c],l={},[4,(new $a(this._customerContextService)).compute(g)];case 1:return[2,d.apply(f,k.concat([(l.validationKeys=
e.sent(),l)]))]}})})};b.prototype.getFilteredCachedPageHeaders=function(a){return w.shared.removeLibHeaders(a.headers)};b.prototype.getCachedPageMetadata=function(a){return(a=(a=(a=a.headers.get(w.shared.getClientOnlyLibHeader("metadata")))?F.decode(a):void 0)?D.deserialize(a):void 0)?{attribution:a.attribution||"unknown",staleness:"number"===typeof a.requestStartTimestampSeconds?I.getEpochSeconds(this._eventOptions.timeOriginEpoch)-a.requestStartTimestampSeconds:void 0}:{attribution:"unknown"}};
b.prototype.queueCachedPageMetadataMetrics=function(a){var b=this;t.queueTask(function(){var c=b.getCachedPageMetadata(a);b._metricsHelper.logTagAndCount("CachePopAttribution:".concat(c.attribution));c.staleness&&b._metricsHelper.logCount("CachedPageStaleness",c.staleness)})};b.prototype.queueCachedPageUpdate=function(a,b){var c=this;t.queueTask(function(){c._metricsHelper.logCount("Queue:CachedPageUpdate");c._metricsHelper.logCount("Queue:CachedPageUpdate:".concat(b?"OnHit":"OnMiss"));c._eventBus.publish({name:"ResponseRuleNavigation",
detail:{eventOptions:c._eventOptions,serverResponse:a,ruleName:c._responseRuleName}})})};Sa([k],b.prototype,"getCachedPageFromCache",null);Sa([k],b.prototype,"getFilteredCachedPageHeaders",null);Sa([k],b.prototype,"getCachedPageMetadata",null);Sa([k],b.prototype,"queueCachedPageMetadataMetrics",null);Sa([k],b.prototype,"queueCachedPageUpdate",null);return b}(u),yg=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=
b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),ea=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&
"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},za=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{k(e.next(a))}catch(m){h(m)}}function g(a){try{k(e["throw"](a))}catch(m){h(m)}}function k(b){b.done?a(b.value):c(b.value).then(d,g)}k((e=e.apply(f,
b||[])).next())})},Aa=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();
continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,k;return k=
{next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},zg=function(f){function b(a,b,c,g,h,d,k,l,q,m,p,r){var e=f.call(this,"FullPage",b,c,g,h,d,k,q,p)||this;e.logCtor(arguments);e._event=l;e._usePreloadResponseOnly=m;e._cachedPageConfig=r;e._cachedPageController=new xg(b,c,e.metricsHelper,k,q,p);e._serverResponseController=new Mc(a,g,e.metricsHelper,k,p);return e}yg(b,f);b.prototype.build=function(){return za(this,void 0,void 0,function(){var a,
b,c,g,f,d=this;return Aa(this,function(e){switch(e.label){case 0:a=this._serverResponseController.fetchServerResponse(this._event,this._usePreloadResponseOnly),this.metricsHelper.logMark("Query:CachedPage"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._cachedPageController.getCachedPageFromCache(this._cachedPageConfig)];case 2:return b=e.sent(),[3,4];case 3:return c=e.sent(),t.queueTask(function(){d.metricsHelper.logError(c);d.metricsHelper.logCountError(c);d.metricsHelper.logTagAndCount("CachedPageCacheMiss:CacheError")}),
[3,4];case 4:return this.metricsHelper.logMark("Arrived:CachedPage"),t.queueTask(function(){d.metricsHelper.logTagAndCount("CachedPageCache".concat(b?"Hit":"Miss"))}),b?(this._cachedPageController.queueCachedPageMetadataMetrics(b),[2,this._getCachedPageAssembledResponse(b,a)]):[4,this._serverResponseController.readServerResponse(this._event,this.eventOptions,a,"fprs",!0,!0)];case 5:return g=e.sent(),this.metricsHelper.logMark("Arrived:ServerResponse"),g.parseable&&(f=g.response.clone(),this._cachedPageController.queueCachedPageUpdate(f,
!1)),[2,g.response]}})})};b.prototype._getCachedPageAssembledResponse=function(a,b){return za(this,void 0,void 0,function(){return Aa(this,function(c){return[2,new Response(this._getAssembledResponseOutputStream(a,b),this._getAssembledResponseInit(a))]})})};b.prototype._getAssembledResponseInit=function(a){return{status:200,statusText:"OK",headers:this._cachedPageController.getFilteredCachedPageHeaders(a)}};b.prototype._getAssembledResponseOutputStream=function(a,b){var c=this;return new ReadableStream({start:function(e){return za(c,
void 0,void 0,function(){var c,d,g,f,k,m,p,r,t,u,v,U;return Aa(this,function(h){switch(h.label){case 0:c=new Yc,this._event.waitUntil(c.promise),h.label=1;case 1:return h.trys.push([1,13,14,15]),d=this._toOutputStream("CachedPage",a,e),g=this._serverResponseController.readServerResponse(this._event,this.eventOptions,b,"fprs",!1,!0),[4,d];case 2:return h.sent(),f=this._toOutputStream,k=["PageMetadata"],[4,this._getPageMetadataFragment(a)];case 3:return[4,f.apply(this,k.concat([h.sent(),e]))];case 4:h.sent();
if(!T.isDebug)return[3,7];m=this._toOutputStream;p=["DebugInfo"];return[4,this._getDebugInfoFragment()];case 5:return[4,m.apply(this,p.concat([h.sent(),e]))];case 6:h.sent(),h.label=7;case 7:return[4,g];case 8:return r=h.sent(),t=r.unrecoverable,u=r.parseable,v=r.response,this.metricsHelper.logMark("Arrived:ServerResponse"),"opaqueredirect"!==v.type?[3,10]:[4,this._toOutputStream("ServerResponse",v,e)];case 9:return h.sent(),e.close(),[2];case 10:e.close();this.metricsHelper.logTagAndCount("ServerResponseStatus:".concat(v.status));
if(t||!u)return[3,12];this._cachedPageController.queueCachedPageUpdate(v,!0);return[4,this._drainResponseClone(v)];case 11:h.sent(),h.label=12;case 12:return[3,15];case 13:throw U=h.sent(),e.close(),this.metricsHelper.logError(U),this.metricsHelper.logCountError(U),U;case 14:return c.resolveWith(),[7];case 15:return[2]}})})}})};b.prototype._drainResponseClone=function(a){return za(this,void 0,void 0,function(){var b;return Aa(this,function(c){switch(c.label){case 0:return b=a.clone(),[4,b.text()];
case 1:return c.sent(),[2]}})})};b.prototype._toOutputStream=function(a,b,c){return za(this,void 0,void 0,function(){var e=this;return Aa(this,function(g){switch(g.label){case 0:if(!(b.body instanceof ReadableStream))throw r.create("ResponseBodyInvalid");return[4,Ca.drain(b.body,function(a){e._processChunk(a,c)})];case 1:return g.sent(),this.metricsHelper.logMark("Flushed:".concat(a)),[2]}})})};b.prototype._processChunk=function(a,b){b.enqueue(a)};b.prototype._getPageMetadataFragment=function(a){return za(this,
void 0,void 0,function(){var b,c;return Aa(this,function(e){b=this._cachedPageController.getCachedPageMetadata(a);c={attribution:b.attribution,staleness:b.staleness};return[2,(new pc(this.eventOptions,this.metricsService,this.responseRuleName,this.name,c)).getResponse()]})})};b.prototype._getDebugInfoFragment=function(){return za(this,void 0,void 0,function(){return Aa(this,function(a){return[2,(new mc(this.eventOptions,this.metricsService,this._event.request.url)).getResponse()]})})};ea([k],b.prototype,
"build",null);ea([k],b.prototype,"_getCachedPageAssembledResponse",null);ea([k],b.prototype,"_getAssembledResponseInit",null);ea([k],b.prototype,"_getAssembledResponseOutputStream",null);ea([k],b.prototype,"_drainResponseClone",null);ea([k],b.prototype,"_toOutputStream",null);ea([k],b.prototype,"_processChunk",null);ea([k],b.prototype,"_getPageMetadataFragment",null);ea([k],b.prototype,"_getDebugInfoFragment",null);return b}(Nc),Ag=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),Ta=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?
e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Bg=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{k(e.next(a))}catch(m){h(m)}}function g(a){try{k(e["throw"](a))}catch(m){h(m)}}
function k(b){b.done?a(b.value):c(b.value).then(d,g)}k((e=e.apply(f,b||[])).next())})},Cg=this&&this.__generator||function(f,b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;
h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];
return d[1]},trys:[],ops:[]},g,h,d,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k},Dg=function(f){function b(a,b,c,g,h,d){var e=f.call(this)||this;e.logCtor(arguments);e._customerContextService=a;e._cacheService=b;e._metricsHelper=c;e._eventBus=g;e._eventOptions=h;e._responseRuleName=d;return e}Ag(b,f);b.prototype.getPageShellFromCache=function(a){return Bg(this,void 0,void 0,function(){var b,c,g,f,d,k,l,q,m,p,r,v,u=this;
return Cg(this,function(e){switch(e.label){case 0:return b=a.cacheName,c=a.cacheKey,g=a.validationKeys,f=a.delimiterKey,d=a.skeleton,q=(l=this._cacheService).read,m=[this._eventOptions,b,c],v={},[4,(new $a(this._customerContextService)).compute(g)];case 1:return[4,q.apply(l,m.concat([(v.validationKeys=e.sent(),v)]))];case 2:k=e.sent();if(!k)return[2];r=(p=k.headers.get(w.shared.getClientOnlyLibHeader(f)))?F.decode(p):void 0;return r?[2,{delimiter:r,response:k,skeleton:d}]:(t.queueTask(function(){u._metricsHelper.logTagAndCount("PageShellCacheMiss:Delimiter")}),
[2])}})})};b.prototype.getFilteredPageShellHeaders=function(a){return w.shared.removeLibHeaders(a.headers)};b.prototype.getPageShellMetadata=function(a){return(a=(a=(a=a.headers.get(w.shared.getClientOnlyLibHeader("metadata")))?F.decode(a):void 0)?D.deserialize(a):void 0)?{attribution:a.attribution||"unknown",staleness:"number"===typeof a.requestStartTimestampSeconds?I.getEpochSeconds(this._eventOptions.timeOriginEpoch)-a.requestStartTimestampSeconds:void 0}:{attribution:"unknown"}};b.prototype.queuePageShellMetadataMetrics=
function(a){var b=this;t.queueTask(function(){var c=b.getPageShellMetadata(a);b._metricsHelper.logTagAndCount("CachePopAttribution:".concat(c.attribution));c.staleness&&b._metricsHelper.logCount("PageShellStaleness",c.staleness)})};b.prototype.queuePageShellUpdate=function(a,b){var c=this;t.queueTask(function(){c._metricsHelper.logCount("Queue:PageShellUpdate");c._metricsHelper.logCount("Queue:PageShellUpdate:".concat(b?"OnHit":"OnMiss"));c._eventBus.publish({name:"ResponseRuleNavigation",detail:{eventOptions:c._eventOptions,
serverResponse:a,ruleName:c._responseRuleName}})})};Ta([k],b.prototype,"getPageShellFromCache",null);Ta([k],b.prototype,"getFilteredPageShellHeaders",null);Ta([k],b.prototype,"getPageShellMetadata",null);Ta([k],b.prototype,"queuePageShellMetadataMetrics",null);Ta([k],b.prototype,"queuePageShellUpdate",null);return b}(u),Eg=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),B=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,
b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},z=this&&this.__awaiter||function(f,b,a,e){function c(b){return b instanceof a?b:new a(function(a){a(b)})}return new (a||(a=Promise))(function(a,h){function d(a){try{k(e.next(a))}catch(m){h(m)}}function g(a){try{k(e["throw"](a))}catch(m){h(m)}}function k(b){b.done?a(b.value):c(b.value).then(d,g)}k((e=e.apply(f,b||[])).next())})},C=this&&this.__generator||function(f,
b){function a(a){return function(b){return e([a,b])}}function e(a){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,h&&(d=a[0]&2?h["return"]:a[0]?h["throw"]||((d=h["return"])&&d.call(h),0):h.next)&&!(d=d.call(h,a[1])).done)return d;if(h=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;h=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-
1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=b.call(f,c)}catch(q){a=[6,q],h=0}finally{g=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},g,h,d,k;return k={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&
(k[Symbol.iterator]=function(){return this}),k},Fg=function(f){function b(a,b,c,g,h,d,k,l,q,m,p,r,t,v,u){var e=f.call(this,"SingleDelimiter",b,c,g,h,d,k,q,p)||this;e.logCtor(arguments);e._event=l;e._usePreloadResponseOnly=m;e._pageShellsConfig=r;e._noPageShellConfig=t||{};e._flags=u||{};e._pageShellController=new Dg(b,c,e.metricsHelper,k,q,p);e._serverResponseController=new Mc(a,g,e.metricsHelper,k,p);e._preloadController=new pg(d,e.metricsHelper,l,q,v);return e}Eg(b,f);b.prototype.build=function(){return z(this,
void 0,void 0,function(){var a,b,c=this;return C(this,function(e){switch(e.label){case 0:return a=this._serverResponseController.fetchServerResponse(this._event,this._usePreloadResponseOnly),t.queueTask(function(){c.metricsHelper.logTagAndCount("Passthrough:".concat(!!c._flags.passthrough))}),this._flags.passthrough?[3,2]:[4,this._getPageShell(this._pageShellsConfig)];case 1:if(b=e.sent())return[2,this._getPageShellAssembledResponse(b,a)];if(this._noPageShellConfig.skeleton||this._preloadController.hasPreload())return[2,
this._getNoPageShellAssembledResponse(this._noPageShellConfig,a)];e.label=2;case 2:return[2,this._getNonAssembledResponse(a)]}})})};b.prototype._getPageShell=function(a){return z(this,void 0,void 0,function(){var b,c,g,f=this;return C(this,function(d){switch(d.label){case 0:this.metricsHelper.logMark("Query:PageShell"),c=0,d.label=1;case 1:if(!(c<a.length))return[3,6];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this._pageShellController.getPageShellFromCache(a[c])];case 3:return(b=d.sent())?
[3,6]:[3,5];case 4:return g=d.sent(),t.queueTask(function(){var a=y.matchesCodeOrSignature(g,"NetworkError",J.NETWORK_ERROR);f.metricsHelper.logError(g,a?"ERROR":void 0);f.metricsHelper.logCountError(g);f.metricsHelper.logTagAndCount("PageShellCacheMiss:CacheError")}),[3,5];case 5:return c++,[3,1];case 6:return this.metricsHelper.logMark("Arrived:PageShell"),t.queueTask(function(){f.metricsHelper.logTagAndCount("PageShellCache".concat(b?"Hit":"Miss"))}),b&&this._pageShellController.queuePageShellMetadataMetrics(b.response),
[2,b]}})})};b.prototype._getNonAssembledResponse=function(a){return z(this,void 0,void 0,function(){var b,c,g,f=this;return C(this,function(d){switch(d.label){case 0:return[4,this._serverResponseController.readServerResponse(this._event,this.eventOptions,a,"sdrsm",!0,!0)];case 1:return b=d.sent(),this.metricsHelper.logMark("Arrived:ServerResponse"),c=[],this._flags.passthrough&&c.push(function(){return z(f,void 0,void 0,function(){return C(this,function(a){switch(a.label){case 0:return[4,this._getPageShell(this._pageShellsConfig)];
case 1:return a.sent(),[2]}})})}),b.parseable&&(g=b.response.clone(),c.push(function(){return z(f,void 0,void 0,function(){return C(this,function(a){this._pageShellController.queuePageShellUpdate(g,!1);return[2]})})})),t.queueTask(function(){return z(f,void 0,void 0,function(){var a;return C(this,function(b){switch(b.label){case 0:a=0,b.label=1;case 1:return a<c.length?[4,c[a]()]:[3,4];case 2:b.sent(),b.label=3;case 3:return a++,[3,1];case 4:return[2]}})})}),this._logResponseSuccessTagAndCount(),
[2,b.response]}})})};b.prototype._getPageShellAssembledResponse=function(a,b){return z(this,void 0,void 0,function(){var c,e;return C(this,function(g){switch(g.label){case 0:return c=this._getPageShellAssembledResponseOutputStream(a,b),[4,this._getPageShellAssembledResponseInit(a)];case 1:return e=g.sent(),[2,new Response(c,e)]}})})};b.prototype._getNoPageShellAssembledResponse=function(a,b){return z(this,void 0,void 0,function(){var c,e;return C(this,function(g){switch(g.label){case 0:return c=this._getNoPageShellAssembledResponseOutputStream(a,
b),[4,this._getNoPageShellAssembledResponseInit()];case 1:return e=g.sent(),[2,new Response(c,e)]}})})};b.prototype._getPageShellAssembledResponseInit=function(a){return z(this,void 0,void 0,function(){var b;return C(this,function(c){switch(c.label){case 0:return[4,this._preloadController.getHeadersWithPreload(this._pageShellController.getFilteredPageShellHeaders(a.response))];case 1:return b=c.sent(),[2,{status:200,statusText:"OK",headers:b}]}})})};b.prototype._getNoPageShellAssembledResponseInit=
function(){return z(this,void 0,void 0,function(){var a;return C(this,function(b){switch(b.label){case 0:return[4,this._preloadController.getHeadersWithPreload(Ka.getCommonHTMLHeaders())];case 1:return a=b.sent(),[2,{status:200,statusText:"OK",headers:a}]}})})};b.prototype._getPageShellAssembledResponseOutputStream=function(a,b){var c=this;return new ReadableStream({start:function(e){return z(c,void 0,void 0,function(){var c,d,g,f,k,m,p,r,t,v,u,w,x,z,B,D,E,G,A,H,I,K,L,M,F,N;return C(this,function(h){switch(h.label){case 0:c=
!0,h.label=1;case 1:return h.trys.push([1,25,,26]),d=this._toOutputStream("PageShell",a.response,e),g=this._serverResponseController.readServerResponse(this._event,this.eventOptions,b,"sdrs",!1,!0),f=this._getSkeletonFragment(a,g),[4,d];case 2:return h.sent(),[4,f];case 3:return(k=h.sent())?[4,this._toOutputStream("Skeleton",k,e)]:[3,5];case 4:h.sent(),h.label=5;case 5:return m=this._toOutputStream,p=["ShellRenderPerfCounter"],[4,this._getPerfCounterFragment(this.metricsHelper.getMetricName("ShellRender"))];
case 6:return[4,m.apply(this,p.concat([h.sent(),e]))];case 7:return h.sent(),[4,g];case 8:return r=h.sent(),t=r.unrecoverable,v=r.parseable,u=r.response,this.metricsHelper.logMark("Arrived:ServerResponse"),t?[4,this._toOutputStream("ServerResponse",u,e)]:[3,10];case 9:return h.sent(),e.close(),[2];case 10:return w=this._getCSMTokensFragment(a.response,u),x=this._getPageMetadataFragment(a.response,u),z=v?this._getAfterDelimiterFragment(a,u):Promise.resolve(u.clone()),B=this._toOutputStream,D=["CSMTokens"],
[4,w];case 11:return[4,B.apply(this,D.concat([h.sent(),e]))];case 12:return h.sent(),E=this._toOutputStream,G=["PageMetadata"],[4,x];case 13:return[4,E.apply(this,G.concat([h.sent(),e]))];case 14:h.sent(),A=!1,h.label=15;case 15:return h.trys.push([15,18,,21]),H=this._toOutputStream,I=["AfterDelimiter"],[4,z];case 16:return[4,H.apply(this,I.concat([h.sent(),e]))];case 17:return h.sent(),[3,21];case 18:K=h.sent();if(!y.matchesCode(K,"StreamTransformMissingDelimiter"))return[3,20];c=!1;A=!0;this.metricsHelper.logTagAndCount("MissingDelimiter");
return this._flags.flushFullOnMissingDelimiter?[4,this._toOutputStream("MissingDelimiterFallback",u.clone(),e)]:[3,20];case 19:h.sent(),h.label=20;case 20:return[3,21];case 21:if(!T.isDebug)return[3,24];L=this._toOutputStream;M=["DebugInfo"];return[4,this._getDebugInfoFragment()];case 22:return[4,L.apply(this,M.concat([h.sent(),e]))];case 23:h.sent(),h.label=24;case 24:e.close();this.metricsHelper.logTagAndCount("ServerResponseStatus:".concat(u.status));c&&this._logResponseSuccessTagAndCount();if(!v||
A)return[2];this._pageShellController.queuePageShellUpdate(u,!0);return[3,26];case 25:throw F=h.sent(),e.close(),N=y.matchesCodeOrSignature(F,"NetworkError",J.NETWORK_ERROR),this.metricsHelper.logError(F,N?"ERROR":void 0),this.metricsHelper.logCountError(F),F;case 26:return[2]}})})}})};b.prototype._getNoPageShellAssembledResponseOutputStream=function(a,b){var c=this;return new ReadableStream({start:function(e){return z(c,void 0,void 0,function(){var c,d,g,f,k,m,p,r,t,u,v;return C(this,function(h){switch(h.label){case 0:return h.trys.push([0,
9,,10]),c=this._serverResponseController.readServerResponse(this._event,this.eventOptions,b,"sdrsn",!1,!0),d=this._getSkeletonFragment(a,c),[4,d];case 1:return(g=h.sent())?[4,this._toOutputStream("Skeleton",g,e)]:[3,3];case 2:h.sent(),h.label=3;case 3:return[4,c];case 4:return f=h.sent(),k=f.unrecoverable,m=f.parseable,p=f.response,this.metricsHelper.logMark("Arrived:ServerResponse"),[4,this._toOutputStream("ServerResponse",p.clone(),e)];case 5:h.sent();if(k)return e.close(),[2];if(!T.isDebug)return[3,
8];r=this._toOutputStream;t=["DebugInfo"];return[4,this._getDebugInfoFragment()];case 6:return[4,r.apply(this,t.concat([h.sent(),e]))];case 7:h.sent(),h.label=8;case 8:e.close();this.metricsHelper.logTagAndCount("ServerResponseStatus:".concat(p.status));this._logResponseSuccessTagAndCount();if(!m)return[2];this._pageShellController.queuePageShellUpdate(p,!1);return[3,10];case 9:throw u=h.sent(),e.close(),v=y.matchesCodeOrSignature(u,"NetworkError",J.NETWORK_ERROR),this.metricsHelper.logError(u,v?
"ERROR":void 0),this.metricsHelper.logCountError(u),u;case 10:return[2]}})})}})};b.prototype._toOutputStream=function(a,b,c){return z(this,void 0,void 0,function(){var e=this;return C(this,function(g){switch(g.label){case 0:if(!(b.body instanceof ReadableStream))throw r.create("ResponseBodyInvalid");return[4,Ca.drain(b.body,function(a){e._processChunk(a,c)})];case 1:return g.sent(),this.metricsHelper.logMark("Flushed:".concat(a)),[2]}})})};b.prototype._processChunk=function(a,b){b.enqueue(a)};b.prototype._getSkeletonFragment=
function(a,b){return z(this,void 0,void 0,function(){var c,e,f,d,k,l,p;return C(this,function(g){switch(g.label){case 0:c=a.skeleton;if(!c)return[2];e=c.data||{};f=c.hooks;d=this.contentFragmentService.render(this.eventOptions,c.name,{data:e,hooks:f});return c.race?[4,Promise.race([d,b])]:[3,2];case 1:return l=g.sent(),[3,4];case 2:return[4,d];case 3:l=g.sent(),g.label=4;case 4:return k=l,p=k instanceof Response,this.metricsHelper.logMark("Arrived:Skeleton"),this.metricsHelper.logTag("Skeleton:Race:".concat(!!c.race)),
this.metricsHelper.logTag("Skeleton:Render:".concat(p)),[2,p?k:void 0]}})})};b.prototype._getCSMTokensFragment=function(a,b){return z(this,void 0,void 0,function(){var c;return C(this,function(e){c=this._pageShellController.getPageShellMetadata(a);return[2,(new Be(this.eventOptions,this.metricsService,b,c.attribution)).getResponse()]})})};b.prototype._getPageMetadataFragment=function(a,b){return z(this,void 0,void 0,function(){var c,e,f,d,k,l,p;return C(this,function(g){c=this._pageShellController.getPageShellMetadata(a);
e=b.ok;f=b.type;d=b.status;k=b.redirected;l=b.headers.get(w.shared.REQUEST_ID_OPF_HEADER);p={attribution:c.attribution,staleness:c.staleness,serverResponse:{ok:e,type:f,status:d,redirected:k,requestId:l}};return[2,(new pc(this.eventOptions,this.metricsService,this.responseRuleName,this.name,p)).getResponse()]})})};b.prototype._getPerfCounterFragment=function(a){return z(this,void 0,void 0,function(){return C(this,function(b){return[2,(new Ke(this.eventOptions,this.metricsService,a)).getResponse()]})})};
b.prototype._getAfterDelimiterFragment=function(a,b){return z(this,void 0,void 0,function(){return C(this,function(c){return[2,(new pe(this.eventOptions,this.metricsService,b,a.delimiter)).getResponse()]})})};b.prototype._getDebugInfoFragment=function(){return z(this,void 0,void 0,function(){return C(this,function(a){return[2,(new mc(this.eventOptions,this.metricsService,this._event.request.url)).getResponse()]})})};b.prototype._logResponseSuccessTagAndCount=function(){this.metricsHelper.logTagAndCount("Response:Success");
this.metricsHelper.logTagAndCount("Response:Success",!0)};B([k],b.prototype,"build",null);B([k],b.prototype,"_getPageShellAssembledResponse",null);B([k],b.prototype,"_getNoPageShellAssembledResponse",null);B([k],b.prototype,"_getPageShellAssembledResponseInit",null);B([k],b.prototype,"_getNoPageShellAssembledResponseInit",null);B([k],b.prototype,"_getPageShellAssembledResponseOutputStream",null);B([k],b.prototype,"_getNoPageShellAssembledResponseOutputStream",null);B([k],b.prototype,"_toOutputStream",
null);B([k],b.prototype,"_processChunk",null);B([k],b.prototype,"_getSkeletonFragment",null);B([k],b.prototype,"_getCSMTokensFragment",null);B([k],b.prototype,"_getPageMetadataFragment",null);B([k],b.prototype,"_getPerfCounterFragment",null);B([k],b.prototype,"_getAfterDelimiterFragment",null);B([k],b.prototype,"_getDebugInfoFragment",null);B([k],b.prototype,"_logResponseSuccessTagAndCount",null);return b}(Nc),Gg=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),S=this&&this.__decorate||function(f,b,a,e){var c=arguments.length,g=3>c?b:null===e?e=Object.getOwnPropertyDescriptor(b,
a):e,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(f,b,a,e);else for(var d=f.length-1;0<=d;d--)if(h=f[d])g=(3>c?h(g):3<c?h(b,a,g):h(b,a))||g;return 3<c&&g&&Object.defineProperty(b,a,g),g},Hg=this&&this.__read||function(f,b){var a="function"===typeof Symbol&&f[Symbol.iterator];if(!a)return f;f=a.call(f);var e,c=[];try{for(;(void 0===b||0<b--)&&!(e=f.next()).done;)c.push(e.value)}catch(h){var g={error:h}}finally{try{e&&!e.done&&(a=f["return"])&&a.call(f)}finally{if(g)throw g.error;
}}return c},Ig=function(f){function b(a,b,c,g,h,d,k,l,p){var e=f.call(this,b,c,g,h,d,k)||this;e.logCtor(arguments);e._swGlobal=a;e._usePreloadResponseOnlyForServerResponseOnNavigations=p.usePreloadResponseOnlyForServerResponseOnNavigations;e._errorLoggingScope="NavigationResponseService";e._initNavigationRules(l);e._speculateContentFragmentUsage();return e}Gg(b,f);b.prototype.respond=function(a,b){try{for(var c=0;c<this._navigationRules.length;c++){var e=this._navigationRules[c];if(this._doesRuleMatch(e.routeMatchers,
a,b)){a.errorContext.NavigationResponseRule=e.src;a.errorContext.NavigationURL=b.request.url;var f=e.name;if(!e.leversEnabled){this._logTagAndCount(a,"Levers",!1,f);break}this._triggerWeblabs(e.weblabs,a);if(!e.respond){this._logTagAndCount(a,"Respond",!1,f);break}var d=this._createResponseStrategy(f,e.strategy,a,b);this._logMark(a,!0,f);b.respondWith(d.getResponse());this._logMark(a,!1,f);this._logTagAndCount(a,"Respond",!0,f);break}}}catch(n){throw this.metricsService.error(a,n,this._errorLoggingScope),
this.metricsService.countError(a,n,this._errorLoggingScope),n;}};b.prototype._initNavigationRules=function(a){var b=this;this._navigationRules=a.map(function(a){return{name:a.name,routeMatchers:a.routeMatchers.map(function(a){return b._createRouteMatcher(a)}),leversEnabled:b._resolveLevers(a.levers),weblabs:a.weblabTriggers,respond:a.respond,strategy:a.responseStrategy,src:D.serialize(a)}})};b.prototype._speculateContentFragmentUsage=function(){var a=this;this._navigationRules.forEach(function(b){switch(b.strategy.name){case "SingleDelimiter":b.strategy.pageShells.forEach(function(b){b.skeleton&&
a._publishSpeculatedContentFragmentUsage(b.skeleton)}),b.strategy.noPageShell&&b.strategy.noPageShell.skeleton&&a._publishSpeculatedContentFragmentUsage(b.strategy.noPageShell.skeleton)}})};b.prototype._publishSpeculatedContentFragmentUsage=function(a){var b=a.name;a=a.prewarm;this.eventBus.publish({name:"ContentFragmentSpeculation",detail:{eventOptions:ba.create(),name:b,prewarm:a}})};b.prototype._doesRuleMatch=function(a,b,c){for(var e=0;e<a.length;e++)if(a[e].match(c.request,c,b))return!0;return!1};
b.prototype._createRouteMatcher=function(a){switch(a.name){case "URLPathRoute":return new ic(a.pattern,a.stripRefMarkers,a.stripLanguageFolder);default:throw r.create("UnrecognizedRouteMatcher",a);}};b.prototype._resolveLevers=function(a){var e=this;return a&&0!==a.length?a.reduce(function(a,g){g=g.split(b.RULE_LEVER_SEPARATOR);if(2!==g.length)return!1;g=Hg(g,2);g=fa.getFeaturePropertiesData(e._swGlobal,g[0],g[1]);return a&&!0===(null===g||void 0===g?void 0:g.ruleEnabled)},!0):!1};b.prototype._createResponseStrategy=
function(a,b,c,g){switch(b.name){case "SingleDelimiter":return new Fg(this._swGlobal,this.customerContextService,this.cacheService,this.metricsService,this.contentFragmentService,this.renderingHintsService,this.eventBus,g,c,this._usePreloadResponseOnlyForServerResponseOnNavigations,a,b.pageShells,b.noPageShell,b.preloads,b.flags);case "FullPage":return new zg(this._swGlobal,this.customerContextService,this.cacheService,this.metricsService,this.contentFragmentService,this.renderingHintsService,this.eventBus,
g,c,this._usePreloadResponseOnlyForServerResponseOnNavigations,a,b.cachedPage);default:throw r.create("UnrecognizedResponseStrategy",b);}};b.prototype._triggerWeblabs=function(a,b){var c=this;a&&t.queueTask(function(){a.forEach(function(a){c.metricsService.weblabTrigger(b,a.name,a.treatment,a.directTrigger)})})};b.prototype._logTagAndCount=function(a,b,c,g){var e=this;t.queueTask(function(){var d=c?"Active":"Inactive";e.metricsService.tag(a,"".concat(b,":").concat(d));e.metricsService.count(a,"".concat(b,
":").concat(d));e.metricsService.tag(a,"".concat(b,":").concat(d,":").concat(g));e.metricsService.count(a,"".concat(b,":").concat(d,":").concat(g))})};b.prototype._logMark=function(a,b,c){b=b?"Before":"After";this.metricsService.mark(a,"Respond:".concat(b));this.metricsService.mark(a,"Respond:".concat(b,":").concat(c))};b.RULE_LEVER_SEPARATOR="::";S([k],b.prototype,"respond",null);S([k],b.prototype,"_initNavigationRules",null);S([k],b.prototype,"_speculateContentFragmentUsage",null);S([k],b.prototype,
"_publishSpeculatedContentFragmentUsage",null);S([k],b.prototype,"_doesRuleMatch",null);S([k],b.prototype,"_createRouteMatcher",null);S([k],b.prototype,"_resolveLevers",null);S([k],b.prototype,"_createResponseStrategy",null);S([k],b.prototype,"_triggerWeblabs",null);S([k],b.prototype,"_logTagAndCount",null);S([k],b.prototype,"_logMark",null);return b}(Jc),Jg=this&&this.__extends||function(){var f=function(b,a){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||
function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return f(b,a)};return function(b,a){function e(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");f(b,a);b.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),jb=this&&this.__assign||function(){jb=Object.assign||function(f){for(var b,a=1,e=arguments.length;a<e;a++){b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(f[c]=b[c])}return f};return jb.apply(this,arguments)},Oc=!1,Kg=function(f){function b(a){var b=f.call(this)||this;b.logCtor(arguments);b._checkAlreadyStarted();b._logDebugInfo(a);var c=b._getGlobal(a),g=b._getFlags(a,c);if(!b._isSupported(c,g)||!b._isClientEnabled(c))return b;var h=b._getConfig(a);b._startServices(c,g,h);return b}Jg(b,f);b.prototype._checkAlreadyStarted=function(){if(Oc)throw r.create("DuplicateLibraryInitialization");Oc=!0};b.prototype._logDebugInfo=function(a){T.isDebugVerbose&&
this.log("_logDebugInfo","Lib Init",{startTimeSeconds:I.getEpochSeconds(),libInfo:v,options:a})};b.prototype._getGlobal=function(a){return a.serviceWorkerGlobal||self};b.prototype._getFlags=function(a,b){b={usePreloadResponseOnlyForServerResponseOnNavigations:ha.isMShop(b)};return jb(jb({},b),a.flags)};b.prototype._getConfig=function(a){a=a.configuration;if(!(a&&Array.isArray(a.caches)&&Array.isArray(a.cachePopulationRules)&&Array.isArray(a.navigationResponseRules)&&Array.isArray(a.renderingHintsDelegates)))throw r.create("InvalidInitializationConfiguration",
{config:a});return{caches:(new uf).filter(a.caches),cachePopulationRules:(new zf).filter(a.cachePopulationRules),navigationResponseRules:(new Bf).filter(a.navigationResponseRules),contentFragments:(new xf).filter(a.contentFragments),renderingHintsDelegates:(new Ef).filter(a.renderingHintsDelegates)}};b.prototype._isSupported=function(a,b){a=new ac(a,b);try{return a.validate(),!0}catch(c){return this.log("_isSupported","".concat(c)),!1}};b.prototype._isClientEnabled=function(a){a=ha.isClientEnabled(a);
if(void 0===a)throw r.create("RuntimeConfigMissing");return a};b.prototype._startServices=function(a,b,c){var e=new Lf,f=new qf(a,e),d=new If(a),k=new Zf(a,f,e),l=new vd(a,k,c.caches,e),p=new Gf(k,e,c.contentFragments),m=new hg(e,l,k,d,c.renderingHintsDelegates),r=new Ig(a,d,l,k,p,m,e,c.navigationResponseRules,b);new cf(a,d,l,k,e,c.cachePopulationRules);new Rf(a,r,k,e,b);b=new kg(d,l,k,p,m,f,e);new Pf(a,b,k,e)};return b}(u);Pc.init=function(f){new Kg(f)}})(this.Lightsaber=this.Lightsaber||{})})();(function(c){var d=[],e=[],f=[],g=[],h=[],b=function(a,b){Array.isArray(b)&&a.push.apply(a,b.filter(function(a){return!!a}))};c.register=function(a){b(d,a.caches);b(e,a.cachePopulationRules);b(f,a.navigationResponseRules);b(g,a.contentFragments);b(h,a.renderingHintsDelegates)};c.getConfig=function(){return{caches:d,cachePopulationRules:e,navigationResponseRules:f,contentFragments:g,renderingHintsDelegates:h}}})(this.LightsaberConfiguration=this.LightsaberConfiguration||{});(function(){LightsaberConfiguration.register({caches:[{name:"PageShell",version:3,plugins:["MaxAge","ValidationKeys","Metadata"]},{name:"CachedPage",version:1,plugins:["MaxAge","ValidationKeys","Metadata"]}]})})();(function(){var e=function(){try{var d=JSON.parse(decodeURIComponent("%5B%7B%22name%22%3A%22search.mweb.common.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FMpUHacWg-I6k1n1.html%3FLightsaberSkeleton%3Dsearch.mweb.common.wave-pulse%22%7D%2C%7B%22name%22%3A%22search.mweb.common.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FCOIwIMzJRlzG3kA.html%3FLightsaberSkeleton%3Dsearch.mweb.common.static%22%7D%2C%7B%22name%22%3A%22search.mweb.common.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F1_zTZDo3kAc4yEz.html%3FLightsaberSkeleton%3Dsearch.mweb.common.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22search.mweb.common.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F3Z70JAQNutqCsaS.html%3FLightsaberSkeleton%3Dsearch.mweb.common.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22search.mweb.common.no-page-shell.mobile-tags-fixed.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FkaYXXlCdnQ_RKMs.html%3FLightsaberSkeleton%3Dsearch.mweb.common.no-page-shell.mobile-tags-fixed.wave-pulse%22%7D%2C%7B%22name%22%3A%22search.mweb.common.no-page-shell.mobile-tags-fixed.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FuLXtw4X-Nglem-K.html%3FLightsaberSkeleton%3Dsearch.mweb.common.no-page-shell.mobile-tags-fixed.static%22%7D%2C%7B%22name%22%3A%22search.app.common.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FsQ1INEBCJr-WJd4.html%3FLightsaberSkeleton%3Dsearch.app.common.wave-pulse%22%7D%2C%7B%22name%22%3A%22search.app.common.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FuJi2t5mUdlUoYIk.html%3FLightsaberSkeleton%3Dsearch.app.common.static%22%7D%2C%7B%22name%22%3A%22search.app.common.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FJ85eEX89jRswh78.html%3FLightsaberSkeleton%3Dsearch.app.common.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22search.app.common.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FvxOvDhWO24AGOto.html%3FLightsaberSkeleton%3Dsearch.app.common.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22search.app.common.no-page-shell.mobile-tags-fixed.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FddqF3q477eAOaka.html%3FLightsaberSkeleton%3Dsearch.app.common.no-page-shell.mobile-tags-fixed.wave-pulse%22%7D%2C%7B%22name%22%3A%22search.app.common.no-page-shell.mobile-tags-fixed.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FcypD9pPMGn4OeVG.html%3FLightsaberSkeleton%3Dsearch.app.common.no-page-shell.mobile-tags-fixed.static%22%7D%2C%7B%22name%22%3A%22homepage.app.common.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Flr0H5D0NTFNKQhu.html%3FLightsaberSkeleton%3Dhomepage.app.common.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22homepage.app.common.no-page-shell.redesign.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FhX2cVc_FlyCSNN4.html%3FLightsaberSkeleton%3Dhomepage.app.common.no-page-shell.redesign.static%22%7D%2C%7B%22name%22%3A%22dummy.nav.parameters.test.detail.mweb.common.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FQmUzfRkY8zxm_h-.html%3FLightsaberSkeleton%3Ddummy.nav.parameters.test.detail.mweb.common.static%22%7D%2C%7B%22name%22%3A%22dummy.nav.parameters.test.detail.mweb.common.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FSXGbm9cIeagthFx.html%3FLightsaberSkeleton%3Ddummy.nav.parameters.test.detail.mweb.common.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FGfkLvf0tKYWr3qu.html%3FLightsaberSkeleton%3Ddetail.mweb.common.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FNK4VEXsZ__9Qs0O.html%3FLightsaberSkeleton%3Ddetail.mweb.common.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FSXBIQFKitDb1kIz.html%3FLightsaberSkeleton%3Ddetail.mweb.common.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FmoB-QMOuXuCGSxZ.html%3FLightsaberSkeleton%3Ddetail.mweb.common.static%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.no-page-shell.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FhNt7h96mhzVsXZT.html%3FLightsaberSkeleton%3Ddetail.mweb.common.no-page-shell.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FUJ899vEnhbkdkl9.html%3FLightsaberSkeleton%3Ddetail.mweb.common.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.no-page-shell.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FJw5wBh0m6Y4N0xo.html%3FLightsaberSkeleton%3Ddetail.mweb.common.no-page-shell.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.no-page-shell.t0-reset.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F3f_VZGc-m-o1mna.html%3FLightsaberSkeleton%3Ddetail.mweb.common.no-page-shell.t0-reset.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.no-page-shell.t0-reset.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Ft0fujEDRqGtu5-N.html%3FLightsaberSkeleton%3Ddetail.mweb.common.no-page-shell.t0-reset.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.no-page-shell.t0-reset.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FGXeol8soQAiKuOB.html%3FLightsaberSkeleton%3Ddetail.mweb.common.no-page-shell.t0-reset.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.no-page-shell.t0-reset.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FZ1UsxIm1YNGp4FF.html%3FLightsaberSkeleton%3Ddetail.mweb.common.no-page-shell.t0-reset.static%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FOumXTXLhJ77u9o0.html%3FLightsaberSkeleton%3Ddetail.mweb.common.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F72Wn-hbwwR82o_u.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FUljfs8MVUPrWgDZ.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Fw6078KancyK1qGR.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F3b2o3Q-K6pz-Dqq.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.static%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.no-page-shell.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FbFeZxcaMTXlvkrG.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.no-page-shell.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FWk_R0wPlcTaQ_DH.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.no-page-shell.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F0Nz4LE_ozbCpKm3.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.no-page-shell.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F-tTMooPmJrsopoH.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.no-page-shell.mobile-tags-fixed.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FjtS29aXuWPBmKzk.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.no-page-shell.mobile-tags-fixed.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.no-page-shell.mobile-tags-fixed.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F5gUoLFLMK9rdTeO.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.no-page-shell.mobile-tags-fixed.static%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.no-page-shell.mobile-tags-fixed.move-nodes-title-meta-to-head.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FQzCgYP2h7T7ErAo.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.no-page-shell.mobile-tags-fixed.move-nodes-title-meta-to-head.static%22%7D%2C%7B%22name%22%3A%22detail.mweb.common.V2.move-nodes-title-meta-to-head.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FALdlfs8zdo7MOdY.html%3FLightsaberSkeleton%3Ddetail.mweb.common.V2.move-nodes-title-meta-to-head.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FW1N8Q1aZL5n3bJA.html%3FLightsaberSkeleton%3Ddetail.app.common.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.app.common.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F9Cf0ysgGhKyF-1d.html%3FLightsaberSkeleton%3Ddetail.app.common.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.app.common.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FczPW9y_Sxx96nIy.html%3FLightsaberSkeleton%3Ddetail.app.common.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.app.common.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FoVGYuhFYHFTCdRV.html%3FLightsaberSkeleton%3Ddetail.app.common.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.no-page-shell.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FEWB_sw_6qf7jdKF.html%3FLightsaberSkeleton%3Ddetail.app.common.no-page-shell.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.app.common.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FJ6c4Jd7NbaRf0gj.html%3FLightsaberSkeleton%3Ddetail.app.common.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.app.common.no-page-shell.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FoIKclKWywLCDtL_.html%3FLightsaberSkeleton%3Ddetail.app.common.no-page-shell.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.app.common.no-page-shell.t0-reset.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FnRk5Tc_cXRc1QV8.html%3FLightsaberSkeleton%3Ddetail.app.common.no-page-shell.t0-reset.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.app.common.no-page-shell.t0-reset.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F77vZba8iqN8WKAX.html%3FLightsaberSkeleton%3Ddetail.app.common.no-page-shell.t0-reset.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.app.common.no-page-shell.t0-reset.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FWGlTDgEF0O6Pt5e.html%3FLightsaberSkeleton%3Ddetail.app.common.no-page-shell.t0-reset.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.app.common.no-page-shell.t0-reset.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FZxJZoFhrRDfnixB.html%3FLightsaberSkeleton%3Ddetail.app.common.no-page-shell.t0-reset.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F-GregBi8p3mTCmB.html%3FLightsaberSkeleton%3Ddetail.app.common.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F6rLWQE7N3nkCgSz.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FqONRNxBiOTJFx8d.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FiZeU24BASDeSGN-.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FLNFe1CdF0Eeu8QC.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.no-page-shell.wave-vertical%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Fkbm42lnJEid4nRn.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.no-page-shell.wave-vertical%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Fd6Lb3mdbYx7utO9.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.no-page-shell.wave-horizontal%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Fwg0AfYvnakwxxcX.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.no-page-shell.wave-horizontal%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FTrZn4Rj3u_Gvu4t.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.no-page-shell.mobile-tags-fixed.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F1mN3B9t66mDarAe.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.no-page-shell.mobile-tags-fixed.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.no-page-shell.mobile-tags-fixed.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Fap31zlHyNGdtWj5.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.no-page-shell.mobile-tags-fixed.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.no-page-shell.mobile-tags-fixed.move-nodes-title-meta-to-head.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FAZToGzThmQbEmAI.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.no-page-shell.mobile-tags-fixed.move-nodes-title-meta-to-head.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.no-page-shell.mobile-tags-fixed.move-nodes-title-meta-to-head.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FnmLPc1izmS6Pft1.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.no-page-shell.mobile-tags-fixed.move-nodes-title-meta-to-head.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.no-page-shell.mobile-tags-fixed.bb-move-nodes-title-meta-to-head.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F_K9iIJ5xwl9SXjf.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.no-page-shell.mobile-tags-fixed.bb-move-nodes-title-meta-to-head.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.move-nodes-title-meta-to-head.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Ft6qm3j7hdHuDvxn.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.move-nodes-title-meta-to-head.wave-pulse%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.move-nodes-title-meta-to-head.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FtP1hEECsueIPAvC.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.move-nodes-title-meta-to-head.static%22%7D%2C%7B%22name%22%3A%22detail.app.common.V2.bb-move-nodes-title-meta-to-head.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F6DZJ1_Na8atNIp5.html%3FLightsaberSkeleton%3Ddetail.app.common.V2.bb-move-nodes-title-meta-to-head.static%22%7D%2C%7B%22name%22%3A%22checkout.mweb.common.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Fq4WjEHZWFOUIPm6.html%3FLightsaberSkeleton%3Dcheckout.mweb.common.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22checkout.mweb.common.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FqVn906Bos0aO4JI.html%3FLightsaberSkeleton%3Dcheckout.mweb.common.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22checkout.mweb.common.no-page-shell.spinner%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FKYchEGHgRnzSG4G.html%3FLightsaberSkeleton%3Dcheckout.mweb.common.no-page-shell.spinner%22%7D%2C%7B%22name%22%3A%22checkout.app.common.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FtISW75uY1B2sOnA.html%3FLightsaberSkeleton%3Dcheckout.app.common.wave-pulse%22%7D%2C%7B%22name%22%3A%22checkout.app.common.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FAkA8qBp6VJ89_WP.html%3FLightsaberSkeleton%3Dcheckout.app.common.static%22%7D%2C%7B%22name%22%3A%22checkout.app.common.spinner%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F6KtlTK8b6ysxz-l.html%3FLightsaberSkeleton%3Dcheckout.app.common.spinner%22%7D%2C%7B%22name%22%3A%22checkout.app.common.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FEcJxT7ulV5Si7hX.html%3FLightsaberSkeleton%3Dcheckout.app.common.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22checkout.app.common.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F2wN1C_bGYol6cIG.html%3FLightsaberSkeleton%3Dcheckout.app.common.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22checkout.app.common.no-page-shell.spinner%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2F5qb-jWLYplnt5ro.html%3FLightsaberSkeleton%3Dcheckout.app.common.no-page-shell.spinner%22%7D%2C%7B%22name%22%3A%22cart.mweb.common.page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Fye2mMq6zJQtDphr.html%3FLightsaberSkeleton%3Dcart.mweb.common.page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22cart.mweb.common.page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FuzzZxNR0aVSmGbW.html%3FLightsaberSkeleton%3Dcart.mweb.common.page-shell.static%22%7D%2C%7B%22name%22%3A%22cart.mweb.common.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FJlKhbWWI9qGtiSb.html%3FLightsaberSkeleton%3Dcart.mweb.common.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22cart.mweb.common.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FEOSlkkiFaq8WWf7.html%3FLightsaberSkeleton%3Dcart.mweb.common.no-page-shell.static%22%7D%2C%7B%22name%22%3A%22cart.app.common.page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FAUAltNB1eAIRBRE.html%3FLightsaberSkeleton%3Dcart.app.common.page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22cart.app.common.page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2Fs7mVkqz5S3pT2it.html%3FLightsaberSkeleton%3Dcart.app.common.page-shell.static%22%7D%2C%7B%22name%22%3A%22cart.app.common.no-page-shell.wave-pulse%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FiNK1DPnHPIS0TOC.html%3FLightsaberSkeleton%3Dcart.app.common.no-page-shell.wave-pulse%22%7D%2C%7B%22name%22%3A%22cart.app.common.no-page-shell.static%22%2C%22url%22%3A%22https%3A%2F%2Fm.media-amazon.com%2Fimages%2FS%2Fsash%2FtF5h323ghP29Dx9.html%3FLightsaberSkeleton%3Dcart.app.common.no-page-shell.static%22%7D%5D"))}catch(g){d=
[]}return{contentFragments:(this&&this.__spreadArray||function(d,b,e){if(e||2===arguments.length)for(var a=0,f=b.length,c;a<f;a++)!c&&a in b||(c||(c=Array.prototype.slice.call(b,0,a)),c[a]=b[a]);return d.concat(c||Array.prototype.slice.call(b))})([],d,!0)}}();LightsaberConfiguration.register(e)})();(function(){LightsaberConfiguration.register({caches:[{name:"RenderingHintsDelegate",version:1,plugins:["MaxAge","ValidationKeys","Metadata"]}],renderingHintsDelegates:[{name:"detail-page",properties:{storeLimit:500,wdgLandingImageCacheName:"RenderingHintsDelegate",wdgLandingImageCacheKey:"detail-page/wdg-landing-image",wdgLandingImageMaxAge:604800}}]})})();(function(){LightsaberConfiguration.register({cachePopulationRules:[void 0],navigationResponseRules:[void 0]})})();(function(){LightsaberConfiguration.register({cachePopulationRules:[void 0],navigationResponseRules:[void 0]})})();(function(){LightsaberConfiguration.register({cachePopulationRules:[void 0],navigationResponseRules:[void 0]})})();var AUI_JS_DEBUG=!1;(function(a){a.init=function(){}})(this.LightsaberShadow=this.LightsaberShadow||{});(function(){})();var WPN_CL_PNAFV="AmazonWebPushNotificationsClientLib-1.0.6691.0",AUI_JS_DEBUG=!1;(function(a){a.init=function(a){}})(this.WebPushNotifications=this.WebPushNotifications||{});var AUI_JS_DEBUG=!1;
(function(){var e=this&&this.__extends||function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return b(c,a)};return function(c,a){function d(){this.constructor=c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(d.prototype=a.prototype,
new d)}}();(function(b){function c(a){a=b.call(this,a)||this;Object.setPrototypeOf(a,c.prototype);return a}e(c,b);return c})(Error);self.addEventListener("install",function(b){AUI_JS_DEBUG&&console.log("[SW] ".concat("Installed"));b.waitUntil(self.skipWaiting())});self.addEventListener("activate",function(b){AUI_JS_DEBUG&&console.log("[SW] ".concat("Activated"));b.waitUntil(self.clients.claim())})})();