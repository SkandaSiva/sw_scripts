var l=197,A=new Date;new Date(A.getFullYear(),0,1);function C(t,a){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var r=new Date(Date.UTC(t.getUTCFullYear(),0,1)),o=Math.ceil(((t-r)/864e5+1)/a);return o}var L=C(A,10),h=new Date().getMonth(),b=new Date().getFullYear(),y=new Date().getDay(),_="high-v"+l+"-"+h,w="daily-v"+l+"-"+y,j="chunk-v"+l+"-"+h,I="nfirst-v"+l+"-"+h,q="img-v"+l+"-"+y,E="revalidate-v"+l+"-"+b+L,D="revalidate-v"+l+"-"+y,T=["/pwt.js","/ats.js","https://www.googletagmanager.com/gtm.js?id=GTM-","https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js","/locateservice_js/","https://connect.facebook.net/en_US/sdk","https://code.jquery.com/jquery-","https://cdnjs.cloudflare.com/ajax/libs","https://cdn.jsdelivr.net/","https://cdn.id5-sync.com/","https://cdn.prod.uidapi.com/","https://cdn.ampproject.org/","https://fonts.gstatic.com/","https://fonts.googleapis.com/","https://o.cdn.newsbytesapp.com/","https://cf-cdn.newsbytesapp.com/","https://g.glance-cdn.com/","cloudfront.net/assets","static.criteo.net","clmbtech.com/ase","awcv","cam-","_fy2021.js","config.aps.amazon-adsystem.com","c.amazon-adsystem.com/cdn/prod/config","/nb/templates-v4/"],H=["https://accounts.google.com/gsi/style","https://cdn.id5-sync.com/api/1.0/esp.js","https://cdn.jsdelivr.net/gh/prebid/shared-id/pubcid.js/docs/pubcid.min.js","https://tags.crwdcntrl.net/lt/c/16589/sync.min.js","https://s0.2mdn.net/ads/studio/Enabler.js","https://secure-assets.rubiconproject.com/utils/xapi/multi-sync.js","https://sb.scorecardresearch.com/beacon.js","https://onelinksmartscript.appsflyer.com/onelink-smart-script-latest.js","https://www.instagram.com/embed.js","https://platform.twitter.com/widgets.js","https://accounts.google.com/gsi/client","https://tpc.googlesyndication.com/sodar/sodar2.js","https://secure-assets.rubiconproject.com/utils/xapi/multi-sync.js","https://static.clmbtech.com/ctn/commons/images/ratio/304X171.png","https://tpc.googlesyndication.com/pagead/images/abg/icon.png","https://tpc.googlesyndication.com/pagead/images/abg/en.png","https://ase.clmbtech.com/decide-re-direction.htm","https://static.criteo.net/flash/icon/privacy.svg","https://cdn-ima.33across.com/ob.js","https://invstatic101.creativecdn.com/encrypted-signals/encrypted-tag-g.js","https://www.googleadservices.com/pagead/managed/js/activeview/current/reach_worklet.html","https://www.googleadservices.com/pagead/managed/js/activeview/current/reach_worklet.js","https://widgets.outbrain.com/outbrain.js","https://c.amazon-adsystem.com/aax2/apstag.js"],S=[],F=[],R=[],U=[["cdn.newsbytesapp.com/assets",".js"],["cdn.newsbytesapp.com/assets",".css"],["cloudfront.net",".js"],["cloudfront.net",".css"],".eot",".ttf",".woff",".woff2"],P=["googleapis","gpt.js","pubads_impl","adsbygoogle"],N=["https://c.amazon-adsystem.com/bao-csm/aps-comm/aps_csm.js"],O=[],k=[];(function(){console.log=function(...t){`${new Date().toISOString()}`},console.error=function(...t){`${new Date().toISOString()}`}})();var f=function(t,a){var r=!1,o;return Array.isArray(t)&&typeof a=="string"&&t.forEach(function(c){Array.isArray(c)?(o=0,c.forEach(function(u){typeof u=="string"&&a.includes(u)&&o++}),o===c.length&&(r=!0)):typeof c=="string"&&a.includes(c)&&(r=!0)}),r},g=function(t,a,r){self.clients.matchAll().then(o=>{o.forEach(c=>{c.postMessage({type:t,url:a,error:r.message})})})};addEventListener("fetch",function(t,a){async function r(e,p){t.respondWith(caches.open(p).then(n=>n.match(t.request.url).then(i=>i?(console.log("from cached 1 "+t.request.url,t.request,i,i.type,i.headers.get("content-type"),i.ok),i):t.preloadResponse.then(d=>d?(console.log("cache url preload response: ",t.request.url),d):fetch(t.request).then(s=>(console.log("1 "+t.request.url,t.request,s,s.type,s.headers.get("content-type"),s.ok),n.put(t.request,s.clone()).catch(m=>{g("network-error",t.request.url,m),console.error(m)}),s))).catch(d=>(console.error("cachedfetch errored: "+t.request.url,d),g("network-error",t.request.url,d),Promise.resolve())))))}async function o(e,p){e.respondWith(fetch(e.request).then(n=>{const i=n.clone();return caches.open(p).then(d=>{d.put(e.request,i).catch(s=>{g("network-error",e.request.url,s),console.error(s)})}),n}).catch(n=>(g("network-error",e.request.url,n),caches.match(e.request))))}async function c(e,p){e.respondWith(caches.open(p).then(n=>n.match(e.request).then(i=>{const d=fetch(e.request).then(s=>(console.log("3 "+e.request.url,e.request,s,s.type,s.headers.get("content-type"),s.ok),n.put(e.request,s.clone()).catch(m=>{g("network-error",e.request.url,m),console.error(m)}),s)).catch(s=>(console.error(""+e.request.url,s),g("network-error",e.request.url,s),Promise.resolve()));return i||d})))}async function u(e){return e.respondWith(async function(){const p=await e.preloadResponse;return console.log("basefetch preloading response for ",e.request.url,p),p}())}if(t.request.method==="GET")if(N.indexOf(t.request.url)>-1||f(P,t.request.url))r(t,E);else if(O.indexOf(t.request.url)>-1)c(t,D);else if(k.indexOf(t.request.url)>-1)o(t,I);else if(S.indexOf(t.request.url)>-1||f(F,t.request.url))r(t,w);else if(R.indexOf(t.request.url)>-1||f(U,t.request.url))r(t,j);else if(H.indexOf(t.request.url)>-1||f(T,t.request.url))r(t,_);else if(t.request.mode==="navigate"&&t instanceof FetchEvent&&t.preloadResponse)console.log("preloadResponse test: not in cache",t.request.method,t.request.url),u(t);else return});self.addEventListener("install",function(t){self.skipWaiting(),t.waitUntil(Promise.all([fetch(`/js/collect.${l}${h}.js?id=sw&action=install`).then(a=>{console.log("install called")}).catch(a=>{console.log(a)})]))});self.addEventListener("activate",function(t){var a=[_,w,j,q,E];t.waitUntil(Promise.all([self.clients.claim(),caches.keys().then(function(r){return Promise.all(r.map(function(o){if(a.indexOf(o)===-1)return caches.delete(o)}))}),new Promise(r=>{self.registration.navigationPreload&&self.registration.navigationPreload.enable(),r()}).catch(r=>{console.log("navigationPreload error",r)}),fetch(`/js/collect.${l}${h}.js?id=sw&action=activate`).then(r=>{console.log("activate called")}).catch(r=>{console.log("Fetch error:",r)})]))});self.addEventListener("message",t=>{var a=!1,r=t.data.error.level||"err",o=[];if(t.data&&t.data.type==="GPT_ERROR"?(o=[E],a=!0):t.data&&t.data.type==="SCRIPT_ERROR"?(o=[],a=!0):t.data&&t.data.type==="CACHE_ERROR"&&(o=[_,w,j,q,E],a=!0),a){const c=t.data.error.partner||"unk";Promise.all([caches.keys().then(function(u){return Promise.all(u.map(function(e){if(o.length>0&&o.indexOf(e)!==-1)return caches.delete(e).then(function(){t.data.type==="GPT_ERROR"&&g("network-error",t.data.error.url,{message:"GPT errored."})})}))}),fetch("/js/collect."+l+h+".js?id=ce&action="+t.data.error.code+"&partner="+c+"&l="+r).then(u=>{console.log("Client sent error: "+t.data.error.message)}).catch(u=>{console.log(u)})])}});
//# sourceMappingURL=sw-Bx_J1aL5.js.map

