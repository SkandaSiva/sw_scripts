const cacheName="milrab-cache-v1",offlinePage="/generated/res/html/offline.html",contentToCache=[offlinePage];self.addEventListener("install",(e=>{e.waitUntil(caches.open(cacheName).then((e=>e.addAll(contentToCache))))})),self.addEventListener("fetch",(e=>{"navigate"===e.request.mode&&e.respondWith(caches.match(e.request).then((()=>fetch(e.request).catch((()=>caches.match(offlinePage))))))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.map((e=>{if(e!==cacheName)return caches.delete(e)}))))))}));