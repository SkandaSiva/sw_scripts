var PACPUSH_PRESETS={Vibrates:{0:null,1:[200,100,200,100,200,100,400]},Paths:{Talker:"api/gpn/clienttalking"}},PACPUSH_TALK_Action=(self.addEventListener("install",function(i){self.skipWaiting()}),self.addEventListener("push",function(i){var n={};if(null!=(n=i.data?i.data.json():n)&&""!==n&&(null!=n.Title&&void 0!==n.Title&&""!==n.Title||null!=n.Body&&void 0!==n.Body&&""!==n.Body))if(self.Notification&&"granted"===self.Notification.permission){n.HasAnyActions=!1;var t=[];if(null!==n.Actions&&void 0!==n.Actions&&"[object Array]"===Object.prototype.toString.call(n.Actions))for(var o=0;o<n.Actions.length;o++){var e=n.Actions[o];null!=e&&null!==e.Key&&void 0!==e.Key&&""!==e.Key&&""!==e.Logic&&(n.HasAnyActions=!0,t.push({action:e.Key,title:e.Title,icon:e.Icon||""}))}var l={data:n,body:n.Body,icon:n.Icon||"",image:n.Image||"",badge:n.Badge||"",tag:n.Tag,vibrate:n.Silent?null:PACPUSH_PRESETS.Vibrates[1],requireInteraction:n.RequireInteraction,renotify:n.Renotify,silent:n.Silent,actions:t};PACPUSH_TALK_Action(n,"show","",self),i.waitUntil(self.registration.showNotification(n.Title,l))}else PACPUSH_TALK_Action(n,"notgranted","",self)}),self.onnotificationclick=function(i){i.notification.close();var n={};if(0==(n=i.notification.data?i.notification.data:n).HasAnyActions||""==i.action&&""==n.DefaultAction)return i.notification.close(),null!==n.ShowLink&&void 0!==n.ShowLink&&""!==n.ShowLink&&PACPUSH_LOGICS_OpenLink(i,n.ShowLink),void PACPUSH_TALK_Action(n,"click","",self);var t=null,o="";""==(o=void 0!==i.action&&""!==i.action?i.action.toLowerCase():o)&&void 0!==n.DefaultAction&&""!==n.DefaultAction&&(o=n.DefaultAction.toLowerCase());for(var e=0;e<n.Actions.length;e++){var l=n.Actions[e];if(null!=l&&null!==l.Key&&void 0!==l.Key&&""!==l.Key&&l.Key.toLowerCase()==o){t=l;break}}if(null==t)return i.notification.close(),null!==n.ShowLink&&void 0!==n.ShowLink&&""!==n.ShowLink&&PACPUSH_LOGICS_OpenLink(i,n.ShowLink),void PACPUSH_TALK_Action(n,"click","",self);PACPUSH_TALK_Action(n,"click",o,self),t.NotAutoClose||i.notification.close(),PACPUSH_LOGICS_DO(i,t)},self.onnotificationclose=function(i){var n={};i.notification.data&&(n=i.notification.data),PACPUSH_TALK_Action(n,"close","",self)},function(i,n,t,o){if(null!=n&&""!=n&&null!=i&&(null===i.NotTalking||void 0===i.NotTalking||!0!==i.NotTalking)){null==t&&(t="");var e=i.EndPointId,i=i.MessageId;if(null!=e&&""!=e&&null!=i&&""!=i){n={actionName:n,extraData:t,endPointId:e,messageId:i},t="";null!=o&&void 0!==o&&null!=o.registration&&void 0!==o.registration&&null!=o.registration.scope&&void 0!==o.registration.scope?t=o.registration.scope:domain=function(){for(var i="00680074007400700073003a002f002f007700770077002e007000610063002e00720075002f".match(/.{1,4}/g)||[],n="",t=0;t<i.length;t++)n+=String.fromCharCode(parseInt(i[t],16));return n}();try{fetch(t+PACPUSH_PRESETS.Paths.Talker,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(n)})}catch(i){}}}}),PACPUSH_LOGICS_DO=function(i,n){var t;null!=n&&void 0!==n.Logic&&""!=n.Logic&&("none"===(t=n.Logic.toLowerCase())||"close"===t?i.notification.close():"openlink"===t&&PACPUSH_LOGICS_OpenLink(i,n.ValueStr1))},PACPUSH_LOGICS_OpenLink=function(i,o){null!=o&&""!=o&&i.waitUntil(clients.matchAll({type:"window"}).then(function(i){for(var n=0;n<i.length;n++){var t=i[n];if(t.url==o&&"focus"in t)return t.focus()}if(clients.openWindow)return clients.openWindow(o)}))};