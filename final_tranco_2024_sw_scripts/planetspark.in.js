function onInstall(t){console.log("[Serviceworker]","Installing!",t),t.waitUntil(caches.open(CACHE_NAME).then(function(t){return t.addAll(["/offline.html"])}))}function onActivate(t){console.log("[Serviceworker]","Activating!",t),t.waitUntil(caches.keys().then(function(t){return Promise.all(t.filter(function(t){return 0!==t.indexOf(CACHE_VERSION)}).map(function(t){return caches["delete"](t)}))}))}function onFetch(t){t.respondWith(fetch(t.request)["catch"](function(){return caches.match(t.request).then(function(e){return e||("navigate"===t.request.mode||"GET"===t.request.method&&t.request.headers.get("accept").includes("text/html")?(console.log("[Serviceworker]","Fetching offline content",t),caches.match("/offline.html")):void 0)})}))}function onPush(t){const{body:e,icon:n,title:i,tag:o}=JSON.parse(t.data.text());t.waitUntil(registration.showNotification(i,{body:e,icon:n,tag:o}))}function onNotificationClick(t){t.notification.close();const e=t.notification.tag;if(e.includes("demo_class")){const e="http://www.planetspark.in/m_demos";t.waitUntil(clients.matchAll({type:"window"}).then(t=>{for(var n=0;n<t.length;n++){var i=t[n];if(i.url===e&&"focus"in i)return i.focus()}if(clients.openWindow)return clients.openWindow(e)}))}else{if(!e.includes("combat_lead"))return void console.log("Another type of notification, ignoring click action....");{const e="https://www.planetspark.in/employees/combat_leads";t.waitUntil(clients.matchAll({type:"window"}).then(t=>{for(var n=0;n<t.length;n++){var i=t[n];if(i.url===e&&"focus"in i)return i.focus()}if(clients.openWindow)return clients.openWindow(e)}))}}}var CACHE_VERSION="v1",CACHE_NAME=CACHE_VERSION+":sw-cache-";"function"==typeof importScripts&&importScripts("https://widgets.in.webengage.com/js/service-worker.js"),self.addEventListener("install",onInstall),self.addEventListener("activate",onActivate),self.addEventListener("fetch",onFetch),self.addEventListener("push",onPush),self.addEventListener("notificationclick",onNotificationClick);