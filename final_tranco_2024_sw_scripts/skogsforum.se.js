importScripts("/workbox/workbox-sw.js"),workbox.setConfig({modulePathPrefix:"/workbox/"}),workbox?console.log("Workbox loaded correctly!"):console.log("Workbox did not load, check log"),addEventListener("message",a=>{"skipWaiting"===a.data&&skipWaiting()});const CACHE_NAME="offline-html",FALLBACK_HTML_URL="/offline.html";addEventListener("install",async a=>{a.waitUntil(caches.open(CACHE_NAME).then(a=>a.add(FALLBACK_HTML_URL)))}),workbox.navigationPreload.enable();const networkOnly=new workbox.strategies.NetworkOnly,navigationHandler=async a=>{try{return await networkOnly.handle(a)}catch(a){return console.log(a),caches.match(FALLBACK_HTML_URL,{cacheName:CACHE_NAME})}},navigationRoute=new workbox.routing.NavigationRoute(navigationHandler);workbox.routing.registerRoute(navigationRoute);const{StaleWhileRevalidate}=workbox.strategies,{CacheFirst}=workbox.strategies,{CacheableResponsePlugin}=workbox.cacheableResponse;workbox.routing.registerRoute(({request:a})=>"script"===a.destination||"style"===a.destination||"font"===a.destination||"manifest"===a.destination,new StaleWhileRevalidate({cacheName:"static-cache2"})),workbox.routing.registerRoute(({request:a})=>"image"===a.destination,new CacheFirst({cacheName:"image-cache2",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:100,maxAgeSeconds:1209600,purgeOnQuotaError:!0})]}));