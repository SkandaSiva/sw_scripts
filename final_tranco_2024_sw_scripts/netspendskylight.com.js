"use strict";const sw=self;function preFetchPage(e){return fetch(e,{headers:{accept:"text/html"}}).then(e=>{if(!e.ok)throw new Error(`Failed to fetch page: ${e.status}`);return e.text()}).then(e=>{const t=(e.match(/<link[^>]*href=["'](?!http:)([^"']*)["']/g)||[]).map(e=>{var t;return(null===(t=e.match(/href="(.*?)"/))||void 0===t?void 0:t[1])||""});return Promise.all(t.map(e=>fetch(e,{mode:"no-cors"})))}).catch(e=>{console.warn("Something went wrong during prefetch.",e)})}self.addEventListener("message",e=>{e.data&&"PRE_FETCH"===e.data.type&&(console.log("Message Recieved from main thread to prefetch page"),preFetchPage(e.data.page).then(()=>sw.clients.matchAll({includeUncontrolled:!0})).then(e=>{e&&e.length&&e[0].postMessage({type:"PRE_FETCH",status:"done"}),console.log("All resources prefetched successfully!")}).catch(e=>{console.warn("Error during prefetch:",e)}))});
//# sourceMappingURL=c1539361a07716c40680229a2ea9c20f.js.map
