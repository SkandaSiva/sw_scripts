"use strict";var track=function(t,i){fetch(self.location.origin+"/push-notifications/events",{method:"post",headers:{"Content-type":"application/json;charset=UTF-8"},body:JSON.stringify({type:t.toUpperCase()||null,location:i.location||null,searchText:i.title||null,source:i.source||null,pushNotificationID:i.pushNotificationID||null,pushNotificationRunId:i.pushNotificationRunId||null,pushNotificationPlatformType:i.pushNotificationPlatformType||null,pushNotificationMessageType:i.pushNotificationMessageType||null})}).then(function(t){console.log("Request succeeded with JSON response",t)}).catch(function(t){console.log("Request failed",t)})},generateOptions=function(t,i){return{body:i,icon:self.location.origin+"/assets/images/serviceworker/Push-Notifications-stairway-GV.png",badge:self.location.origin+"/assets/images/serviceworker/PushN-GV-250x250-grey.png",vibrate:[100,50,100],requireInteraction:!0,data:t}};self.addEventListener("push",function(t){var i,o,n=JSON.parse(t.data.text()),e=null!=n.location&&""!=n.location?" in "+n.location:"",a=[];i=n.headline,o=generateOptions(n,n.adTitle+e),a.push({action:"action",title:"JOB ANZEIGEN"}),o.actions=a;var s=self.registration.showNotification(i,o);track("show",n),t.waitUntil(s)}),self.addEventListener("notificationclick",function(t){console.log(t),clients.openWindow(t.notification.data.link),t.notification.close()}),self.addEventListener("notificationclose",function(t){console.log(t),track("close",t.notification.data),t.notification.close()});