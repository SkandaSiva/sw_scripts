self.addEventListener("install",function(e){var n=new Request("off.html");e.waitUntil(fetch(n).then(function(e){return caches.open("offline").then(function(t){return console.log("[oninstall] Cached offline page",e.url),t.put(n,e)})}))}),self.addEventListener("fetch",function(e){var n=e.request;e.request.url.startsWith(self.location.origin)&&"GET"===n.method&&e.respondWith(fetch(n).catch(function(e){return console.error("[onfetch] Failed. Serving cached offline fallback "+e),caches.open("offline").then(function(e){return e.match("off.html")})}))});