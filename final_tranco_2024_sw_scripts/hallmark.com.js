

self.serverPreparedData = {"offlineUrl":"/on/demandware.static/Sites-hmk-onesite-Site/-/default/dw5ff2883c/offline.html","cachedParts":[{"url":"/on/demandware.store/Sites-hmk-onesite-Site/default/Page-IncludeHeaderMenu?sw=true","placeholder":"$swheader$","skipParameter":"sw_skipheader","cacheSuffix":"header","invalidateOnSessionChange":true,"cacheCleanTriggerActions":["set-site","Account-Login","Account-SaveNewPassword","Account-SubmitRegistration","EnterpriseSubscription-LoginSubmit","EnterpriseSubscription-SubmitRegistration","logout","Login-OAuthReentry","Order-CreateAccount","CSRF-Fail"]},{"url":"/on/demandware.store/Sites-hmk-onesite-Site/default/Cart-MiniCart?sw=true","placeholder":"$swminicarticon$","skipParameter":null,"cacheSuffix":"MiniCartIcon","invalidateOnSessionChange":true,"cacheCleanTriggerActions":["set-site","addproduct","shopping-cart","Cart-UpdateQuantity","Cart-RemoveProductLineItem","Cart-AddCoupon","Cart-RemoveCouponLineItem","Cart-EditProductLineItem","CSRF-AjaxFail","CSRF-Fail","CheckoutServices-PlaceOrder","orderconfirmation","COPlaceOrder-Submit","Account-Login","EnterpriseSubscription-LoginSubmit","EnterpriseSubscription-SubmitRegistration","logout","Login-OAuthReentry"]},{"url":"/on/demandware.store/Sites-hmk-onesite-Site/default/Page-IncludeFooter?sw=true","placeholder":"$swfooter$","skipParameter":"sw_skipfooter","cacheSuffix":"footer","invalidateOnSessionChange":true,"cacheCleanTriggerActions":[]}],"cachedUrls":[{"url":"/on/demandware.store/Sites-hmk-onesite-Site/default/Cart-MiniCartShow","cacheSuffix":"MiniCartShow","invalidateOnSessionChange":false,"cacheCleanTriggerActions":["set-site","addproduct","shopping-cart","Cart-UpdateQuantity","Cart-RemoveProductLineItem","Cart-AddCoupon","Cart-RemoveCouponLineItem","Cart-EditProductLineItem","CSRF-AjaxFail","CSRF-Fail","CheckoutServices-PlaceOrder","orderconfirmation","COPlaceOrder-Submit","Account-Login","EnterpriseSubscription-LoginSubmit","EnterpriseSubscription-SubmitRegistration","logout","Login-OAuthReentry"]}],"urlSiteId":"hmk-onesite","urlLocale":"default","cacheVersion":"v1731046102326"};
(()=>{"use strict";self.buildSuitePreparedData={codeVersion:"DEV-1730927644329",isProductionBuild:!0};const e=self.buildSuitePreparedData.codeVersion+"_"+self.serverPreparedData.cacheVersion,t=self.serverPreparedData.offlineUrl;async function s(t){let s,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){const e=t.request.url.split("?")[0].match(/\/([^/]+)(\/$|\/\?|\?|$)/);if(!e)return;const n=e[1],r=Object.keys(self.cacheCleanActions).find((e=>-1!==n.indexOf(e)))||"";s=self.cacheCleanActions[r]||[]}else r&&(s=self.sessionCleanParts);const a=[];if(s.length>0){const t=await caches.open(e),r=await t.keys(),i=(n?"."+n:"")+".";for(const e of r)s.find((t=>-1!==e.url.indexOf(i+t)))&&a.push(t.delete(e))}await Promise.all(a)}const n="$sw",r="x-sf-cc-siteid",a="x-sf-cc-requestlocale";function i(e,t,s,n){const r=e.length;let a=t,i=0,o=!1,c=!1,l=null;const h=n.map((t=>({config:t,placeholderBytes:t.placeholderBytes,length:t.placeholderBytes.length,match:t.placeholderBytes[i]===e[a],finished:1===t.placeholderBytes.length,beginIndex:0,endIndex:0})));for(a++,i++;a<r&&h.length>0&&!o&&!c;){o=!0;for(let t=h.length-1;t>=0;t--){const s=h[t];i<s.length&&(s.match=s.match&&s.placeholderBytes[i]===e[a]),i===s.length-1&&(s.finished=!0),o=o&&s.finished,c=c||s.finished&&s.match,s.match||h.splice(t,1)}a++,i++}return c&&(l=h[0],l.endIndex=a-1,l.beginIndex=l.endIndex-l.length-s.length+1),l}function o(e,t){const s=new TextEncoder,r=s.encode("$sw-session-hash$".replace(n,"")),a=s.encode(">"),i=e.length;let o,c=t,l=0,h=!1;const u={placeholderBytes:r,length:r.length,match:r[l]===e[c],finished:1===r.length};for(c++,l++;c<i&&u.match&&!u.finished&&!h;)l<u.length&&(u.match=u.match&&u.placeholderBytes[l]===e[c]),l===u.length-1&&(u.finished=!0),h=h||u.finished&&u.match,c++,l++;if(h){for(;c<i&&a[0]!==e[c];)c++;const s=e.slice(t,c),n=(new TextDecoder).decode(s).match(/content="([^"]+)"/);n&&(o=n[1])}return o}function c(){let e=0;for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];for(let t=0;t<s.length;t++)e+=s[t].length;const r=new Uint8Array(e);let a=0;for(let e=0;e<s.length;e++)r.set(s[e],a),a+=s[e].length;return r}async function l(l){let h;try{await s(l);const t=await async function(e){const t=new URL(e.url);let s=!1;if(self.serverPreparedData.cachedParts&&self.serverPreparedData.cachedParts.forEach((function(e){e.skipParameter&&(s||(s=t.searchParams.has(e.skipParameter)),t.searchParams.append(e.skipParameter,"true"))})),s){const t=new URL(e.url);return self.serverPreparedData.cachedParts.forEach((function(e){e.skipParameter&&t.searchParams.delete(e.skipParameter)})),t}if(/on\/demandware.store\/[^?]+\/__/.test(e.url))return e;const n={cache:e.cache,credentials:e.credentials,headers:e.headers,method:e.method,referrer:e.referrer,redirect:"manual"},r=await e.arrayBuffer();return r&&r.byteLength>0&&(n.body=r),new Request(t.toString(),n)}(l.request);if(t instanceof URL)return Response.redirect(t,301);if(h=await fetch(t),401===h.status)return new Response("\n        <html>\n            <head>\n                <script>\n                    navigator.serviceWorker.getRegistrations().then(function(registrations) {\n                        var unregisterPromises = registrations.map((registration) => registration.unregister());\n                        return Promise.all(unregisterPromises);\n                    }).then(function () {\n                        window.location.reload();\n                    }).catch(function () {\n                        window.location.reload();\n                    });\n                <\/script>\n            </head>\n            <body>\n            </body>\n        </html>\n    ",{headers:new Headers({"Content-Type":"text/html"})});if(301===h.status||302===h.status||"opaqueredirect"===h.type)return h;h=function(e,t,l){const h=function(e){const t={status:e.status,statusText:e.statusText,headers:{"X-ServedByServiceWorker":"true"}};return e.headers.forEach((function(e,s){t.headers&&(t.headers[s]=e)})),t}(e),u=h.headers&&h.headers[r],d=h.headers&&h.headers[a];if(!u||!d)return e;self.sessionHash=self.sessionHash||{};const f=new ReadableStream({done:!1,promisesQueue:[],async start(){this.reader=await(e.body?.getReader());const{placeholderPrefixBytes:s,placeholderConfigs:r}=function(e){const t=new TextEncoder;return{placeholderPrefixBytes:t.encode(n),placeholderConfigs:e.map((e=>{if(0!==e.placeholder.indexOf(n))throw Error("All placeholders should start from $sw. Please fix configuration!");return{...e,placeholderBytes:t.encode(e.placeholder.replace(n,""))}}))}}(t);this.placeholderPrefixBytes=s,this.placeholderConfigs=r,this.promisesQueue.push(this.getNextChunkFromBaseResponse())},async getNextChunkFromBaseResponse(){return{...await(this.reader?.read()),isBaseResponse:!0}},async getFromQueue(){const e=await this.promisesQueue.shift();for(;e&&e.mergeWithNext&&this.promisesQueue.length>0;){const{done:t,value:s,mergeWithNext:n,isBaseResponse:r}=await this.promisesQueue.shift()||{};e.done=e.done||t||!1,e.mergeWithNext=n,e.isBaseResponse=r,s&&(e.value=c(e.value||new Uint8Array,s))}return e},async pull(e){if(!this.promisesQueue.length)return e.close(),null;const{done:t,value:n,isBaseResponse:r}=await this.getFromQueue();if(this.done=this.done||t,this.done&&!n)return e.close(),null;const{foundPlaceholder:a,chunkBeforePlaceholder:c,chunkAfterPlaceholder:h,lastBytes:f,sessionHash:p}=function(e,t,s,n){const r=e.length;let a,c=0,l=0,h=null,u=e,d=null,f=null;for(;c<r&&!h;){for(;e[c]===t[l]&&l<t.length&&c<r;)l++,c++;l===t.length&&c<r&&(h=i(e,c,t,s),h||(a=o(e,c))),l=0,c++}return h?(u=e.slice(0,h.beginIndex),d=e.slice(h.endIndex+1)):n||(u.length>20?(f=u.slice(u.length-20),u=u.slice(0,u.length-20)):(f=u,u=null)),{sessionHash:a,foundPlaceholder:h,chunkBeforePlaceholder:u,chunkAfterPlaceholder:d,lastBytes:f}}(n||new Uint8Array,this.placeholderPrefixBytes||new Uint8Array,this.placeholderConfigs||[],this.done);return p&&self.sessionHash[u]!==p&&(await s(null,u,!0),self.sessionHash[u]=p),c&&e.enqueue(c),f&&this.promisesQueue.unshift(Promise.resolve({value:f,mergeWithNext:!0,done:!1})),h&&this.promisesQueue.unshift(Promise.resolve({value:h,mergeWithNext:!0,done:!1})),a&&this.promisesQueue.unshift(async function(e,t,s,n){const r=s+"."+t+"."+e.cacheSuffix;let a=await caches.match(r);if(!a){let i=e.url;i=i.replace(`-${self.serverPreparedData.urlSiteId}-`,`-${t}-`),i=i.replace(`/${self.serverPreparedData.urlLocale}/`,`/${s}/`),a=await fetch(new Request(i));const o=await caches.open(n);await o.put(r,a.clone())}return{value:new Uint8Array(await a.arrayBuffer()),done:!1}}(a.config,u,d,l)),!this.done&&r&&this.promisesQueue.push(this.getNextChunkFromBaseResponse()),this.pull&&this.pull(e)},cancel(){this.done=!0,this.promisesQueue=[]}});return new Response(f,h)}(h,self.serverPreparedData.cachedParts,e)}catch(s){h=await async function(){return(await caches.open(e)).match(t)}()}return h}!function(){const e={},t=[];for(const s of self.serverPreparedData.cachedParts){for(const t of s.cacheCleanTriggerActions)e[t]=e[t]||[],e[t].push(s.cacheSuffix);s.invalidateOnSessionChange&&t.push(s.cacheSuffix)}for(const s of self.serverPreparedData.cachedUrls){for(const t of s.cacheCleanTriggerActions)e[t]=e[t]||[],e[t].push(s.cacheSuffix);s.invalidateOnSessionChange&&t.push(s.cacheSuffix)}self.cacheCleanActions=e,self.sessionCleanParts=t}(),self.addEventListener("install",(s=>{s.waitUntil(async function(){const s=await caches.open(e);await s.add(new Request(t,{cache:"reload"}))}()),self.skipWaiting()})),self.addEventListener("activate",(t=>{t.waitUntil(async function(){"navigationPreload"in self.registration&&await self.registration.navigationPreload.disable()}()),async function(){const t=await caches.keys();Promise.all(t.filter((t=>t!==e)).map((e=>caches.delete(e))))}(),self.clients.claim()})),self.addEventListener("fetch",(t=>{const n=t.request,i=function(e){const t=e.request.headers.get(r),s=e.request.headers.get(a);if(s&&t)return self.serverPreparedData.cachedUrls.find((function(n){let r=n.url.replace(`-${self.serverPreparedData.urlSiteId}-`,`-${t}-`);return r=r.replace(`/${self.serverPreparedData.urlLocale}/`,`/${s}/`),-1!==e.request.url.indexOf(r)}))}(t);"same-origin"===n.mode&&i?t.respondWith(async function(t,s){if(s){const n=await caches.open(e),i=t.request.headers.get(r),o=t.request.headers.get(a)+"."+i+"."+s.cacheSuffix;let c=await caches.match(o);return c||(c=await fetch(t.request),t.waitUntil(n.put(o,c.clone())),c)}return fetch(t.request)}(t,i)):"same-origin"===n.mode?t.waitUntil(s(t)):"navigate"===n.mode?t.respondWith(l(t)):function(e){return!!self.buildSuitePreparedData.isProductionBuild&&(t=e.url,!(!/\/demandware.static\//g.test(t)||/\/demandware.static\/-\/Sites-[^/]+/g.test(t))&&(-1!==["image","script","style","font"].indexOf(e.destination)||function(e){return/.*\.(js|css)/.test(e)}(e.url)));var t}(n)&&t.respondWith(async function(t){const s=await caches.open(e),n=await s.match(t);let r;if(n)r=n;else{const e=await fetch(t);s.put(t,e.clone()),r=e}return r}(n))}))})();
