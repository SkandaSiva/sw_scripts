'use strict';self.addEventListener('fetch',function(){});self.addEventListener('push',function(event){console.log('[Service Worker] Push had this data: "'+event.data.text()+'"');try{let data=event.data.json();const title=data.title;const options={body:data.teaser,icon:data.icon,badge:data.badge,image:data.image,data:data.link,vibrate:[200,100,200,100,200,100,400]};event.waitUntil(self.registration.showNotification(title,options));}catch(error){console.log('[Service Worker] Error parsing data.',error.message);}});self.addEventListener('notificationclick',function(event){console.log('[Service Worker] Notification click Received.',event);event.notification.close();event.waitUntil(clients.openWindow(event.notification.data));});