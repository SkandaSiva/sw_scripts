function onInstall(t){console.log("[Serviceworker]","Installing!",t),t.waitUntil(caches.open(CACHE_NAME).then(function(t){return t.addAll(["/assets/application.js","/assets/application.css","https://code.jquery.com/jquery-3.2.1.min.js","https://code.jquery.com/jquery-migrate-1.4.1.min.js","https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js","https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js","https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css","https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0","/images/logo_new.png","/favicon.ico","/assets/missing.png","/offline.html"])}))}function onActivate(t){console.log("[Serviceworker]","Activating!",t),t.waitUntil(caches.keys().then(function(t){return Promise.all(t.filter(function(t){return 0!==t.indexOf(CACHE_VERSION)}).map(function(t){return caches.delete(t)}))}))}function onFetch(t){t.respondWith(fetch(t.request).catch(function(){}))}function isImage(t){for(var e=iExt.length,n=0;e>n;n++)if(t.indexOf(iExt[n])>=0)return!0;return!1}function onFetch_old(t){if("GET"===t.request.method){var e=t.request.url;t.respondWith(caches.match(t.request).then(function(n){return n?n:fetch(t.request,{mode:"no-cors"}).then(function(n){return console.log("network fetch: "+e),isImage(e)&&caches.put(t.request,n.clone()),n}).catch(function(){return caches.match("/offline.html")})}))}}var CACHE_VERSION="application.js",CACHE_NAME=CACHE_VERSION+":sw-cache-",iExt=[".png",".jpg",".jpeg",".gif",".webp",".bmp"];self.addEventListener("install",onInstall),self.addEventListener("activate",onActivate),self.addEventListener("fetch",onFetch),self.addEventListener("push",function(t){console.log("Received a push message",t);var e={};t.data&&(e=t.data.json());var n=e.title||"Check the message from myUpchar",o=e.body||"Here's something you might want to check out.",i="/android-icon-192x192.png",c="simple-push-demo-notification-tag",a=e.image;t.waitUntil(self.registration.showNotification(n,{body:o,icon:i,image:a,requireInteraction:!0,tag:c,data:{url:e.url}}))}),self.addEventListener("notificationclick",function(t){console.log("On notification click: ",t.notification.tag),t.notification.close(),t.waitUntil(clients.matchAll({type:"window"}).then(function(e){for(var n=0;n<e.length;n++){var o=e[n];if("/"===o.url&&"focus"in o)return o.focus()}return clients.openWindow?clients.openWindow(t.notification.data.url):void 0}))});