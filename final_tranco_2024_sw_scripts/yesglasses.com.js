self.addEventListener("push",function(t){var i=t.data.json();t.waitUntil(Promise.all([self.registration.showNotification(i.title,i),fetch("https://www.yesglasses.com/webpush/read",{method:"post",body:i.data.endpoint+"^|^"+(i.data.tracking||"")})]))}),self.addEventListener("notificationclick",function(t){var i=t.data||t.notification.data,n=i.link;t.action&&("action1"===t.action?n=i.link1:"action2"===t.action?n=i.link2:"action3"===t.action?n=i.link3:"action4"===t.action&&(n=i.link4)),t.notification.close(),n&&t.waitUntil(Promise.all([clients.openWindow(n),fetch("https://www.yesglasses.com/webpush/open",{method:"post",body:i.endpoint+"^|^"+(i.tracking||"")})]))});
