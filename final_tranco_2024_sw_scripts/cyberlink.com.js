self.addEventListener("install",function(c){self.skipWaiting()});self.addEventListener("activate",function(c){});
self.addEventListener("push",function(c){var a=c.data.json(),b={body:a.text,icon:a.icon,image:a.image,data:a,requireInteraction:!0};if(a.actionBtn1_text||a.actionBtn2_text)b.actions=[],a.actionBtn1_text&&b.actions.push({action:"action1",title:a.actionBtn1_text}),a.actionBtn2_text&&b.actions.push({action:"action2",title:a.actionBtn2_text});c.waitUntil(self.registration.showNotification(a.title,b));a={method:"post",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:"webpush_eventId\x3d"+
a.webpush_eventId+"\x26webpush_subscriberId\x3d"+a.webpush_subscriberId};b=new Request("/prog/util/web-notification/ajax/updateWebpushLog_isPushRecieved.jsp");c.waitUntil(fetch(b,a))});
self.addEventListener("notificationclick",function(c){var a=c.notification.data,b="",d="";"action1"===c.action?(b="actionBtn1",d=a.actionBtn1_clickLink):"action2"===c.action?(b="actionBtn2",d=a.actionBtn2_clickLink):a.clickLink&&(b="",d=a.clickLink);a={method:"post",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:"webpush_eventId\x3d"+a.webpush_eventId+"\x26webpush_subscriberId\x3d"+a.webpush_subscriberId+"\x26clickType\x3d"+b};b=new Request("/prog/util/web-notification/ajax/updateWebpushLog_isPushClicked.jsp");
c.waitUntil(fetch(b,a));d&&clients.openWindow(d);c.notification.close()});