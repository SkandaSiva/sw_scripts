var _createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(){'use strict';function a(){return c||(c=new Promise(function(f,g){var h=indexedDB.open('keyval-store',1);h.onerror=function(){g(h.error)},h.onupgradeneeded=function(){h.result.createObjectStore('keyval')},h.onsuccess=function(){f(h.result)}})),c}function b(f,g){return a().then(function(h){return new Promise(function(j,k){var l=h.transaction('keyval',f);l.oncomplete=function(){j()},l.onerror=function(){k(l.error)},g(l.objectStore('keyval'))})})}var c,d={get:function get(f){var g;return b('readonly',function(h){g=h.get(f)}).then(function(){return g.result})},set:function set(f,g){return b('readwrite',function(h){h.put(g,f)})},delete:function _delete(f){return b('readwrite',function(g){g.delete(f)})},clear:function clear(){return b('readwrite',function(f){f.clear()})},keys:function keys(){var f=[];return b('readonly',function(g){(g.openKeyCursor||g.openCursor).call(g).onsuccess=function(){this.result&&(f.push(this.result.key),this.result.continue())}}).then(function(){return f})}};'undefined'!=typeof module&&module.exports?module.exports=d:self.idbKeyval=d})(),function(){'use strict';var a=function(){function b(){_classCallCheck(this,b)}return _createClass(b,[{key:'trackEvent',value:function trackEvent(c,d,f,g){var h=this;return this.trackingId?d||g?self.registration.pushManager.getSubscription().then(function(j){if(null===j)throw new Error('No subscription currently available.');var k={v:1,cid:j.endpoint,tid:h.trackingId,t:'event',ds:'serviceworker',ec:c,ea:d,el:f,ev:g},l=Object.keys(k).filter(function(m){return k[m]}).map(function(m){return m+'='+encodeURIComponent(k[m])}).join('&');return fetch('https://www.google-analytics.com/collect',{method:'post',body:l})}).then(function(j){if(!j.ok)return j.text().then(function(k){throw new Error('Bad response from Google Analytics['+j.status+']'+k)})}).catch(function(j){console.warn('Unable to send the analytics event',j)}):(console.warn('sendAnalyticsEvent() called with no eventAction or eventValue.'),Promise.resolve()):(console.error('You need to set a trackingId, for example:'),console.error('self.analytics.trackingId = \'UA-XXXXXXXX-X\';'),Promise.resolve())}}]),b}();'undefined'!=typeof self&&(self.analytics=new a)}(),self.analytics.trackingId='UA-153245259-1',firstRegisterTime=0,self.addEventListener('install',function(a){firstRegisterTime=new Date().getTime(),a.waitUntil(self.skipWaiting())}),self.addEventListener('activate',function(a){a.waitUntil(Promise.all([self.clients.claim()]))});var langJson={en:['Play Now','Close'],es:['Jugar Ahora','Cerca'],pt:['Jogue Agora','Fechar'],ru:['\u0418\u0433\u0440\u0430\u0442\u044C \u0441\u0435\u0439\u0447\u0430\u0441','\u0431\u043B\u0438\u0437\u043A\u043E'],vi:['B\u1EAFt \u0111\u1EA7u Ch\u01A1i','\u0110\xF3ng'],tr:['\u015Eimdi Oyna','Yak\u0131n'],fr:['Jouer Maintenant','Fermer'],ar:['\u0627\u0644\u0639\u0628 \u0627\u0644\u0627\u0646','\u0642\u0631\u064A\u0628'],th:['\u0E40\u0E25\u0E48\u0E19\u0E40\u0E25\u0E22','\u0E1B\u0E34\u0E14'],zh:['\u73FE\u5728\u73A9','\u95DC\u9589']};function initLang(a,b){lang=(a||'en').toLowerCase().split('-')[0]||'en',_lang=langJson[lang]||langJson.en,self.navigator.language||b||idbKeyval.get('accept-lang').catch(function(){return null}).then(function(c){c&&initLang(c,1)})}initLang(self.navigator.language),self.addEventListener('fetch',function(a){var b=a.request.url,c=a.request.headers.get('Accept-Lang');!self.navigator.language&&-1<b.indexOf('lang.json')&&c&&(initLang(c),idbKeyval.set('accept-lang',c))}),self.addEventListener('push',function(a){var b=null;try{b=a.data.json()}catch(k){}if(b){var c=b.data||{},d=b.notification||{},f=1==c.istest;_action_url=c.url||'',_action_domain=((_action_url.split('/')[2]||'').split('?')[0]||'').split('.')[1]||'_null_',_gid=c.gid||null;var g=d.title;if(c&&_action_url&&g){var h={body:d.body,icon:c.icon||null,image:d.image||null,click_action:_action_url,actions:[{action:'open',title:'\uD83D\uDC4D '+_lang[0]+'!'},{action:'close',title:_lang[1]}],requireInteraction:!0,silent:c.silent||!1};a.waitUntil(Promise.all([self.analytics.trackEvent('Push_msg','received',_gid)]));var j=new Date().getTime();300000>j-firstRegisterTime&&(a.waitUntil(Promise.all([self.analytics.trackEvent('Push_msg','tab_timelimit',_gid)])),!f)||a.waitUntil(clients.matchAll({type:'window'}).then(function(k){for(var m,l=0;l<k.length;l++)if(m=k[l],(-1<m.url.indexOf(location.hostname.replace('www.',''))||-1<m.url.indexOf(_action_domain))&&'focus'in m&&(self.analytics.trackEvent('Push_msg','tab_opened',_gid),!f))return;firstRegisterTime=j,a.waitUntil(Promise.all([self.analytics.trackEvent('Push_msg','show',_gid),self.registration.showNotification(g,h)]))}))}}}),self.addEventListener('notificationclick',function(a){var b=_action_url;switch(a.notification.close(),a.action){case'close':a.waitUntil(Promise.all([self.analytics.trackEvent('Push_msg','btn_close',_gid)]));break;case'open':default:a.waitUntil(Promise.all([self.analytics.trackEvent('Push_msg','btn_open',_gid),clients.openWindow(b)]));}}),self.addEventListener('notificationclose',function(a){a.waitUntil(Promise.all([self.analytics.trackEvent('Push_msg','btn_fold',_gid)]))});