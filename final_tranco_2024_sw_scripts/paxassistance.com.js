(()=>{function t(t,i){return fetch(t,{method:"POST",headers:{"Content-Type":"application/json"}}).then((t=>{t.ok})).catch((t=>{}))}self.addEventListener("push",(i=>{const n=i.data.json(),o={body:n.body,image:n.image||null,icon:n.icon||null,data:n.data||{}};if(self.registration.showNotification(n.title,o),n.data?.receivedEventEndpoint){const o=n.data.receivedEventEndpoint;i.waitUntil(t(o))}})),self.addEventListener("notificationclick",(i=>{if(i.notification.close(),i.notification.data?.clickLink){const t=i.notification.data.clickLink;i.waitUntil(clients.openWindow(t))}if(i.notification.data?.clickedEventEndpoint){const n=i.notification.data.clickedEventEndpoint;i.waitUntil(t(n))}}))})();