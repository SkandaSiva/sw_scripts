!function(){return function e(t,n,r){function a(i,c){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!c&&u)return u(i,!0);if(o)return o(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){return a(t[i][1][e]||e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}}()({1:[function(e,t,n){"use strict";function r(e,t){var n=e[0],r=e[1],a=e[2],s=e[3];r=u(r=u(r=u(r=u(r=c(r=c(r=c(r=c(r=i(r=i(r=i(r=i(r=o(r=o(r=o(r=o(r,a=o(a,s=o(s,n=o(n,r,a,s,t[0],7,-680876936),r,a,t[1],12,-389564586),n,r,t[2],17,606105819),s,n,t[3],22,-1044525330),a=o(a,s=o(s,n=o(n,r,a,s,t[4],7,-176418897),r,a,t[5],12,1200080426),n,r,t[6],17,-1473231341),s,n,t[7],22,-45705983),a=o(a,s=o(s,n=o(n,r,a,s,t[8],7,1770035416),r,a,t[9],12,-1958414417),n,r,t[10],17,-42063),s,n,t[11],22,-1990404162),a=o(a,s=o(s,n=o(n,r,a,s,t[12],7,1804603682),r,a,t[13],12,-40341101),n,r,t[14],17,-1502002290),s,n,t[15],22,1236535329),a=i(a,s=i(s,n=i(n,r,a,s,t[1],5,-165796510),r,a,t[6],9,-1069501632),n,r,t[11],14,643717713),s,n,t[0],20,-373897302),a=i(a,s=i(s,n=i(n,r,a,s,t[5],5,-701558691),r,a,t[10],9,38016083),n,r,t[15],14,-660478335),s,n,t[4],20,-405537848),a=i(a,s=i(s,n=i(n,r,a,s,t[9],5,568446438),r,a,t[14],9,-1019803690),n,r,t[3],14,-187363961),s,n,t[8],20,1163531501),a=i(a,s=i(s,n=i(n,r,a,s,t[13],5,-1444681467),r,a,t[2],9,-51403784),n,r,t[7],14,1735328473),s,n,t[12],20,-1926607734),a=c(a,s=c(s,n=c(n,r,a,s,t[5],4,-378558),r,a,t[8],11,-2022574463),n,r,t[11],16,1839030562),s,n,t[14],23,-35309556),a=c(a,s=c(s,n=c(n,r,a,s,t[1],4,-1530992060),r,a,t[4],11,1272893353),n,r,t[7],16,-155497632),s,n,t[10],23,-1094730640),a=c(a,s=c(s,n=c(n,r,a,s,t[13],4,681279174),r,a,t[0],11,-358537222),n,r,t[3],16,-722521979),s,n,t[6],23,76029189),a=c(a,s=c(s,n=c(n,r,a,s,t[9],4,-640364487),r,a,t[12],11,-421815835),n,r,t[15],16,530742520),s,n,t[2],23,-995338651),a=u(a,s=u(s,n=u(n,r,a,s,t[0],6,-198630844),r,a,t[7],10,1126891415),n,r,t[14],15,-1416354905),s,n,t[5],21,-57434055),a=u(a,s=u(s,n=u(n,r,a,s,t[12],6,1700485571),r,a,t[3],10,-1894986606),n,r,t[10],15,-1051523),s,n,t[1],21,-2054922799),a=u(a,s=u(s,n=u(n,r,a,s,t[8],6,1873313359),r,a,t[15],10,-30611744),n,r,t[6],15,-1560198380),s,n,t[13],21,1309151649),a=u(a,s=u(s,n=u(n,r,a,s,t[4],6,-145523070),r,a,t[11],10,-1120210379),n,r,t[2],15,718787259),s,n,t[9],21,-343485551),e[0]=g(n,e[0]),e[1]=g(r,e[1]),e[2]=g(a,e[2]),e[3]=g(s,e[3])}function a(e,t,n,r,a,o){return g((t=g(g(t,e),g(r,o)))<<a|t>>>32-a,n)}function o(e,t,n,r,o,i,c){return a(t&n|~t&r,e,t,o,i,c)}function i(e,t,n,r,o,i,c){return a(t&r|n&~r,e,t,o,i,c)}function c(e,t,n,r,o,i,c){return a(t^n^r,e,t,o,i,c)}function u(e,t,n,r,o,i,c){return a(n^(t|~r),e,t,o,i,c)}function s(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Object.defineProperty(n,"__esModule",{value:!0});var l="0123456789abcdef".split("");function f(e){for(var t="",n=0;n<4;n++)t+=l[e>>8*n+4&15]+l[e>>8*n&15];return t}function g(e,t){return e+t&4294967295}n.default=function(e){return function(e){for(var t=0;t<e.length;t++)e[t]=f(e[t]);return e.join("")}(function(e){var t,n=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)r(a,s(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(a,o),t=0;t<16;t++)o[t]=0;return o[14]=8*n,r(a,o),a}(e))}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(9),a=/(\/amp|\.amp)/g;n.default=function(e){var t=e.request.url.replace(a,"");caches.open(r.CACHE_KEY).then(function(n){return n.match(e.request).then(function(e){var r;e||(r=t,new Promise(function(e,t){fetch(r).then(function(t){return e(t)}).catch(function(e){return t(e)})})).then(function(e){n.delete(t),n.put(t,e).catch(function(e){window.console.log("Unable to place chameleon article in cache",e),n.delete(t)})}).catch(function(e){return window.console.log("Unable to fetch chameleon page: ",e)})})})}},{9:9}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.deleteCaches=n.response=void 0;var r,a=e(9),o=e(1),i=(r=o)&&r.__esModule?r:{default:r};var c="offline/",u=2e3,s=[{name:"gpt",pattern:function(e){return"https://www.googletagservices.com/tag/js/gpt.js"===e}},{name:"permutive",pattern:function(e){return"https://d3alqb8vzo7fun.cloudfront.net/8a2c2f13-f564-4fff-8d22-177534028b95-1.0.js"===e}},{name:"weather.com",pattern:function(e){return e.startsWith("https://widgets-stage.weather.com/")}},{name:"gigya",pattern:function(e){return e.startsWith("https://cdns.gigya.com/JS/gigya.js")}},{name:"facebook",pattern:function(e){return"https://connect.facebook.net/en_US/sdk.js"===e}},{name:"onscroll",pattern:function(e){return e.match(/tags\.onscroll\.com.*/)}}],l=[{name:"breaking-news",pattern:function(e){return e.match(/\/breaking-news-client\/breaking\//)}}];function f(e){e.modal&&e.removeChild(e.modal),delete e.modal,clearTimeout(e.modalTimeout),e.classList.remove("skeleton")}n.default=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).modalTimeout,n=arguments[2].clog,r=window.localStorage.getItem(a.HASH_KEY),o=window.localStorage.getItem(a.DATE_KEY),i=new Promise(function(i,c){!function(e){var t=document.createElement("DIV");t.className="modal",e.appendChild(t),e.classList.add("skeleton"),e.modal=t}(e),e.modalTimeout=setTimeout(function(){f(e),n("Timed out getting new version"),c("TIMEOUT"),n("TIMEOUT")},t||u),caches.open(a.CACHE_KEY).then(function(e){e.match(location.href).then(function(e){if(e){var t=e.headers.get(a.HASH_PREFIX),n=e.headers.get("date");e.text().then(function(e){r!==t&&Date(n)>Date(o)&&i({content:e,contentHash:t,status:"networkCacheUpdate",date:n})})}})}),navigator.serviceWorker.addEventListener("message",function(e){if(e.origin===location.origin){var t=e.data;if(t&&"NEW_VERSION"===t.message&&t.url===location.href){n("Updating from sw message"),n("NETWORK UPDATE");var r={content:t.content,contentHash:t.contentHash,status:"networkUpdate",date:t.date};i(r)}}})});return i.then(function(t){n("GETDATA RESOLVED"),function(e,t){if(window.localStorage.getItem(a.HASH_KEY)!==t.contentHash){var n=document.implementation.createHTMLDocument("temp");n.documentElement.innerHTML=t.content,e.parentNode.replaceChild(n.querySelector("main"),e),f(e);var r=document.createEvent("HTMLEvents");r.initEvent("component.activate",!0,!0),r.data={},document.querySelector("main").dispatchEvent(r),window.localStorage.setItem(a.HASH_KEY,t.contentHash),window.localStorage.setItem(a.DATE_KEY,t.date)}else f(e)}(e,t),n(t.status)}).catch(function(e){n("GETDATA REJECTED"),n("Error getting data: "+e)}),i},n.response=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments[3],o=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).debug,u=e.request.url,f=function(){};o&&(f=function(e){console.log("[TM PWA] "+e)});var g=u.match(/\/\/.+?\//)[0].includes(t),d=g&&!u.includes("service-worker.0e80cf9f857d399a.js");if((d=function(e,t){for(var n=s.length,r=l.length,a=0;!t&&a<n;)t=s[a].pattern(e),a++;for(a=0;t&&a<r;)l[a].pattern(e)&&(t=!1),a++;return t}(u,d))&&"GET"===e.request.method){var h="navigate"===e.request.mode,p=r.cacheFirst&&r.cacheFirst.useCachedHtml;if(h&&!p)return;e.respondWith(caches.open(a.CACHE_KEY).then(function(t){return t.match(e.request).then(function(e){h&&e&&f("CACHE RESPONSE");var t={};g||(t.mode="no-cors");var o=fetch(u,t).then(function(e){var t=void 0;if(h){var n=e.clone(),r={status:n.status,statusText:n.statusText,headers:{}};n.headers.forEach(function(e,t){r.headers[t]=e}),t=n.text().then(function(e){return r.headers[a.HASH_PREFIX]=(0,i.default)(e),new Response(e,r)}),f("NETWORK RESPONSE")}return caches.open(a.CACHE_KEY).then(function(n){h?t.then(function(e){n.delete(u),n.put(u,e.clone()).then(function(){e.clone().text().then(function(t){!function(e,t){var n=t.clog;e.message="NEW_VERSION",clients.matchAll().then(function(t){t.forEach(function(t){n("Posting message"),t.postMessage(e)})})}({url:u,content:t,contentHash:e.headers.get(a.HASH_PREFIX),date:e.headers.get("date")},{clog:f})})}).catch(function(e){n.delete(u),f("Error updating cache - deleting entry: "+e)})}):(n.delete(u),n.put(u,e.clone()).catch(function(e){n.delete(u),f("Error updating cache - deleting entry: "+e)}))}),t?Promise.resolve(t.then(function(e){return e.clone()})):e.clone()}).catch(function(e){if(f(e),r.offlineSupport&&h)return console.log("OFFLINE"),caches.match(n+c)});return e||o})}))}},n.deleteCaches=function(){caches.keys().then(function(e){return Promise.all(e.filter(function(e){return e.startsWith(a.CACHE_NAME)}).map(function(e){if(e!==a.CACHE_KEY)return caches.delete(e)}))})}},{1:1,9:9}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getConfig=void 0,n.stub=function(e){var t={getConfig:s};return n.getConfig=s=e.stub(),{getConfig:s,restore:function(){n.getConfig=s=t.getConfig}}};var r,a=e(5),o=(r=a)&&r.__esModule?r:{default:r};var i="config",c=1,u=3e3;function s(e){return new Promise(function(t,n){setTimeout(n,u),(0,o.default)(e,i).then(function(e){var n=e.get(c);n.onsuccess=function(){t(n.result.config)}})})}n.default=function(e,t){return(0,o.default)(e,i,"readwrite").then(function(e){e.put({version:c,config:t})})},n.getConfig=s},{5:5}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=[{name:"config",key:"version"},{name:"pageviews",key:"url"}];n.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"readonly";return new Promise(function(a,o){var i=e.open("marwood-pwa",1);i.onupgradeneeded=function(){r.forEach(function(e){i.result.objectStoreNames.contains(e.name)||i.result.createObjectStore(e.name,{keyPath:e.key})})},i.onsuccess=function(){if(i.result.onversionchange=function(e){null===e.newVersion&&e.target.close()},i&&i.result&&i.result.objectStoreNames.contains(t)){var e=i.result.transaction(t,n).objectStore(t);if(e)return void a(e)}o()}})}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFirstTag=n.getQueue=n.writeTagToQueue=n.checkForQueue=n.recursivelyAddTags=void 0;var r=e(9);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(){return JSON.parse(localStorage.getItem("pwaTagQueue"))},i=function(){var e=o();if(e){var t,n=(t=e,Array.isArray(t)?t:Array.from(t)),r=n[0],i=n.slice(1);return{tag:r,removeTagFromQueue:function(){i.length?localStorage.setItem("pwaTagQueue",JSON.stringify([].concat(a(i)))):localStorage.removeItem("pwaTagQueue")}}}},c=function(e){var t=e.publication,n=e.href,a=e.tagName;return new Promise(function(e,o){(0,r.externalDebug)("attempting "+a+" to channel"),window.UA||o(),window.UA.then(function(o){o.addEventListener("tags",function(){(0,r.externalDebug)(a+" added to channel"),e()}),o.addEventListener("channel",function(o){var i=o.channel;(function(e,t){return new Promise(function(n,a){try{caches.open(r.MANIFEST_CACHE_NAME+":"+e).then(function(e){e.match(t).then(function(e){var t=e.clone();n(t)})})}catch(e){a(e)}})})(t,n).then(function(o){o&&[r.MANIFEST_CACHE_NAME+":"+t,r.MANIFEST_CACHE_NAME+":"+i.id+":"+a].forEach(function(e){return function(e,t,n){caches.open(e).then(function(e){e.put(t,n)})}(e,n,o.clone())});i.tags.has(a)&&e(),i.tags.add(a)})}),o.register()})})};n.recursivelyAddTags=function e(){var t=i();if(t){var n=t.tag,a=t.removeTagFromQueue;c(n).then(function(){a(),e()})}else(0,r.externalDebug)("No more tags in tag queue")},n.checkForQueue=function(){return!!localStorage.getItem("pwaTagQueue")},n.writeTagToQueue=function(e){var t=o(),n=(t?new(Function.prototype.bind.apply(Array,[null].concat(a(t)))):[]).concat(e);localStorage.setItem("pwaTagQueue",JSON.stringify(n))},n.getQueue=o,n.getFirstTag=i},{9:9}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.track=function(e,t){(0,o.default)(e,i,"readwrite").then(function(e){e.put({url:t,timestamp:(new Date).getTime()})})},n.offlineLandingTracking=function(){var e=localStorage.getItem(c);return localStorage.removeItem(c),e},n.trackOfflineLanding=function(){localStorage.setItem(c,Number(localStorage.getItem(c)||0)+1)};var r,a=e(5),o=(r=a)&&r.__esModule?r:{default:r};var i="pageviews",c="offlineLandingPageViews";n.default=function(e,t){(0,o.default)(e,i,"readwrite").then(function(e){var n=e.count();n.onsuccess=function(){var r=n.result-1;r>0&&t(r),e.clear()}})}},{5:5}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeSignUp=n.externalDebug=n.openNotification=n.showNotification=n.COMMANDS=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=e(9),o=e(4),i=e(6),c={UNSUBSCRIBE:"unsubscribe"},u=function(e,t,n){var r=window.TMCONFIG&&window.TMCONFIG.features&&window.TMCONFIG.features.writeTagToLocalStorage;r?((0,a.externalDebug)("writing tag to local storage"),(0,i.writeTagToQueue)({href:document.querySelector("link[rel=manifest]").href,publication:e,tagName:t}),n&&((0,a.externalDebug)("writing subsets to local storage"),n.forEach(function(e){var t=e.homepage,n=e.manifest,r=e.tagName;(0,i.writeTagToQueue)({href:n,path:t,tagName:r})})),(0,i.recursivelyAddTags)()):((0,a.externalDebug)("creating airship sdk"),window.UA.then(function(o){(0,a.externalDebug)("got airship sdk"),o.addEventListener("channel",function(i){window.TMCONFIG&&window.TMCONFIG.features&&window.TMCONFIG.features.includeTemporaryAirshipTag&&(o.channel.tags.add("UA_temporary_tag"),(0,a.externalDebug)("temporary airship tag added")),(0,a.externalDebug)("airship channel created "+i.channel.id);var c=document.querySelector("link[rel=manifest]").href;caches.open(a.MANIFEST_CACHE_NAME+":"+e).then(function(n){(0,a.externalDebug)("opened cache: "+a.MANIFEST_CACHE_NAME+":"+e),n.match(c).then(function(e){if(e){(0,a.externalDebug)("Got manifest cache");var n=a.MANIFEST_CACHE_NAME+":"+i.channel.id,r=e.clone();(0,a.externalDebug)("Checking existing cache: "+a.MANIFEST_CACHE_NAME+":"+i.channel.id),caches.has(n).then(function(e){e||((0,a.externalDebug)("Cache does not exist, writing to it"),caches.open(n).then(function(e){(0,a.externalDebug)("storing channel cache as "+n),e.put(c,r)}))});var o=n+":"+t;caches.open(o).then(function(t){(0,a.externalDebug)("storing tag cache as "+o),t.put(c,e.clone())})}else(0,a.externalDebug)("No manifest response from "+c)})}),n&&n.forEach(function(e){var t=e.publication,n=e.tagName,r=e.manifest;caches.open(a.MANIFEST_CACHE_NAME+":"+t).then(function(e){e.match(r).then(function(e){if(e){(0,a.externalDebug)("Got manifest cache for subset "+t+" "+n);var o=a.MANIFEST_CACHE_NAME+":"+i.channel.id+":"+n;caches.open(o).then(function(t){(0,a.externalDebug)("storing subset tag cache as "+o),t.put(r,e.clone())})}})})}),t&&!r?((0,a.externalDebug)("adding channel tag "+t),o.channel.tags.add(t),n&&n.forEach(function(e){(0,a.externalDebug)("adding channel tags "+e.tagName),o.channel.tags.add(e.tagName)})):(0,a.externalDebug)("no tagName")}),o.register()}))};n.default=function(e,t,n,r){(0,a.externalDebug)("airship signup started: "+e+" "+t);var o={userVisibleOnly:!0,applicationServerKey:(0,a.urlBase64ToUint8Array)(n)};navigator.serviceWorker.ready.then(function(n){(0,a.externalDebug)("service worker registered"),n.pushManager.getSubscription().then(function(i){i?((0,a.externalDebug)("got previous subscription, unsubscribing"),i.unsubscribe().then(function(){(0,a.externalDebug)("unsubscribe successful, creating new push manager subscription"),n.pushManager.subscribe(o).then(function(){(0,a.externalDebug)("push manager subscription created, creating airship subscription"),localStorage.setItem("newPushProvider",!0),u(e,t,r)})})):((0,a.externalDebug)("no previous subscription, creating push manager subscription"),n.pushManager.subscribe(o).then(function(){(0,a.externalDebug)("push manager subscription created, creating airship subscription"),localStorage.setItem("newPushProvider",!0),u(e,t,r)}))})})},n.COMMANDS=c,n.showNotification=function(e){var t=e.data.json(),n=t.body,i=t.url,c=t.silent,u=t.publication,s=t.channel_id,l=t.action,f=void 0===l?{}:l,g=t.title,d=t.icon,h=f["^+t"],p=u||s,m=a.MANIFEST_CACHE_NAME+":"+p+(h?":"+h:""),v=self.denied;if(!(v&&v.filter(function(e){return e.includes(":"+h)}).length>0)){var E=(0,o.getConfig)(indexedDB),b=caches.open(m).then(function(e){return e.keys()}).then(function(e){return caches.open(m).then(function(t){return t.match(e[e.length-1])})}).then(function(e){return e.json()}),A=Promise.all([b,E]).then(function(e){var t=r(e,2),o=t[0],u=t[1],s=u.options&&u.options.pushSticky&&self.navigator.appVersion.includes("Win"),l={icon:(0,a.getAssetUrl)(d||o.push_options.icon),badge:(0,a.getAssetUrl)(o.push_options.badge),data:{url:i||f["^u"]},silent:c};return g&&(l.body=n),s&&(l.requireInteraction=!0,l.actions=[{action:"open",title:"Open"},{action:"close",title:"Close"}]),self.registration.showNotification(g||n,l)});e.waitUntil(A)}},n.openNotification=function(e){var t=e.notification,n=e.action,r=t.data,a=r.url,o=r.action,i=void 0===o?{}:o;if("close"===n)t.close();else{var c=a||i["^u"];c&&self.clients.openWindow(c+"?int_source=push"),t.close()}e.stopPropagation()},n.externalDebug=a.externalDebug,n.removeSignUp=function(e,t){navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:c.UNSUBSCRIBE,message:e+":"+t})}},{4:4,6:6,9:9}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=/(.*\/amp\/.*|.*\.amp)/g,a="TM-Hash-"+location.href,o="TM-Date-"+location.href;n.CACHE_KEY="marwood-767fbdbd105bf63cf96b89c1b23ff161",n.CACHE_NAME="marwood",n.MANIFEST_CACHE_NAME="manifestCache",n.urlBase64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r},n.isAmpArticle=function(e){return e.match(r)},n.HASH_PREFIX="TM-Hash",n.HASH_KEY=a,n.DATE_KEY=o,n.PUSH_SERVICE_KEY="airship",n.PUSH_SERVICE_SCRIPT="https://aswpsdkus.com/notify/v1/ua-sdk.min.js",n.getAssetUrl=function(e){return e&&e.replace?e.replace("prod",function(e){return/-bertha\./.test(e)?"bertha":/-stable\./.test(e)?"stable":"prod"}(self.location)):e},n.path=function(e,t){if(e&&t){var n=e.split?e.split("."):e;if(n.reduce)return n.reduce(function(e,t){return e&&e[t]?e[t]:void 0},t)}},n.externalDebug=function(e,t){t&&localStorage.removeItem("airship");var n=JSON.parse(localStorage.getItem("airship")||"[]");e.length&&n.push(e),localStorage.setItem("airship",JSON.stringify(n))}},{}],10:[function(e,t,n){"use strict";var r,a=e(7),o=e(3),i=e(8),c=e(9),u=e(2),s=(r=u)&&r.__esModule?r:{default:r};var l=new URLSearchParams(self.location.search),f=l.get("pushDisplayService"),g=l.get("pwaDebug"),d={},h=[];if(self.addEventListener("notificationclick",i.openNotification),f){importScripts(c.PUSH_SERVICE_SCRIPT);var p=decodeURIComponent(l.get("a")),m=decodeURIComponent(l.get("t")),v=decodeURIComponent(l.get("vap"));uaSetup&&"function"==typeof uaSetup.worker&&uaSetup.worker(self,{defaultIcon:"",defaultTitle:"",defaultActionURL:"",appKey:p,token:m,vapidPublicKey:v})}else self.addEventListener("push",i.showNotification);self.addEventListener("install",function(e){d.cacheFirst=l.get("cacheFirst"),d.offlineSupport=l.get("offlineSupport"),self.skipWaiting(),d.offlineSupport&&e.waitUntil(clients.matchAll().then(function(e){e.forEach(function(e){e.postMessage({message:"SERVICE_WORKER_INSTALL"})})}))}),self.addEventListener("activate",function(e){d.cacheFirst&&(0,o.deleteCaches)([c.MANIFEST_CACHE_NAME]),d.offlineSupport&&h.push(clients.claim()),h.length&&e.waitUntil(Promise.all(h))}),self.addEventListener("fetch",function(e){if(d.offlineSupport&&"navigate"===e.request.mode&&((0,a.track)(indexedDB,e.request.url),(0,c.isAmpArticle)(e.request.url)&&(0,s.default)(e)),d.cacheFirst){var t=self.origin.replace(/^[^.]+\./,"");t.includes("://")&&(t=t.split("://")[1]);var n=self.registration.scope.replace(self.origin,"");(0,o.response)(e,t,n,d,{debug:g})}}),self.addEventListener("message",function(e){var t=e.data,n=t.command,r=t.message;switch(n){case i.COMMANDS.UNSUBSCRIBE:self.denied=self.denied||[],self.denied.push(r)}})},{2:2,3:3,7:7,8:8,9:9}]},{},[10]);
//# sourceMappingURL=service-worker.js.map
/*@VERSION@:service-worker.2cbeab80f7d713aa.js*/