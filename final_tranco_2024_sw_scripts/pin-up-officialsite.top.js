(()=>{"use strict";var t={670:function(t,i,o){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var a=n(o(573));a.default.addEventListener("push",(function(t){if(a.default.Notification&&"granted"===a.default.Notification.permission){var i=null;try{t.data&&(i=t.data.json())}catch(t){return console.log(t),!1}i&&t.waitUntil(function(t){var i="",o={};if(t){if(i=t.notification.title,o={body:t.notification.message,icon:t.notification.icon,tag:t.notification.tag,requireInteraction:!0,data:{url:t.notification.url}},t.actions)for(var n in o.actions=[],t.actions)o.actions.push(t.actions[n]),o.data[n]=t.actions[n].url;t.notification.image&&(o.image=t.notification.image)}return a.default.registration.showNotification(i,o)}(i))}})),a.default.refreshNotifications=function(t){void 0===t?a.default.clients.matchAll({type:"window"}).then((function(t){a.default.refreshNotifications(t)})):t.forEach((function(t){t.url.search(/notifications/i)>=0&&t.postMessage("reload"),t.postMessage("refreshNotifications")}))},a.default.addEventListener("notificationclick",(function(t){console.log("Notification click: tag ",t.notification.tag),console.log("Notification click: url ",t.notification.data.url);var i=t.notification.data.url;if(t.notification.close(),t.action){var o=t.action.split("_")[1];i=t.notification.data[o]}t.waitUntil(a.default.clients.matchAll({type:"window"}).then((function(t){if(t.forEach((function(t){t.url===i&&"focus"in t&&t.focus()})),a.default.clients.openWindow)return a.default.clients.openWindow(i)})))}))},573:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=self}},i={};(function o(n){var a=i[n];if(void 0!==a)return a.exports;var e=i[n]={exports:{}};return t[n].call(e.exports,e,e.exports,o),e.exports})(670)})();